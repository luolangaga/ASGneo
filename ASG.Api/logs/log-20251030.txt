2025-10-30 18:13:48.046 +08:00 [WRN] The 'UserRole' property 'Role' on entity type 'User' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'UserRole' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-30 18:13:48.163 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-10-30 18:13:48.170 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-10-30 18:13:48.177 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-10-30 18:13:48.187 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-10-30 18:13:48.205 +08:00 [INF] User profile is available. Using 'C:\Users\luolan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-30 18:13:48.267 +08:00 [INF] Now listening on: http://localhost:5250
2025-10-30 18:13:48.268 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 18:13:48.269 +08:00 [INF] Hosting environment: Development
2025-10-30 18:13:48.270 +08:00 [INF] Content root path: C:\Users\luolan\ASG\ASG.Api
2025-10-30 18:14:01.701 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/register - application/json 2
2025-10-30 18:14:01.721 +08:00 [WRN] Failed to determine the https port for redirect.
2025-10-30 18:14:01.745 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:14:01.757 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:14:01.789 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-30 18:14:01.809 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 47.7664ms
2025-10-30 18:14:01.810 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:14:01.813 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/register - 400 null application/problem+json; charset=utf-8 112.5807ms
2025-10-30 18:14:13.634 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/register - application/json 97
2025-10-30 18:14:13.639 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:14:13.640 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:14:13.650 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-30 18:14:13.652 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 9.6355ms
2025-10-30 18:14:13.654 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:14:13.656 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/register - 400 null application/problem+json; charset=utf-8 21.9861ms
2025-10-30 18:14:43.684 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/register - application/json 111
2025-10-30 18:14:43.689 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:14:43.689 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:14:43.828 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:14:43.888 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 18:14:43.892 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:14:43.988 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (Size = 16), @p5='?' (DbType = Boolean), @p6='?' (Size = 4), @p7='?' (Size = 4), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 16), @p11='?' (Size = 16), @p12='?' (Size = 84), @p13='?', @p14='?' (DbType = Boolean), @p15='?' (Size = 4), @p16='?' (Size = 32), @p17='?' (DbType = Guid), @p18='?' (DbType = Boolean), @p19='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "AccessFailedCount", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "Role", "SecurityStamp", "TeamId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19)
RETURNING "IsActive", "UpdatedAt";
2025-10-30 18:14:44.036 +08:00 [INF] User registered successfully: test@example.com
2025-10-30 18:14:44.038 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-10-30 18:14:44.047 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 356.2307ms
2025-10-30 18:14:44.049 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:14:44.051 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/register - 200 null application/json; charset=utf-8 366.349ms
2025-10-30 18:14:55.910 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/register - application/json 111
2025-10-30 18:14:55.912 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:14:55.913 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:14:55.943 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:14:55.948 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-30 18:14:55.953 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 37.6975ms
2025-10-30 18:14:55.954 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:14:55.955 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/register - 400 null application/json; charset=utf-8 45.3897ms
2025-10-30 18:15:14.967 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/login - application/json 56
2025-10-30 18:15:14.970 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-10-30 18:15:14.973 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:15:14.979 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:15:15.024 +08:00 [INF] User logged in successfully: test@example.com
2025-10-30 18:15:15.025 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-10-30 18:15:15.027 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 51.5491ms
2025-10-30 18:15:15.028 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-10-30 18:15:15.029 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/login - 200 null application/json; charset=utf-8 61.491ms
2025-10-30 18:16:25.078 +08:00 [WRN] The 'UserRole' property 'Role' on entity type 'User' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'UserRole' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-30 18:16:25.175 +08:00 [WRN] The 'UserRole' property 'Role' on entity type 'User' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'UserRole' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-30 18:17:12.492 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-10-30 18:17:12.517 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-10-30 18:17:12.525 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-10-30 18:17:12.534 +08:00 [INF] Applying migration '20251030101625_FixUserRoleDefaultValue'.
2025-10-30 18:17:12.558 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251030101625_FixUserRoleDefaultValue', '8.0.0');
2025-10-30 18:17:12.570 +08:00 [INF] Applying migration '20251030101702_AddUserRoleNoneValue'.
2025-10-30 18:17:12.581 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251030101702_AddUserRoleNoneValue', '8.0.0');
2025-10-30 18:17:22.007 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-10-30 18:17:22.035 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-10-30 18:17:22.045 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-10-30 18:17:22.056 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-10-30 18:17:22.070 +08:00 [INF] User profile is available. Using 'C:\Users\luolan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-30 18:17:22.103 +08:00 [INF] Now listening on: http://localhost:5250
2025-10-30 18:17:22.105 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 18:17:22.106 +08:00 [INF] Hosting environment: Development
2025-10-30 18:17:22.108 +08:00 [INF] Content root path: C:\Users\luolan\ASG\ASG.Api
2025-10-30 18:17:47.388 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/auth/register - application/json 125
2025-10-30 18:17:47.406 +08:00 [WRN] Failed to determine the https port for redirect.
2025-10-30 18:17:47.419 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:17:47.430 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:17:47.457 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-30 18:17:47.475 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 41.4705ms
2025-10-30 18:17:47.477 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:17:47.480 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/auth/register - 400 null application/problem+json; charset=utf-8 93.0029ms
2025-10-30 18:18:19.648 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/auth/register - application/json 120
2025-10-30 18:18:19.654 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:18:19.656 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:18:19.790 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:18:19.843 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 18:18:19.846 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:18:19.937 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (Size = 19), @p5='?' (DbType = Boolean), @p6='?' (Size = 3), @p7='?' (Size = 4), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 19), @p11='?' (Size = 19), @p12='?' (Size = 84), @p13='?', @p14='?' (DbType = Boolean), @p15='?' (Size = 4), @p16='?' (Size = 32), @p17='?' (DbType = Guid), @p18='?' (DbType = Boolean), @p19='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "AccessFailedCount", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "Role", "SecurityStamp", "TeamId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19)
RETURNING "IsActive", "UpdatedAt";
2025-10-30 18:18:19.982 +08:00 [INF] User registered successfully: newuser@example.com
2025-10-30 18:18:19.984 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-10-30 18:18:19.994 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 336.163ms
2025-10-30 18:18:19.995 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:18:19.997 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/auth/register - 200 null application/json; charset=utf-8 349.4038ms
2025-10-30 18:18:43.585 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/auth/login - application/json 66
2025-10-30 18:18:43.589 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-10-30 18:18:43.593 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:18:43.631 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:18:43.678 +08:00 [INF] User logged in successfully: newuser@example.com
2025-10-30 18:18:43.680 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-10-30 18:18:43.681 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 86.7818ms
2025-10-30 18:18:43.683 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-10-30 18:18:43.684 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/auth/login - 200 null application/json; charset=utf-8 99.0028ms
2025-10-30 18:50:31.055 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/auth/test - null null
2025-10-30 18:50:31.062 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/auth/test - 404 0 null 6.6566ms
2025-10-30 18:50:31.064 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5250/api/auth/test, Response status code: 404
2025-10-30 18:50:42.728 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/auth/register - application/json 2
2025-10-30 18:50:42.729 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:50:42.730 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:50:42.732 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-30 18:50:42.733 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 2.4127ms
2025-10-30 18:50:42.734 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:50:42.735 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/auth/register - 400 null application/problem+json; charset=utf-8 6.5403ms
2025-10-30 18:50:54.237 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/auth/register - application/json 109
2025-10-30 18:50:54.239 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:50:54.240 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:50:54.244 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:50:54.247 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-30 18:50:54.249 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 7.8165ms
2025-10-30 18:50:54.249 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:50:54.250 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/auth/register - 400 null application/json; charset=utf-8 12.3068ms
2025-10-30 18:51:05.974 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/auth/login - application/json 68
2025-10-30 18:51:05.976 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-10-30 18:51:05.976 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:51:05.978 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:51:06.017 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-30 18:51:06.017 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 40.3599ms
2025-10-30 18:51:06.018 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-10-30 18:51:06.019 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/auth/login - 401 null application/json; charset=utf-8 44.5009ms
2025-10-30 18:51:17.549 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/auth/register - application/json 118
2025-10-30 18:51:17.551 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:51:17.552 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:51:17.554 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:51:17.593 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 18:51:17.594 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:51:17.597 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (Size = 17), @p5='?' (DbType = Boolean), @p6='?' (Size = 8), @p7='?' (Size = 4), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 17), @p11='?' (Size = 17), @p12='?' (Size = 84), @p13='?', @p14='?' (DbType = Boolean), @p15='?' (Size = 4), @p16='?' (Size = 32), @p17='?' (DbType = Guid), @p18='?' (DbType = Boolean), @p19='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "AccessFailedCount", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "Role", "SecurityStamp", "TeamId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19)
RETURNING "IsActive", "UpdatedAt";
2025-10-30 18:51:17.607 +08:00 [INF] User registered successfully: testuser@demo.com
2025-10-30 18:51:17.607 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-10-30 18:51:17.608 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 55.3858ms
2025-10-30 18:51:17.609 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-10-30 18:51:17.609 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/auth/register - 200 null application/json; charset=utf-8 60.367ms
2025-10-30 18:51:29.204 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/auth/login - application/json 67
2025-10-30 18:51:29.206 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-10-30 18:51:29.207 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-10-30 18:51:29.209 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 18:51:29.248 +08:00 [INF] User logged in successfully: testuser@demo.com
2025-10-30 18:51:29.248 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-10-30 18:51:29.249 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 41.0428ms
2025-10-30 18:51:29.249 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-10-30 18:51:29.250 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/auth/login - 200 null application/json; charset=utf-8 45.6149ms
