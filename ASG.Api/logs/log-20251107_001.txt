2025-11-07 22:15:46.539 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-07 22:15:46.569 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-07 22:15:46.577 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-07 22:15:46.590 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-11-07 22:15:46.606 +08:00 [INF] User profile is available. Using 'C:\Users\luolan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-07 22:15:46.644 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5250: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: 通常每个套接字地址(协议/网络地址/端口)只允许使用一次。
 ---> System.Net.Sockets.SocketException (10048): 通常每个套接字地址(协议/网络地址/端口)只允许使用一次。
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-11-07 22:16:41.879 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-07 22:16:41.917 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-07 22:16:41.927 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-07 22:16:41.939 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-11-07 22:16:41.957 +08:00 [INF] User profile is available. Using 'C:\Users\luolan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-07 22:16:42.001 +08:00 [INF] Now listening on: http://localhost:5250
2025-11-07 22:16:42.004 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-07 22:16:42.005 +08:00 [INF] Hosting environment: Development
2025-11-07 22:16:42.007 +08:00 [INF] Content root path: C:\Users\luolan\ASG\ASG.Api
2025-11-07 22:18:53.981 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/ - null null
2025-11-07 22:18:54.026 +08:00 [WRN] Failed to determine the https port for redirect.
2025-11-07 22:18:54.045 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/ - 404 0 null 66.7357ms
2025-11-07 22:18:54.055 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5250/, Response status code: 404
2025-11-07 22:19:08.958 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar - null null
2025-11-07 22:19:08.966 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2025-11-07 22:19:08.971 +08:00 [INF] Executing RedirectResult, redirecting to scalar/.
2025-11-07 22:19:08.974 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2025-11-07 22:19:08.977 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar - 302 0 null 18.2344ms
2025-11-07 22:19:08.984 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar/ - null null
2025-11-07 22:19:08.991 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2025-11-07 22:19:09.049 +08:00 [INF] Write content with HTTP Response ContentType of text/html
2025-11-07 22:19:09.051 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2025-11-07 22:19:09.053 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar/ - 200 615 text/html 68.4447ms
2025-11-07 22:19:09.106 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar/scalar.js - null null
2025-11-07 22:19:09.106 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar/scalar.aspnetcore.js - null null
2025-11-07 22:19:09.109 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.js'
2025-11-07 22:19:09.113 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2025-11-07 22:19:09.118 +08:00 [INF] Sending file with download name ''.
2025-11-07 22:19:09.118 +08:00 [INF] Sending file with download name ''.
2025-11-07 22:19:09.123 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2025-11-07 22:19:09.125 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar/scalar.aspnetcore.js - 200 1046 text/javascript 19.0604ms
2025-11-07 22:19:09.134 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.js'
2025-11-07 22:19:09.136 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar/scalar.js - 200 926338 text/javascript 30.3597ms
2025-11-07 22:19:09.332 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/openapi/v1.json - null null
2025-11-07 22:19:09.533 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/openapi/v1.json - 200 null application/json;charset=utf-8 201.1139ms
2025-11-07 22:19:33.922 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar/ - null null
2025-11-07 22:19:33.926 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2025-11-07 22:19:33.929 +08:00 [INF] Write content with HTTP Response ContentType of text/html
2025-11-07 22:19:33.931 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2025-11-07 22:19:33.933 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar/ - 200 615 text/html 11.1752ms
2025-11-07 22:19:34.018 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar/scalar.js - null null
2025-11-07 22:19:34.020 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar/scalar.aspnetcore.js - null null
2025-11-07 22:19:34.023 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.js'
2025-11-07 22:19:34.026 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2025-11-07 22:19:34.028 +08:00 [INF] Sending file with download name ''.
2025-11-07 22:19:34.030 +08:00 [INF] Sending file with download name ''.
2025-11-07 22:19:34.031 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.js'
2025-11-07 22:19:34.033 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2025-11-07 22:19:34.035 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar/scalar.js - 304 null null 16.7096ms
2025-11-07 22:19:34.036 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar/scalar.aspnetcore.js - 304 null null 16.7181ms
2025-11-07 22:19:34.323 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/openapi/v1.json - null null
2025-11-07 22:19:34.364 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/openapi/v1.json - 200 null application/json;charset=utf-8 40.2585ms
2025-11-07 22:27:18.751 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/login - application/json 66
2025-11-07 22:27:18.755 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-07 22:27:18.768 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-11-07 22:27:18.939 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-07 22:27:19.055 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-07 22:27:19.062 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 288.8435ms
2025-11-07 22:27:19.064 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-07 22:27:19.068 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/login - 401 null application/json; charset=utf-8 317.5149ms
2025-11-07 22:27:24.788 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/login - application/json 67
2025-11-07 22:27:24.794 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-07 22:27:24.795 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-11-07 22:27:24.841 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-07 22:27:24.908 +08:00 [INF] User logged in successfully: luolan123123@outlook.com
2025-11-07 22:27:24.910 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-11-07 22:27:24.923 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 124.6559ms
2025-11-07 22:27:24.925 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-07 22:27:24.927 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/login - 200 null application/json; charset=utf-8 138.9876ms
2025-11-07 22:29:05.661 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events - application/json 297
2025-11-07 22:29:05.689 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-07 22:29:05.693 +08:00 [INF] Route matched with {action = "CreateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] CreateEvent(ASG.Api.DTOs.CreateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-07 22:29:05.721 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-07 22:29:05.725 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-07 22:29:05.726 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api) in 31.5917ms
2025-11-07 22:29:05.728 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-07 22:29:05.729 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events - 400 null application/json; charset=utf-8 68.5286ms
2025-11-07 22:29:44.281 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events - application/json 297
2025-11-07 22:29:44.287 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-07 22:29:44.288 +08:00 [INF] Route matched with {action = "CreateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] CreateEvent(ASG.Api.DTOs.CreateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-07 22:29:44.294 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-07 22:29:44.297 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-07 22:29:44.298 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api) in 6.2833ms
2025-11-07 22:29:44.300 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-07 22:29:44.302 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events - 400 null application/json; charset=utf-8 20.4917ms
2025-11-07 22:29:50.351 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events - application/json 297
2025-11-07 22:29:50.357 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-07 22:29:50.359 +08:00 [INF] Route matched with {action = "CreateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] CreateEvent(ASG.Api.DTOs.CreateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-07 22:29:50.370 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-07 22:29:50.372 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-07 22:29:50.374 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api) in 11.1618ms
2025-11-07 22:29:50.376 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-07 22:29:50.378 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events - 400 null application/json; charset=utf-8 27.2972ms
2025-11-07 22:29:56.280 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events - application/json 297
2025-11-07 22:29:56.284 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-07 22:29:56.285 +08:00 [INF] Route matched with {action = "CreateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] CreateEvent(ASG.Api.DTOs.CreateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-07 22:29:56.289 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-07 22:29:56.390 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 36), @p5='?' (Size = 7), @p6='?' (DbType = Int32), @p7='?' (Size = 2), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (Size = 5), @p11='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Events" ("Id", "CompetitionEndTime", "CompetitionStartTime", "CreatedAt", "CreatedByUserId", "Description", "MaxTeams", "Name", "RegistrationEndTime", "RegistrationStartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-07 22:29:56.399 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-07 22:29:56.424 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api) in 136.2009ms
2025-11-07 22:29:56.427 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-07 22:29:56.429 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events - 201 null application/json; charset=utf-8 148.6644ms
2025-11-07 22:35:04.543 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration - null null
2025-11-07 22:35:04.547 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEvents (ASG.Api)'
2025-11-07 22:35:04.551 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-07 22:35:04.614 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
ORDER BY "e"."RegistrationEndTime", "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-07 22:35:04.617 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-07 22:35:04.619 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEvents (ASG.Api) in 65.8504ms
2025-11-07 22:35:04.622 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEvents (ASG.Api)'
2025-11-07 22:35:04.623 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration - 200 null application/json; charset=utf-8 79.6311ms
2025-11-07 22:35:13.248 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - null null
2025-11-07 22:35:13.253 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-07 22:35:13.257 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-07 22:35:13.270 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-07 22:35:13.277 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-07 22:35:13.279 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 19.2317ms
2025-11-07 22:35:13.280 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-07 22:35:13.282 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 33.3462ms
2025-11-07 22:36:53.561 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/register - application/json 224
2025-11-07 22:36:53.566 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.RegisterTeam (ASG.Api)'
2025-11-07 22:36:53.570 +08:00 [INF] Route matched with {action = "RegisterTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] RegisterTeam(ASG.Api.DTOs.CreateTeamDto) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-07 22:36:53.579 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-07 22:36:53.588 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.RegisterTeam (ASG.Api) in 14.8873ms
2025-11-07 22:36:53.590 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.RegisterTeam (ASG.Api)'
2025-11-07 22:36:53.592 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/register - 400 null application/problem+json; charset=utf-8 30.9742ms
2025-11-07 22:37:11.224 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/register - application/json 225
2025-11-07 22:37:11.228 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.RegisterTeam (ASG.Api)'
2025-11-07 22:37:11.230 +08:00 [INF] Route matched with {action = "RegisterTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] RegisterTeam(ASG.Api.DTOs.CreateTeamDto) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-07 22:37:11.235 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-07 22:37:11.236 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.RegisterTeam (ASG.Api) in 2.9114ms
2025-11-07 22:37:11.238 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.RegisterTeam (ASG.Api)'
2025-11-07 22:37:11.239 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/register - 400 null application/problem+json; charset=utf-8 15.4361ms
2025-11-07 22:37:31.776 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/register - application/json 232
2025-11-07 22:37:31.781 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.RegisterTeam (ASG.Api)'
2025-11-07 22:37:31.782 +08:00 [INF] Route matched with {action = "RegisterTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] RegisterTeam(ASG.Api.DTOs.CreateTeamDto) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-07 22:37:31.857 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Teams" AS "t"
    WHERE "t"."Name" = @__name_0)
2025-11-07 22:37:32.131 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 7), @p3='?' (DbType = Int32), @p4='?' (Size = 4), @p5='?', @p6='?' (Size = 60), @p7='?' (DbType = DateTime), @p8='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Teams" ("Id", "CreatedAt", "Description", "Likes", "Name", "OwnerId", "Password", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-11-07 22:37:32.134 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 4), @p3='?' (Size = 8), @p4='?' (Size = 2), @p5='?' (Size = 1), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Players" ("Id", "CreatedAt", "Description", "GameId", "GameRank", "Name", "TeamId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-11-07 22:37:32.164 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-07 22:37:32.170 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-07 22:37:32.174 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.RegisterTeam (ASG.Api) in 389.734ms
2025-11-07 22:37:32.176 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.RegisterTeam (ASG.Api)'
2025-11-07 22:37:32.177 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/register - 201 null application/json; charset=utf-8 400.5672ms
2025-11-07 23:09:58.444 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-07 23:09:58.492 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-07 23:09:58.504 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-07 23:09:58.522 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-11-07 23:09:58.541 +08:00 [INF] User profile is available. Using 'C:\Users\luolan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-07 23:09:58.586 +08:00 [INF] Now listening on: http://localhost:5250
2025-11-07 23:09:58.590 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-07 23:09:58.592 +08:00 [INF] Hosting environment: Development
2025-11-07 23:09:58.595 +08:00 [INF] Content root path: C:\Users\luolan\ASG\ASG.Api
2025-11-07 23:10:18.149 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/ - null null
2025-11-07 23:10:18.237 +08:00 [WRN] Failed to determine the https port for redirect.
2025-11-07 23:10:18.261 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/ - 404 0 null 116.0745ms
2025-11-07 23:10:18.272 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5250/, Response status code: 404
2025-11-07 23:10:27.349 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/ - null null
2025-11-07 23:10:27.357 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/ - 404 0 null 8.0422ms
2025-11-07 23:10:27.365 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5250/, Response status code: 404
2025-11-07 23:10:31.966 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/swagger/index.html - null null
2025-11-07 23:10:31.977 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/swagger/index.html - 404 0 null 10.8294ms
2025-11-07 23:10:31.986 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5250/swagger/index.html, Response status code: 404
2025-11-07 23:10:33.009 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/swagger/index.html - null null
2025-11-07 23:10:33.016 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/swagger/index.html - 404 0 null 7.0395ms
2025-11-07 23:10:33.027 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5250/swagger/index.html, Response status code: 404
2025-11-07 23:12:42.840 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar/ - null null
2025-11-07 23:12:42.849 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2025-11-07 23:12:42.976 +08:00 [INF] Write content with HTTP Response ContentType of text/html
2025-11-07 23:12:42.980 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2025-11-07 23:12:42.982 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar/ - 200 615 text/html 142.3369ms
2025-11-07 23:12:43.043 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar/scalar.js - null null
2025-11-07 23:12:43.044 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar/scalar.aspnetcore.js - null null
2025-11-07 23:12:43.049 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.js'
2025-11-07 23:12:43.055 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2025-11-07 23:12:43.062 +08:00 [INF] Sending file with download name ''.
2025-11-07 23:12:43.062 +08:00 [INF] Sending file with download name ''.
2025-11-07 23:12:43.068 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2025-11-07 23:12:43.072 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar/scalar.aspnetcore.js - 200 1046 text/javascript 27.8805ms
2025-11-07 23:12:43.092 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.js'
2025-11-07 23:12:43.098 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar/scalar.js - 200 926338 text/javascript 55.2789ms
2025-11-07 23:12:43.296 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/openapi/v1.json - null null
2025-11-07 23:12:43.560 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/openapi/v1.json - 200 null application/json;charset=utf-8 264.3841ms
2025-11-07 23:12:43.938 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/scalar/favicon.svg - null null
2025-11-07 23:12:43.945 +08:00 [INF] Executing endpoint 'HTTP: GET /scalar/favicon.svg'
2025-11-07 23:12:43.949 +08:00 [INF] Sending file with download name ''.
2025-11-07 23:12:43.951 +08:00 [INF] Executed endpoint 'HTTP: GET /scalar/favicon.svg'
2025-11-07 23:12:43.954 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/scalar/favicon.svg - 200 533 image/svg+xml 16.207ms
2025-11-07 23:29:11.647 +08:00 [INF] Application is shutting down...
