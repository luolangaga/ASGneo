2025-11-19 00:11:39.295 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-19 00:11:39.295 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-19 00:11:39.299 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:11:39.299 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:11:39.299 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 3.8037ms
2025-11-19 00:11:39.299 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 4.035ms
2025-11-19 00:11:39.301 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-19 00:11:39.301 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:11:39.301 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-19 00:11:39.302 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:11:39.302 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-19 00:11:39.302 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-19 00:11:39.303 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-19 00:11:39.303 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-19 00:11:39.306 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-19 00:11:39.306 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-19 00:11:39.307 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-19 00:11:39.308 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-19 00:11:39.309 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-19 00:11:39.310 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-19 00:11:39.311 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-19 00:11:39.312 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-19 00:11:39.312 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-19 00:11:39.312 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 9.2686ms
2025-11-19 00:11:39.313 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-19 00:11:39.313 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 12.0079ms
2025-11-19 00:11:39.315 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-19 00:11:39.316 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 00:11:39.316 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 13.5229ms
2025-11-19 00:11:39.317 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-19 00:11:39.317 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 15.5316ms
2025-11-19 00:11:46.091 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - null null
2025-11-19 00:11:46.091 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:11:46.092 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - 204 null null 0.9073ms
2025-11-19 00:11:46.092 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Ai/command - application/json 137
2025-11-19 00:11:46.093 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:11:46.093 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:11:46.093 +08:00 [INF] Route matched with {action = "Command", controller = "Ai"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Command(ASG.Api.DTOs.AiCommandRequestDto) on controller ASG.Api.Controllers.AiController (ASG.Api).
2025-11-19 00:11:46.095 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:11:46.095 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:11:46.439 +08:00 [INF] Received HTTP response headers after 343.2187ms - 200
2025-11-19 00:11:46.439 +08:00 [INF] End processing HTTP request after 344.0944ms - 200
2025-11-19 00:11:48.537 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 6), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:11:48.540 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:11:48.540 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AiCommandResponseDto'.
2025-11-19 00:11:48.541 +08:00 [INF] Executed action ASG.Api.Controllers.AiController.Command (ASG.Api) in 2446.9736ms
2025-11-19 00:11:48.541 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:11:48.541 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Ai/command - 200 null application/json; charset=utf-8 2448.8451ms
2025-11-19 00:12:42.544 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - null null
2025-11-19 00:12:42.545 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:12:42.545 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - 204 null null 1.1487ms
2025-11-19 00:12:42.547 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Ai/command - application/json 161
2025-11-19 00:12:42.547 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:12:42.548 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:12:42.548 +08:00 [INF] Route matched with {action = "Command", controller = "Ai"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Command(ASG.Api.DTOs.AiCommandRequestDto) on controller ASG.Api.Controllers.AiController (ASG.Api).
2025-11-19 00:12:42.549 +08:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-19 00:12:42.550 +08:00 [INF] Executed action ASG.Api.Controllers.AiController.Command (ASG.Api) in 0.9214ms
2025-11-19 00:12:42.550 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:12:42.550 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Ai/command - 429 null application/json; charset=utf-8 3.2849ms
2025-11-19 00:12:48.167 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - null null
2025-11-19 00:12:48.167 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:12:48.168 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - 204 null null 0.8459ms
2025-11-19 00:12:48.170 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Ai/command - application/json 161
2025-11-19 00:12:48.171 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:12:48.172 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:12:48.172 +08:00 [INF] Route matched with {action = "Command", controller = "Ai"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Command(ASG.Api.DTOs.AiCommandRequestDto) on controller ASG.Api.Controllers.AiController (ASG.Api).
2025-11-19 00:12:48.173 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:12:48.173 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:12:48.290 +08:00 [INF] Received HTTP response headers after 116.509ms - 200
2025-11-19 00:12:48.290 +08:00 [INF] End processing HTTP request after 117.5463ms - 200
2025-11-19 00:12:50.237 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 6), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:12:50.239 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:12:50.240 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AiCommandResponseDto'.
2025-11-19 00:12:50.240 +08:00 [INF] Executed action ASG.Api.Controllers.AiController.Command (ASG.Api) in 2067.9188ms
2025-11-19 00:12:50.240 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:12:50.241 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Ai/command - 200 null application/json; charset=utf-8 2070.3583ms
2025-11-19 00:14:16.525 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - null null
2025-11-19 00:14:16.526 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:14:16.526 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - 204 null null 1.0281ms
2025-11-19 00:14:16.530 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Ai/command - application/json 63
2025-11-19 00:14:16.530 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:14:16.531 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:14:16.531 +08:00 [INF] Route matched with {action = "Command", controller = "Ai"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Command(ASG.Api.DTOs.AiCommandRequestDto) on controller ASG.Api.Controllers.AiController (ASG.Api).
2025-11-19 00:14:16.533 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:14:16.533 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:14:16.869 +08:00 [INF] Received HTTP response headers after 335.9849ms - 200
2025-11-19 00:14:16.869 +08:00 [INF] End processing HTTP request after 336.6185ms - 200
2025-11-19 00:14:18.698 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:14:18.700 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:14:18.700 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AiCommandResponseDto'.
2025-11-19 00:14:18.701 +08:00 [INF] Executed action ASG.Api.Controllers.AiController.Command (ASG.Api) in 2169.0003ms
2025-11-19 00:14:18.701 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:14:18.701 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Ai/command - 200 null application/json; charset=utf-8 2170.9169ms
2025-11-19 00:17:39.731 +08:00 [INF] Application is shutting down...
2025-11-19 00:19:34.654 +08:00 [INF] Using URLs: http://localhost:5250
2025-11-19 00:19:34.713 +08:00 [INF] WebApplication built successfully.
2025-11-19 00:19:34.780 +08:00 [INF] SignalR hub mapped: Path=/hubs/app, AuthScheme=JWT Bearer, QueryToken=access_token for '/hubs/*'
2025-11-19 00:19:34.781 +08:00 [INF] CORS policy 'DevCors' applied: AllowAnyOrigin/AnyHeader/AnyMethod (Development)
2025-11-19 00:19:35.236 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 00:19:35.242 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 00:19:35.248 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 00:19:35.252 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-11-19 00:19:35.263 +08:00 [INF] User profile is available. Using 'C:\Users\luolan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-19 00:19:35.344 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Events" AS "e")
2025-11-19 00:19:35.347 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Teams" AS "t")
2025-11-19 00:19:35.350 +08:00 [INF] Starting Kestrel...
2025-11-19 00:19:35.389 +08:00 [INF] Database backup saved to /var/backups/asg\ASGApiDb_20251119_001935.db
2025-11-19 00:19:35.419 +08:00 [INF] Now listening on: http://localhost:5250
2025-11-19 00:19:35.419 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-19 00:19:35.420 +08:00 [INF] Hosting environment: Development
2025-11-19 00:19:35.420 +08:00 [INF] Content root path: C:\Users\luolan\ASG\ASG.Api
2025-11-19 00:19:40.813 +08:00 [INF] Application is shutting down...
2025-11-19 00:19:46.996 +08:00 [INF] Using URLs: http://localhost:5250
2025-11-19 00:19:47.054 +08:00 [INF] WebApplication built successfully.
2025-11-19 00:19:47.121 +08:00 [INF] SignalR hub mapped: Path=/hubs/app, AuthScheme=JWT Bearer, QueryToken=access_token for '/hubs/*'
2025-11-19 00:19:47.121 +08:00 [INF] CORS policy 'DevCors' applied: AllowAnyOrigin/AnyHeader/AnyMethod (Development)
2025-11-19 00:19:47.569 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 00:19:47.574 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 00:19:47.580 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 00:19:47.585 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-11-19 00:19:47.597 +08:00 [INF] User profile is available. Using 'C:\Users\luolan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-19 00:19:47.680 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Events" AS "e")
2025-11-19 00:19:47.682 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Teams" AS "t")
2025-11-19 00:19:47.685 +08:00 [INF] Starting Kestrel...
2025-11-19 00:19:47.723 +08:00 [INF] Database backup saved to /var/backups/asg\ASGApiDb_20251119_001947.db
2025-11-19 00:19:47.756 +08:00 [INF] Now listening on: http://localhost:5250
2025-11-19 00:19:47.756 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-19 00:19:47.757 +08:00 [INF] Hosting environment: Development
2025-11-19 00:19:47.757 +08:00 [INF] Content root path: C:\Users\luolan\ASG\ASG.Api
2025-11-19 00:21:30.154 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-19 00:21:30.154 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-19 00:21:30.206 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:21:30.206 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:21:30.211 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 57.417ms
2025-11-19 00:21:30.211 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 57.4381ms
2025-11-19 00:21:30.283 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-19 00:21:30.283 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-19 00:21:30.288 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:21:30.288 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:21:30.488 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-19 00:21:30.491 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-19 00:21:30.496 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-19 00:21:30.496 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-19 00:21:30.539 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-19 00:21:30.539 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-19 00:21:30.546 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 00:21:30.561 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 62.5855ms
2025-11-19 00:21:30.561 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-19 00:21:30.565 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 281.8147ms
2025-11-19 00:21:30.590 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-19 00:21:30.620 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-19 00:21:30.628 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-19 00:21:30.672 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-19 00:21:30.693 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-19 00:21:30.699 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-19 00:21:30.714 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-19 00:21:30.716 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-19 00:21:30.728 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 230.6925ms
2025-11-19 00:21:30.729 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-19 00:21:30.730 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 446.9429ms
2025-11-19 00:21:36.039 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - null null
2025-11-19 00:21:36.039 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:21:36.040 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - 204 null null 1.4543ms
2025-11-19 00:21:36.042 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Ai/command - application/json 63
2025-11-19 00:21:36.043 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:21:36.045 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:21:36.051 +08:00 [INF] Route matched with {action = "Command", controller = "Ai"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Command(ASG.Api.DTOs.AiCommandRequestDto) on controller ASG.Api.Controllers.AiController (ASG.Api).
2025-11-19 00:21:36.090 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:21:36.091 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:21:36.388 +08:00 [INF] Received HTTP response headers after 295.5864ms - 200
2025-11-19 00:21:36.388 +08:00 [INF] End processing HTTP request after 299.6451ms - 200
2025-11-19 00:21:38.782 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:21:38.820 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:21:38.823 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:21:38.825 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:21:38.838 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-19 00:21:38.843 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-19 00:21:38.864 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:21:38.864 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:21:38.946 +08:00 [INF] Received HTTP response headers after 81.9114ms - 200
2025-11-19 00:21:38.947 +08:00 [INF] End processing HTTP request after 82.9274ms - 200
2025-11-19 00:21:41.343 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:21:41.344 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:21:41.427 +08:00 [INF] Received HTTP response headers after 83.4928ms - 200
2025-11-19 00:21:41.428 +08:00 [INF] End processing HTTP request after 84.6161ms - 200
2025-11-19 00:21:43.813 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AiCommandResponseDto'.
2025-11-19 00:21:43.818 +08:00 [INF] Executed action ASG.Api.Controllers.AiController.Command (ASG.Api) in 7767.1706ms
2025-11-19 00:21:43.819 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:21:43.820 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Ai/command - 200 null application/json; charset=utf-8 7778.385ms
2025-11-19 00:22:15.664 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - null null
2025-11-19 00:22:15.665 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:22:15.666 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - 204 null null 1.4109ms
2025-11-19 00:22:15.668 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Ai/command - application/json 95
2025-11-19 00:22:15.668 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:22:15.669 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:22:15.669 +08:00 [INF] Route matched with {action = "Command", controller = "Ai"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Command(ASG.Api.DTOs.AiCommandRequestDto) on controller ASG.Api.Controllers.AiController (ASG.Api).
2025-11-19 00:22:15.672 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:22:15.672 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:22:15.801 +08:00 [INF] Received HTTP response headers after 128.769ms - 200
2025-11-19 00:22:15.801 +08:00 [INF] End processing HTTP request after 129.5058ms - 200
2025-11-19 00:22:18.886 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:22:18.888 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:22:18.902 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 7), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
    ORDER BY "e"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
LEFT JOIN "Teams" AS "t0" ON "t"."ChampionTeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "t0"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-19 00:22:18.906 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
2025-11-19 00:22:18.912 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:22:18.914 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:22:18.915 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 9), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:22:18.916 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:22:18.917 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 17), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
    ORDER BY "e"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
LEFT JOIN "Teams" AS "t0" ON "t"."ChampionTeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "t0"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-19 00:22:18.919 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
2025-11-19 00:22:18.921 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:22:18.921 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:22:18.987 +08:00 [INF] Received HTTP response headers after 65.6704ms - 200
2025-11-19 00:22:18.987 +08:00 [INF] End processing HTTP request after 66.3354ms - 200
2025-11-19 00:22:22.738 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:22:22.740 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:22:22.741 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 9), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:22:22.742 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:22:22.743 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 17), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
    ORDER BY "e"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
LEFT JOIN "Teams" AS "t0" ON "t"."ChampionTeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "t0"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-19 00:22:22.744 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
2025-11-19 00:22:22.745 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:22:22.745 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:22:22.848 +08:00 [INF] Received HTTP response headers after 102.7518ms - 200
2025-11-19 00:22:22.848 +08:00 [INF] End processing HTTP request after 103.5867ms - 200
2025-11-19 00:22:25.665 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:22:25.666 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:22:25.667 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 9), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:22:25.668 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:22:25.669 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 17), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
    ORDER BY "e"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
LEFT JOIN "Teams" AS "t0" ON "t"."ChampionTeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "t0"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-19 00:22:25.671 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
2025-11-19 00:22:25.671 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AiCommandResponseDto'.
2025-11-19 00:22:25.672 +08:00 [INF] Executed action ASG.Api.Controllers.AiController.Command (ASG.Api) in 10002.709ms
2025-11-19 00:22:25.673 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:22:25.673 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Ai/command - 200 null application/json; charset=utf-8 10005.0292ms
2025-11-19 00:23:22.156 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-19 00:23:22.157 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-19 00:23:22.157 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:22.157 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:22.157 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 1.0876ms
2025-11-19 00:23:22.157 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.7008ms
2025-11-19 00:23:22.159 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-19 00:23:22.159 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-19 00:23:22.160 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:22.160 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:22.162 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-19 00:23:22.162 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-19 00:23:22.162 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-19 00:23:22.163 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-19 00:23:22.164 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-19 00:23:22.164 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-19 00:23:22.165 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 00:23:22.165 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-19 00:23:22.165 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.068ms
2025-11-19 00:23:22.165 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-19 00:23:22.166 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 6.3306ms
2025-11-19 00:23:22.166 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-19 00:23:22.167 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-19 00:23:22.167 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-19 00:23:22.168 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-19 00:23:22.169 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-19 00:23:22.169 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-19 00:23:22.170 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-19 00:23:22.170 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 6.8842ms
2025-11-19 00:23:22.170 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-19 00:23:22.171 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 11.3679ms
2025-11-19 00:23:28.357 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-19 00:23:28.357 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-19 00:23:28.358 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:28.359 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-19 00:23:28.359 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 1.4834ms
2025-11-19 00:23:28.359 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-19 00:23:28.359 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:28.359 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:28.359 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:28.360 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 1.5235ms
2025-11-19 00:23:28.360 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 2.4024ms
2025-11-19 00:23:28.360 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 1.3229ms
2025-11-19 00:23:28.360 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-19 00:23:28.362 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:28.362 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-19 00:23:28.362 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-19 00:23:28.363 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-19 00:23:28.363 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:28.363 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:28.363 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-19 00:23:28.363 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-19 00:23:28.363 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:28.365 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-19 00:23:28.365 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-19 00:23:28.366 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-19 00:23:28.366 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-19 00:23:28.367 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-19 00:23:28.368 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-19 00:23:28.381 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-19 00:23:28.385 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-19 00:23:28.385 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-19 00:23:28.420 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-19 00:23:28.421 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-19 00:23:28.425 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-19 00:23:28.425 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-19 00:23:28.427 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 00:23:28.428 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-19 00:23:28.429 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 00:23:28.429 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 00:23:28.432 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-19 00:23:28.433 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 00:23:28.433 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 65.386ms
2025-11-19 00:23:28.434 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 67.1211ms
2025-11-19 00:23:28.434 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 67.4789ms
2025-11-19 00:23:28.434 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-19 00:23:28.434 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 65.7442ms
2025-11-19 00:23:28.434 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-19 00:23:28.434 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-19 00:23:28.435 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-19 00:23:28.435 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 72.1458ms
2025-11-19 00:23:28.435 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 72.4404ms
2025-11-19 00:23:28.436 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 74.2366ms
2025-11-19 00:23:28.436 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 75.9475ms
2025-11-19 00:23:52.957 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - null null
2025-11-19 00:23:52.958 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:52.958 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - 204 null null 0.8819ms
2025-11-19 00:23:52.961 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Ai/command - application/json 120
2025-11-19 00:23:52.961 +08:00 [INF] CORS policy execution successful.
2025-11-19 00:23:52.962 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:23:52.962 +08:00 [INF] Route matched with {action = "Command", controller = "Ai"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Command(ASG.Api.DTOs.AiCommandRequestDto) on controller ASG.Api.Controllers.AiController (ASG.Api).
2025-11-19 00:23:52.964 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:23:52.964 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:23:53.198 +08:00 [INF] Received HTTP response headers after 233.0377ms - 200
2025-11-19 00:23:53.198 +08:00 [INF] End processing HTTP request after 233.7472ms - 200
2025-11-19 00:23:55.978 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:23:55.978 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:23:56.063 +08:00 [INF] Received HTTP response headers after 84.7789ms - 200
2025-11-19 00:23:56.064 +08:00 [INF] End processing HTTP request after 85.7947ms - 200
2025-11-19 00:23:58.830 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:23:58.832 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:23:58.832 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:23:58.833 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:23:58.835 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 8), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
    ORDER BY "e"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
LEFT JOIN "Teams" AS "t0" ON "t"."ChampionTeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "t0"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-19 00:23:58.836 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
2025-11-19 00:23:58.846 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-19 00:23:58.851 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-19 00:23:58.858 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-19 00:23:58.860 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-19 00:23:58.863 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-19 00:23:58.867 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-19 00:23:58.873 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-19 00:23:58.948 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (Size = 36), @p6='?' (DbType = DateTime), @p7='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TeamEvents" ("EventId", "TeamId", "InviteExpiresAt", "InviteToken", "Notes", "RegisteredByUserId", "RegistrationTime", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-19 00:23:58.952 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 00:23:58.953 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 00:23:58.958 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-19 00:23:58.962 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:23:58.963 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:23:59.150 +08:00 [INF] Received HTTP response headers after 186.9416ms - 200
2025-11-19 00:23:59.150 +08:00 [INF] End processing HTTP request after 187.7229ms - 200
2025-11-19 00:24:02.517 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:24:02.518 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 00:24:02.621 +08:00 [INF] Received HTTP response headers after 102.9684ms - 200
2025-11-19 00:24:02.621 +08:00 [INF] End processing HTTP request after 104.2467ms - 200
2025-11-19 00:24:06.404 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AiCommandResponseDto'.
2025-11-19 00:24:06.406 +08:00 [INF] Executed action ASG.Api.Controllers.AiController.Command (ASG.Api) in 13443.5314ms
2025-11-19 00:24:06.406 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 00:24:06.407 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Ai/command - 200 null application/json; charset=utf-8 13446.0445ms
2025-11-19 18:11:11.591 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-19 18:11:11.592 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-19 18:11:11.592 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:11:11.592 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:11:11.593 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 1.2178ms
2025-11-19 18:11:11.593 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 1.3369ms
2025-11-19 18:11:11.608 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-19 18:11:11.608 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-19 18:11:11.609 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:11:11.609 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:11:11.612 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025/11/18 19:22:01', Current time (UTC): '2025/11/19 10:11:11'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-19 18:11:11.612 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025/11/18 19:22:01', Current time (UTC): '2025/11/19 10:11:11'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-19 18:11:11.619 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025/11/18 19:22:01', Current time (UTC): '2025/11/19 10:11:11'.
2025-11-19 18:11:11.619 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025/11/18 19:22:01', Current time (UTC): '2025/11/19 10:11:11'.
2025-11-19 18:11:11.620 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-19 18:11:11.620 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-19 18:11:11.624 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-19 18:11:11.624 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-19 18:11:11.624 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 15.6493ms
2025-11-19 18:11:11.625 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 16.4536ms
2025-11-19 18:17:52.038 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-19 18:17:52.038 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-19 18:17:52.038 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:17:52.038 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:17:52.039 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6975ms
2025-11-19 18:17:52.039 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.7708ms
2025-11-19 18:17:52.040 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-19 18:17:52.040 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:17:52.040 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-19 18:17:52.041 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:17:52.041 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-19 18:17:52.041 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-19 18:17:52.041 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-19 18:17:52.041 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-19 18:17:52.041 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 1.1557ms
2025-11-19 18:17:52.041 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 0.845ms
2025-11-19 18:22:14.720 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-19 18:22:14.720 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-19 18:22:14.721 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:22:14.721 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:22:14.721 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.9184ms
2025-11-19 18:22:14.721 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.7805ms
2025-11-19 18:22:14.723 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-19 18:22:14.723 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-19 18:22:14.724 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:22:14.724 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:22:14.724 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-19 18:22:14.724 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-19 18:22:14.724 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-19 18:22:14.725 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-19 18:22:14.725 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 1.3672ms
2025-11-19 18:22:14.725 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 1.3863ms
2025-11-19 18:22:19.664 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - null null
2025-11-19 18:22:19.665 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:22:19.665 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - 204 null null 0.8765ms
2025-11-19 18:22:19.666 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/login - application/json 61
2025-11-19 18:22:19.667 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:22:19.668 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-19 18:22:19.669 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-11-19 18:22:19.681 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-19 18:22:19.732 +08:00 [INF] User logged in successfully: luolan12323@outlook.com
2025-11-19 18:22:19.732 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-11-19 18:22:19.737 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 66.9529ms
2025-11-19 18:22:19.737 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-19 18:22:19.737 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/login - 200 null application/json; charset=utf-8 71.011ms
2025-11-19 18:22:34.910 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - null null
2025-11-19 18:22:34.911 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:22:34.911 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - 204 null null 0.4787ms
2025-11-19 18:22:34.912 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Ai/command - application/json 35
2025-11-19 18:22:34.913 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:22:34.913 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 18:22:34.914 +08:00 [INF] Route matched with {action = "Command", controller = "Ai"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Command(ASG.Api.DTOs.AiCommandRequestDto) on controller ASG.Api.Controllers.AiController (ASG.Api).
2025-11-19 18:22:34.915 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:34.915 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:35.292 +08:00 [INF] Received HTTP response headers after 377.1615ms - 200
2025-11-19 18:22:35.292 +08:00 [INF] End processing HTTP request after 377.728ms - 200
2025-11-19 18:22:37.119 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:37.120 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:37.206 +08:00 [INF] Received HTTP response headers after 86.0086ms - 200
2025-11-19 18:22:37.206 +08:00 [INF] End processing HTTP request after 86.9685ms - 200
2025-11-19 18:22:39.067 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_1 OFFSET @__p_0
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 18:22:39.069 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
2025-11-19 18:22:39.070 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-19 18:22:39.081 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:39.081 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:39.180 +08:00 [INF] Received HTTP response headers after 99.2374ms - 200
2025-11-19 18:22:39.181 +08:00 [INF] End processing HTTP request after 100.0508ms - 200
2025-11-19 18:22:41.124 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:41.124 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:41.226 +08:00 [INF] Received HTTP response headers after 101.5404ms - 200
2025-11-19 18:22:41.227 +08:00 [INF] End processing HTTP request after 102.5824ms - 200
2025-11-19 18:22:42.744 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:42.745 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:43.196 +08:00 [INF] Received HTTP response headers after 450.8114ms - 200
2025-11-19 18:22:43.196 +08:00 [INF] End processing HTTP request after 451.9095ms - 200
2025-11-19 18:22:44.708 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:44.708 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:22:44.810 +08:00 [INF] Received HTTP response headers after 101.6521ms - 200
2025-11-19 18:22:44.811 +08:00 [INF] End processing HTTP request after 102.7001ms - 200
2025-11-19 18:22:46.450 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AiCommandResponseDto'.
2025-11-19 18:22:46.450 +08:00 [INF] Executed action ASG.Api.Controllers.AiController.Command (ASG.Api) in 11536.5156ms
2025-11-19 18:22:46.451 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 18:22:46.451 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Ai/command - 200 null application/json; charset=utf-8 11538.2925ms
2025-11-19 18:23:38.150 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - null null
2025-11-19 18:23:38.151 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:23:38.151 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - 204 null null 0.6537ms
2025-11-19 18:23:38.153 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Ai/command - application/json 52
2025-11-19 18:23:38.153 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:23:38.153 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 18:23:38.153 +08:00 [INF] Route matched with {action = "Command", controller = "Ai"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Command(ASG.Api.DTOs.AiCommandRequestDto) on controller ASG.Api.Controllers.AiController (ASG.Api).
2025-11-19 18:23:38.155 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:38.155 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:38.265 +08:00 [INF] Received HTTP response headers after 109.8226ms - 200
2025-11-19 18:23:38.265 +08:00 [INF] End processing HTTP request after 110.5457ms - 200
2025-11-19 18:23:40.203 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:40.204 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:40.281 +08:00 [INF] Received HTTP response headers after 77.418ms - 200
2025-11-19 18:23:40.282 +08:00 [INF] End processing HTTP request after 78.422ms - 200
2025-11-19 18:23:42.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 18:23:42.364 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 18:23:42.364 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:42.365 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:42.455 +08:00 [INF] Received HTTP response headers after 90.1773ms - 200
2025-11-19 18:23:42.455 +08:00 [INF] End processing HTTP request after 90.8285ms - 200
2025-11-19 18:23:44.102 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:44.102 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:44.219 +08:00 [INF] Received HTTP response headers after 116.583ms - 200
2025-11-19 18:23:44.220 +08:00 [INF] End processing HTTP request after 117.613ms - 200
2025-11-19 18:23:45.741 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:45.741 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:45.843 +08:00 [INF] Received HTTP response headers after 101.9189ms - 200
2025-11-19 18:23:45.843 +08:00 [INF] End processing HTTP request after 102.767ms - 200
2025-11-19 18:23:47.589 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:47.589 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:23:47.686 +08:00 [INF] Received HTTP response headers after 96.411ms - 200
2025-11-19 18:23:47.686 +08:00 [INF] End processing HTTP request after 97.3165ms - 200
2025-11-19 18:23:49.545 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AiCommandResponseDto'.
2025-11-19 18:23:49.545 +08:00 [INF] Executed action ASG.Api.Controllers.AiController.Command (ASG.Api) in 11391.1806ms
2025-11-19 18:23:49.545 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 18:23:49.545 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Ai/command - 200 null application/json; charset=utf-8 11392.891ms
2025-11-19 18:24:07.119 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - null null
2025-11-19 18:24:07.119 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:07.119 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Ai/command - 204 null null 0.5677ms
2025-11-19 18:24:07.121 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Ai/command - application/json 64
2025-11-19 18:24:07.121 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:07.122 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 18:24:07.122 +08:00 [INF] Route matched with {action = "Command", controller = "Ai"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Command(ASG.Api.DTOs.AiCommandRequestDto) on controller ASG.Api.Controllers.AiController (ASG.Api).
2025-11-19 18:24:07.123 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:07.123 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:07.245 +08:00 [INF] Received HTTP response headers after 121.8172ms - 200
2025-11-19 18:24:07.246 +08:00 [INF] End processing HTTP request after 122.7665ms - 200
2025-11-19 18:24:09.292 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:09.292 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:09.406 +08:00 [INF] Received HTTP response headers after 113.1277ms - 200
2025-11-19 18:24:09.406 +08:00 [INF] End processing HTTP request after 114.1491ms - 200
2025-11-19 18:24:11.996 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 18:24:11.998 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-19 18:24:11.998 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_1 OFFSET @__p_0
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-19 18:24:11.999 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
2025-11-19 18:24:12.000 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-19 18:24:12.000 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:12.001 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:12.468 +08:00 [INF] Received HTTP response headers after 466.9399ms - 200
2025-11-19 18:24:12.468 +08:00 [INF] End processing HTTP request after 467.6252ms - 200
2025-11-19 18:24:14.106 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:14.107 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:14.208 +08:00 [INF] Received HTTP response headers after 101.4616ms - 200
2025-11-19 18:24:14.209 +08:00 [INF] End processing HTTP request after 102.4475ms - 200
2025-11-19 18:24:16.257 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:16.257 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:16.374 +08:00 [INF] Received HTTP response headers after 116.2486ms - 200
2025-11-19 18:24:16.374 +08:00 [INF] End processing HTTP request after 116.9963ms - 200
2025-11-19 18:24:18.618 +08:00 [INF] Start processing HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:18.619 +08:00 [INF] Sending HTTP request POST https://api.deepseek.com/chat/completions
2025-11-19 18:24:18.715 +08:00 [INF] Received HTTP response headers after 95.6332ms - 200
2025-11-19 18:24:18.715 +08:00 [INF] End processing HTTP request after 96.4408ms - 200
2025-11-19 18:24:21.155 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AiCommandResponseDto'.
2025-11-19 18:24:21.156 +08:00 [INF] Executed action ASG.Api.Controllers.AiController.Command (ASG.Api) in 14033.4424ms
2025-11-19 18:24:21.156 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AiController.Command (ASG.Api)'
2025-11-19 18:24:21.156 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Ai/command - 200 null application/json; charset=utf-8 14035.2106ms
2025-11-19 18:24:45.408 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - null null
2025-11-19 18:24:45.408 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:45.409 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - 204 null null 0.6659ms
2025-11-19 18:24:45.411 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/my-events - application/json null
2025-11-19 18:24:45.411 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:45.412 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-19 18:24:45.414 +08:00 [INF] Route matched with {action = "GetMyEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetMyEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-19 18:24:45.423 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."CreatedByUserId" = @__userId_0
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-19 18:24:45.426 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 18:24:45.426 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api) in 12.1918ms
2025-11-19 18:24:45.426 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-19 18:24:45.427 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/my-events - 200 null application/json; charset=utf-8 15.562ms
2025-11-19 18:24:48.634 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles?page=1&pageSize=10&desc=true - null null
2025-11-19 18:24:48.634 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:48.634 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles?page=1&pageSize=10&desc=true - 204 null null 0.5722ms
2025-11-19 18:24:48.636 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Articles?page=1&pageSize=10&desc=true - application/json null
2025-11-19 18:24:48.636 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:48.637 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.GetArticles (ASG.Api)'
2025-11-19 18:24:48.640 +08:00 [INF] Route matched with {action = "GetArticles", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.ArticleDto]]] GetArticles(Int32, Int32, System.String, Boolean, System.String) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-19 18:24:48.654 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."AuthorUserId", "t"."ContentMarkdown", "t"."CreatedAt", "t"."Likes", "t"."Title", "t"."UpdatedAt", "t"."Views", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId"
FROM (
    SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views"
    FROM "Articles" AS "a"
    ORDER BY "a"."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS "t"
INNER JOIN "Users" AS "u" ON "t"."AuthorUserId" = "u"."Id"
LEFT JOIN "Teams" AS "t0" ON "u"."TeamId" = "t0"."Id"
LEFT JOIN "Comments" AS "c" ON "t"."Id" = "c"."ArticleId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "u"."Id", "t0"."Id"
2025-11-19 18:24:48.671 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Articles" AS "a"
2025-11-19 18:24:48.673 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-19 18:24:48.674 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.ArticleDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 18:24:48.677 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.GetArticles (ASG.Api) in 36.736ms
2025-11-19 18:24:48.677 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.GetArticles (ASG.Api)'
2025-11-19 18:24:48.677 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Articles?page=1&pageSize=10&desc=true - 200 null application/json; charset=utf-8 41.082ms
2025-11-19 18:24:48.680 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - null null
2025-11-19 18:24:48.681 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:48.681 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 204 null null 0.5363ms
2025-11-19 18:24:48.682 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - application/json null
2025-11-19 18:24:48.683 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:48.683 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-19 18:24:48.686 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-19 18:24:48.691 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-19 18:24:48.692 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-19 18:24:48.692 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetUser (ASG.Api) in 6.5222ms
2025-11-19 18:24:48.693 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-19 18:24:48.693 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 200 null application/json; charset=utf-8 10.6069ms
2025-11-19 18:24:51.575 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c - null null
2025-11-19 18:24:51.575 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:51.576 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c - 204 null null 0.8837ms
2025-11-19 18:24:51.581 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c - application/json null
2025-11-19 18:24:51.581 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:51.582 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.GetArticleById (ASG.Api)'
2025-11-19 18:24:51.584 +08:00 [INF] Route matched with {action = "GetArticleById", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.ArticleDto]] GetArticleById(System.Guid) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-19 18:24:51.599 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."AuthorUserId", "t0"."ContentMarkdown", "t0"."CreatedAt", "t0"."Likes", "t0"."Title", "t0"."UpdatedAt", "t0"."Views", "t0"."Id0", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName", "t0"."Id1", "t0"."CreatedAt1", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes0", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt1", "t0"."UserId", "t1"."Id", "t1"."ArticleId", "t1"."AuthorUserId", "t1"."Content", "t1"."CreatedAt", "t1"."ParentId", "t1"."Id0", "t1"."AccessFailedCount", "t1"."ConcurrencyStamp", "t1"."CreatedAt0", "t1"."Email", "t1"."EmailConfirmed", "t1"."EmailCredits", "t1"."FirstName", "t1"."IsActive", "t1"."LastName", "t1"."LockoutEnabled", "t1"."LockoutEnd", "t1"."NormalizedEmail", "t1"."NormalizedUserName", "t1"."PasswordHash", "t1"."PhoneNumber", "t1"."PhoneNumberConfirmed", "t1"."Role", "t1"."SecurityStamp", "t1"."TeamId", "t1"."TwoFactorEnabled", "t1"."UpdatedAt", "t1"."UserName", "t1"."Id1", "t1"."CreatedAt1", "t1"."Description", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt0", "t1"."UserId"
FROM (
    SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName", "t"."Id" AS "Id1", "t"."CreatedAt" AS "CreatedAt1", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes" AS "Likes0", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt1", "t"."UserId"
    FROM "Articles" AS "a"
    INNER JOIN "Users" AS "u" ON "a"."AuthorUserId" = "u"."Id"
    LEFT JOIN "Teams" AS "t" ON "u"."TeamId" = "t"."Id"
    WHERE "a"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId", "u0"."Id" AS "Id0", "u0"."AccessFailedCount", "u0"."ConcurrencyStamp", "u0"."CreatedAt" AS "CreatedAt0", "u0"."Email", "u0"."EmailConfirmed", "u0"."EmailCredits", "u0"."FirstName", "u0"."IsActive", "u0"."LastName", "u0"."LockoutEnabled", "u0"."LockoutEnd", "u0"."NormalizedEmail", "u0"."NormalizedUserName", "u0"."PasswordHash", "u0"."PhoneNumber", "u0"."PhoneNumberConfirmed", "u0"."Role", "u0"."SecurityStamp", "u0"."TeamId", "u0"."TwoFactorEnabled", "u0"."UpdatedAt", "u0"."UserName", "t2"."Id" AS "Id1", "t2"."CreatedAt" AS "CreatedAt1", "t2"."Description", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt" AS "UpdatedAt0", "t2"."UserId"
    FROM "Comments" AS "c"
    INNER JOIN "Users" AS "u0" ON "c"."AuthorUserId" = "u0"."Id"
    LEFT JOIN "Teams" AS "t2" ON "u0"."TeamId" = "t2"."Id"
) AS "t1" ON "t0"."Id" = "t1"."ArticleId"
ORDER BY "t0"."Id", "t0"."Id0", "t0"."Id1", "t1"."Id", "t1"."Id0"
2025-11-19 18:24:51.602 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-19 18:24:51.603 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.ArticleDto'.
2025-11-19 18:24:51.603 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.GetArticleById (ASG.Api) in 18.2422ms
2025-11-19 18:24:51.603 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.GetArticleById (ASG.Api)'
2025-11-19 18:24:51.603 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c - 200 null application/json; charset=utf-8 22.2483ms
2025-11-19 18:24:51.610 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - application/json null
2025-11-19 18:24:51.611 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:51.611 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-19 18:24:51.611 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-19 18:24:51.613 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-19 18:24:51.613 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-19 18:24:51.613 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetUser (ASG.Api) in 1.5297ms
2025-11-19 18:24:51.613 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-19 18:24:51.614 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 200 null application/json; charset=utf-8 3.401ms
2025-11-19 18:24:51.616 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c/comments?page=1&pageSize=20 - null null
2025-11-19 18:24:51.616 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:51.616 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c/comments?page=1&pageSize=20 - 204 null null 0.4463ms
2025-11-19 18:24:51.617 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c/comments?page=1&pageSize=20 - application/json null
2025-11-19 18:24:51.618 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:51.619 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.GetComments (ASG.Api)'
2025-11-19 18:24:51.621 +08:00 [INF] Route matched with {action = "GetComments", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.CommentDto]]] GetComments(System.Guid, Int32, Int32) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-19 18:24:51.635 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__articleId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ArticleId", "t"."AuthorUserId", "t"."Content", "t"."CreatedAt", "t"."ParentId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."Id", "t1"."ArticleId", "t1"."AuthorUserId", "t1"."Content", "t1"."CreatedAt", "t1"."ParentId", "t1"."Id0", "t1"."AccessFailedCount", "t1"."ConcurrencyStamp", "t1"."CreatedAt0", "t1"."Email", "t1"."EmailConfirmed", "t1"."EmailCredits", "t1"."FirstName", "t1"."IsActive", "t1"."LastName", "t1"."LockoutEnabled", "t1"."LockoutEnd", "t1"."NormalizedEmail", "t1"."NormalizedUserName", "t1"."PasswordHash", "t1"."PhoneNumber", "t1"."PhoneNumberConfirmed", "t1"."Role", "t1"."SecurityStamp", "t1"."TeamId", "t1"."TwoFactorEnabled", "t1"."UpdatedAt", "t1"."UserName", "t1"."Id1", "t1"."CreatedAt1", "t1"."Description", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt0", "t1"."UserId"
FROM (
    SELECT "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId"
    FROM "Comments" AS "c"
    WHERE "c"."ArticleId" = @__articleId_0 AND "c"."ParentId" IS NULL
    ORDER BY "c"."CreatedAt"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
INNER JOIN "Users" AS "u" ON "t"."AuthorUserId" = "u"."Id"
LEFT JOIN "Teams" AS "t0" ON "u"."TeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "c0"."Id", "c0"."ArticleId", "c0"."AuthorUserId", "c0"."Content", "c0"."CreatedAt", "c0"."ParentId", "u0"."Id" AS "Id0", "u0"."AccessFailedCount", "u0"."ConcurrencyStamp", "u0"."CreatedAt" AS "CreatedAt0", "u0"."Email", "u0"."EmailConfirmed", "u0"."EmailCredits", "u0"."FirstName", "u0"."IsActive", "u0"."LastName", "u0"."LockoutEnabled", "u0"."LockoutEnd", "u0"."NormalizedEmail", "u0"."NormalizedUserName", "u0"."PasswordHash", "u0"."PhoneNumber", "u0"."PhoneNumberConfirmed", "u0"."Role", "u0"."SecurityStamp", "u0"."TeamId", "u0"."TwoFactorEnabled", "u0"."UpdatedAt", "u0"."UserName", "t2"."Id" AS "Id1", "t2"."CreatedAt" AS "CreatedAt1", "t2"."Description", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt" AS "UpdatedAt0", "t2"."UserId"
    FROM "Comments" AS "c0"
    INNER JOIN "Users" AS "u0" ON "c0"."AuthorUserId" = "u0"."Id"
    LEFT JOIN "Teams" AS "t2" ON "u0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."ParentId"
ORDER BY "t"."CreatedAt", "t"."Id", "u"."Id", "t0"."Id", "t1"."Id", "t1"."Id0"
2025-11-19 18:24:51.638 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__articleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Comments" AS "c"
WHERE "c"."ArticleId" = @__articleId_0 AND "c"."ParentId" IS NULL
2025-11-19 18:24:51.639 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.CommentDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 18:24:51.642 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.GetComments (ASG.Api) in 20.4647ms
2025-11-19 18:24:51.642 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.GetComments (ASG.Api)'
2025-11-19 18:24:51.643 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c/comments?page=1&pageSize=20 - 200 null application/json; charset=utf-8 25.0477ms
2025-11-19 18:24:51.648 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c/view - null null
2025-11-19 18:24:51.649 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:51.649 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c/view - 204 null null 0.8574ms
2025-11-19 18:24:51.650 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c/view - application/json 0
2025-11-19 18:24:51.651 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:51.651 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.AddView (ASG.Api)'
2025-11-19 18:24:51.653 +08:00 [INF] Route matched with {action = "AddView", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] AddView(System.Guid) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-19 18:24:51.657 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views"
FROM "Articles" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2025-11-19 18:24:51.661 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Articles" SET "UpdatedAt" = @p0, "Views" = @p1
WHERE "Id" = @p2
RETURNING 1;
2025-11-19 18:24:51.662 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-11-19 18:24:51.663 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.AddView (ASG.Api) in 9.0343ms
2025-11-19 18:24:51.663 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.AddView (ASG.Api)'
2025-11-19 18:24:51.663 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Articles/65d9bef2-3b50-45cc-b30c-2f3f7c9bb47c/view - 200 null application/json; charset=utf-8 12.8961ms
2025-11-19 18:24:56.758 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - null null
2025-11-19 18:24:56.758 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:56.759 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - 204 null null 0.8553ms
2025-11-19 18:24:56.760 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/profile - application/json null
2025-11-19 18:24:56.760 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:56.760 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-19 18:24:56.763 +08:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-19 18:24:56.765 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-19 18:24:56.765 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-19 18:24:56.766 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetProfile (ASG.Api) in 2.6623ms
2025-11-19 18:24:56.766 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-19 18:24:56.766 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/profile - 200 null application/json; charset=utf-8 6.6812ms
2025-11-19 18:24:56.780 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-19 18:24:56.781 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:56.781 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.6699ms
2025-11-19 18:24:56.782 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-19 18:24:56.783 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:56.784 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-19 18:24:56.787 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-19 18:24:56.798 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-19 18:24:56.801 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-19 18:24:56.801 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 13.9454ms
2025-11-19 18:24:56.801 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-19 18:24:56.801 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 19.1443ms
2025-11-19 18:24:56.805 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - null null
2025-11-19 18:24:56.806 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:56.806 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - 204 null null 0.5192ms
2025-11-19 18:24:56.807 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - application/json null
2025-11-19 18:24:56.808 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:56.808 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api)'
2025-11-19 18:24:56.811 +08:00 [INF] Route matched with {action = "GetTeamHonors", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetTeamHonors(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-19 18:24:56.812 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-19 18:24:56.813 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-19 18:24:56.813 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api) in 2.6381ms
2025-11-19 18:24:56.813 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api)'
2025-11-19 18:24:56.814 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - 200 null application/json; charset=utf-8 6.872ms
2025-11-19 18:24:56.818 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png - null null
2025-11-19 18:24:56.819 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/me/player - null null
2025-11-19 18:24:56.819 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:56.820 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/me/player - 204 null null 0.4998ms
2025-11-19 18:24:56.821 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/me/player - application/json null
2025-11-19 18:24:56.823 +08:00 [INF] The file /team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png was not modified
2025-11-19 18:24:56.823 +08:00 [INF] CORS policy execution successful.
2025-11-19 18:24:56.823 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png - 304 null image/png 4.7233ms
2025-11-19 18:24:56.823 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api)'
2025-11-19 18:24:56.825 +08:00 [INF] Route matched with {action = "GetMyPlayer", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PlayerDto]] GetMyPlayer() on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-19 18:24:56.829 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-11-19 18:24:56.830 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PlayerDto'.
2025-11-19 18:24:56.830 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api) in 5.1317ms
2025-11-19 18:24:56.830 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api)'
2025-11-19 18:24:56.831 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/me/player - 200 null application/json; charset=utf-8 9.3594ms
