2025-11-20 18:18:59.037 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 18:18:59.037 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 18:18:59.042 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:18:59.042 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:18:59.043 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 5.6918ms
2025-11-20 18:18:59.043 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 5.5749ms
2025-11-20 18:18:59.045 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 18:18:59.046 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:18:59.046 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 18:18:59.046 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:18:59.046 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025/11/19 14:22:19', Current time (UTC): '2025/11/20 10:18:59'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-20 18:18:59.046 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025/11/19 14:22:19', Current time (UTC): '2025/11/20 10:18:59'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-20 18:18:59.047 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025/11/19 14:22:19', Current time (UTC): '2025/11/20 10:18:59'.
2025-11-20 18:18:59.048 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025/11/19 14:22:19', Current time (UTC): '2025/11/20 10:18:59'.
2025-11-20 18:18:59.048 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:18:59.048 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:18:59.048 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:18:59.049 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:18:59.049 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 3.1597ms
2025-11-20 18:18:59.049 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 3.6665ms
2025-11-20 18:41:32.263 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 18:41:32.263 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 18:41:32.264 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:41:32.264 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:41:32.264 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.7679ms
2025-11-20 18:41:32.264 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.8485ms
2025-11-20 18:41:32.267 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 18:41:32.267 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 18:41:32.268 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:41:32.268 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:41:32.268 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:41:32.268 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:41:32.269 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:41:32.269 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:41:32.269 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 1.585ms
2025-11-20 18:41:32.269 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 1.6556ms
2025-11-20 18:41:33.348 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 18:41:33.348 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:41:33.348 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 18:41:33.348 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:41:33.348 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:41:33.349 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:41:33.349 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:41:33.349 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 1.2727ms
2025-11-20 18:41:33.349 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:41:33.349 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 1.1572ms
2025-11-20 18:41:52.434 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 18:41:52.434 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 18:41:52.434 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:41:52.434 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:41:52.434 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.7594ms
2025-11-20 18:41:52.434 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.7175ms
2025-11-20 18:41:52.436 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 18:41:52.436 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 18:41:52.436 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:41:52.436 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:41:52.437 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:41:52.437 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:41:52.437 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:41:52.437 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:41:52.437 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 1.0409ms
2025-11-20 18:41:52.437 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 1.2434ms
2025-11-20 18:49:28.704 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 18:49:28.704 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 18:49:28.704 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:49:28.705 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:49:28.705 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.668ms
2025-11-20 18:49:28.705 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4258ms
2025-11-20 18:49:28.706 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 18:49:28.707 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 18:49:28.707 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:49:28.707 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:49:28.708 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-20 18:49:28.708 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-20 18:49:28.711 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-11-20 18:49:28.712 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-11-20 18:49:28.712 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:49:28.712 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:49:28.712 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:49:28.713 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:49:28.713 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 6.1147ms
2025-11-20 18:49:28.713 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 6.4616ms
2025-11-20 18:49:52.493 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - null null
2025-11-20 18:49:52.494 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:49:52.494 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - 204 null null 0.7768ms
2025-11-20 18:49:52.495 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/login - application/json 61
2025-11-20 18:49:52.496 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:49:52.496 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-20 18:49:52.497 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-11-20 18:49:52.505 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-20 18:49:52.560 +08:00 [INF] User logged in successfully: luolan12323@outlook.com
2025-11-20 18:49:52.560 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-11-20 18:49:52.560 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 63.5545ms
2025-11-20 18:49:52.561 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-20 18:49:52.561 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/login - 200 null application/json; charset=utf-8 65.4457ms
2025-11-20 18:50:08.120 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 18:50:08.121 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 18:50:08.121 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:08.121 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:08.122 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 1.2501ms
2025-11-20 18:50:08.122 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.4362ms
2025-11-20 18:50:08.122 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 18:50:08.122 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 18:50:08.123 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:08.123 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:08.123 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.646ms
2025-11-20 18:50:08.123 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.6474ms
2025-11-20 18:50:08.124 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 18:50:08.124 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 18:50:08.124 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:08.124 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:08.125 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 18:50:08.125 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 18:50:08.126 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:50:08.126 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 18:50:08.126 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:50:08.126 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 18:50:08.126 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:08.127 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 18:50:08.127 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:08.127 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:50:08.127 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 18:50:08.128 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:50:08.130 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 18:50:08.132 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 18:50:08.133 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 18:50:08.133 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 18:50:08.135 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 18:50:08.135 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 18:50:08.136 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 18:50:08.136 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 18:50:08.136 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 8.8372ms
2025-11-20 18:50:08.136 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 9.7131ms
2025-11-20 18:50:08.136 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 18:50:08.136 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 18:50:08.137 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 8.5942ms
2025-11-20 18:50:08.137 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 18:50:08.137 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 11.3265ms
2025-11-20 18:50:08.137 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 18:50:08.137 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 13.6762ms
2025-11-20 18:50:08.138 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 18:50:08.138 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 11.8765ms
2025-11-20 18:50:08.138 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 12.4079ms
2025-11-20 18:50:08.139 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 18:50:08.139 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 15.1632ms
2025-11-20 18:50:09.759 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 18:50:09.759 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:09.759 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5817ms
2025-11-20 18:50:09.761 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 18:50:09.761 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:09.761 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 18:50:09.762 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 18:50:09.763 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 18:50:09.764 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 18:50:09.765 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 3.0736ms
2025-11-20 18:50:09.765 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 18:50:09.765 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 4.9416ms
2025-11-20 18:50:09.768 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 18:50:09.768 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:09.768 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.6404ms
2025-11-20 18:50:09.770 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 18:50:09.770 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:09.771 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 18:50:09.774 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:50:09.800 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 18:50:09.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 18:50:09.803 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 18:50:09.804 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 18:50:09.805 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 18:50:10.361 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 18:50:10.448 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 674.5186ms
2025-11-20 18:50:10.449 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 18:50:10.449 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 679.7541ms
2025-11-20 18:50:48.995 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 18:50:48.995 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:48.995 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.7371ms
2025-11-20 18:50:48.999 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 18:50:49.000 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:49.000 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 18:50:49.001 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 18:50:49.002 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 18:50:49.004 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 18:50:49.004 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 3.1373ms
2025-11-20 18:50:49.004 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 18:50:49.005 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 5.243ms
2025-11-20 18:50:49.008 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 18:50:49.009 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:49.009 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.531ms
2025-11-20 18:50:49.010 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 18:50:49.011 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:49.011 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 18:50:49.011 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:50:49.012 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 18:50:49.014 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 18:50:49.015 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 18:50:49.016 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 18:50:49.017 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 18:50:49.018 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 18:50:49.018 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 6.6511ms
2025-11-20 18:50:49.018 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 18:50:49.018 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 8.2281ms
2025-11-20 18:50:50.139 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 18:50:50.140 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:50.140 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 18:50:50.141 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 18:50:50.141 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 18:50:50.143 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 18:50:50.143 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.135ms
2025-11-20 18:50:50.143 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 18:50:50.143 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 4.2168ms
2025-11-20 18:50:50.153 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 18:50:50.154 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:50:50.154 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 18:50:50.154 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:50:50.156 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 18:50:50.158 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 18:50:50.159 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 18:50:50.160 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 18:50:50.160 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 18:50:50.161 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 18:50:50.161 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 6.3441ms
2025-11-20 18:50:50.161 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 18:50:50.161 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 7.9656ms
2025-11-20 18:51:30.992 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 18:51:30.992 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:51:30.993 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.6566ms
2025-11-20 18:51:30.994 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events - application/json 246
2025-11-20 18:51:30.994 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:51:30.994 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-20 18:51:30.997 +08:00 [INF] Route matched with {action = "CreateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] CreateEvent(ASG.Api.DTOs.CreateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:51:31.009 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-20 18:51:31.010 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 18:51:31.011 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api) in 13.6237ms
2025-11-20 18:51:31.011 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-20 18:51:31.011 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events - 400 null application/json; charset=utf-8 17.2107ms
2025-11-20 18:51:45.296 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 18:51:45.297 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:51:45.297 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.5347ms
2025-11-20 18:51:45.298 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events - application/json 246
2025-11-20 18:51:45.298 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:51:45.299 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-20 18:51:45.299 +08:00 [INF] Route matched with {action = "CreateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] CreateEvent(ASG.Api.DTOs.CreateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:51:45.300 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-20 18:51:45.301 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 18:51:45.302 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api) in 2.6303ms
2025-11-20 18:51:45.302 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-20 18:51:45.302 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events - 400 null application/json; charset=utf-8 4.531ms
2025-11-20 18:52:31.636 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 18:52:31.636 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:31.636 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.8273ms
2025-11-20 18:52:31.638 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events - application/json 250
2025-11-20 18:52:31.639 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:31.640 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-20 18:52:31.640 +08:00 [INF] Route matched with {action = "CreateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] CreateEvent(ASG.Api.DTOs.CreateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:52:31.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-20 18:52:31.657 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 36), @p6='?' (Size = 3), @p7='?' (DbType = Int32), @p8='?' (Size = 7), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (Size = 5), @p12='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Events" ("Id", "ChampionTeamId", "CompetitionEndTime", "CompetitionStartTime", "CreatedAt", "CreatedByUserId", "Description", "MaxTeams", "Name", "RegistrationEndTime", "RegistrationStartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-11-20 18:52:31.660 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 18:52:31.675 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api) in 35.2302ms
2025-11-20 18:52:31.676 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-20 18:52:31.676 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events - 201 null application/json; charset=utf-8 37.6522ms
2025-11-20 18:52:31.684 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo - null null
2025-11-20 18:52:31.684 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:31.684 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo - 204 null null 0.4663ms
2025-11-20 18:52:31.686 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo - multipart/form-data; boundary=----WebKitFormBoundaryeiRjpBgoe86yC35U 7007
2025-11-20 18:52:31.686 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:31.687 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.UploadEventLogo (ASG.Api)'
2025-11-20 18:52:31.690 +08:00 [INF] Route matched with {action = "UploadEventLogo", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadEventLogo(System.Guid, Microsoft.AspNetCore.Http.IFormFile) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 18:52:31.705 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 18:52:31.718 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 18:52:31.719 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.UploadEventLogo (ASG.Api) in 28.7911ms
2025-11-20 18:52:31.719 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.UploadEventLogo (ASG.Api)'
2025-11-20 18:52:31.720 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo - 200 null application/json; charset=utf-8 33.8207ms
2025-11-20 18:52:33.185 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 18:52:33.186 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:33.186 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6489ms
2025-11-20 18:52:33.187 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 18:52:33.187 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:33.187 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4206ms
2025-11-20 18:52:33.188 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 18:52:33.188 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:33.189 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 18:52:33.189 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 18:52:33.190 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:33.190 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 18:52:33.191 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 18:52:33.191 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 18:52:33.192 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 18:52:33.192 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 18:52:33.192 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 18:52:33.193 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.6406ms
2025-11-20 18:52:33.193 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 18:52:33.193 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 5.2468ms
2025-11-20 18:52:33.193 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 18:52:33.195 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 18:52:33.196 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 18:52:33.197 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 18:52:33.198 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 18:52:33.199 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 18:52:33.199 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 18:52:33.200 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 18:52:33.201 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 9.238ms
2025-11-20 18:52:33.201 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 18:52:33.201 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 11.5307ms
2025-11-20 18:52:35.385 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 18:52:35.385 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 18:52:35.385 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:35.385 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:35.386 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.4267ms
2025-11-20 18:52:35.386 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4032ms
2025-11-20 18:52:35.389 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 18:52:35.389 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 18:52:35.389 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:35.389 +08:00 [INF] CORS policy execution successful.
2025-11-20 18:52:35.390 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:52:35.390 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 18:52:35.390 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:52:35.390 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 18:52:35.390 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 1.2533ms
2025-11-20 18:52:35.390 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 1.5244ms
2025-11-20 19:10:46.305 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:10:46.305 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:10:46.305 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:10:46.305 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:10:46.305 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5127ms
2025-11-20 19:10:46.305 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5861ms
2025-11-20 19:10:46.328 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:10:46.328 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:10:46.329 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:10:46.329 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:10:46.329 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 19:10:46.329 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 19:10:46.329 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 19:10:46.329 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 19:10:46.329 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 1.0442ms
2025-11-20 19:10:46.330 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 1.1595ms
2025-11-20 19:12:55.175 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 19:12:55.175 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.175 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.5208ms
2025-11-20 19:12:55.179 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events - application/json 249
2025-11-20 19:12:55.179 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.180 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-20 19:12:55.180 +08:00 [INF] Route matched with {action = "CreateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] CreateEvent(ASG.Api.DTOs.CreateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:12:55.184 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-20 19:12:55.188 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 36), @p6='?' (Size = 4), @p7='?' (DbType = Int32), @p8='?' (Size = 5), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (Size = 5), @p12='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Events" ("Id", "ChampionTeamId", "CompetitionEndTime", "CompetitionStartTime", "CreatedAt", "CreatedByUserId", "Description", "MaxTeams", "Name", "RegistrationEndTime", "RegistrationStartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-11-20 19:12:55.189 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 19:12:55.190 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api) in 9.0579ms
2025-11-20 19:12:55.190 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.CreateEvent (ASG.Api)'
2025-11-20 19:12:55.190 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events - 201 null application/json; charset=utf-8 10.9646ms
2025-11-20 19:12:55.195 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/logo - null null
2025-11-20 19:12:55.195 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.195 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/logo - 204 null null 0.5235ms
2025-11-20 19:12:55.197 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/logo - multipart/form-data; boundary=----WebKitFormBoundarypNogmuRcBmPWawPA 43004
2025-11-20 19:12:55.197 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.198 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.UploadEventLogo (ASG.Api)'
2025-11-20 19:12:55.198 +08:00 [INF] Route matched with {action = "UploadEventLogo", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadEventLogo(System.Guid, Microsoft.AspNetCore.Http.IFormFile) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:12:55.200 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:12:55.203 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:12:55.203 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.UploadEventLogo (ASG.Api) in 5.0899ms
2025-11-20 19:12:55.203 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.UploadEventLogo (ASG.Api)'
2025-11-20 19:12:55.204 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/logo - 200 null application/json; charset=utf-8 6.6014ms
2025-11-20 19:12:55.339 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - null null
2025-11-20 19:12:55.340 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.340 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - 204 null null 0.5567ms
2025-11-20 19:12:55.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - application/json null
2025-11-20 19:12:55.341 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.342 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 19:12:55.344 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:12:55.346 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:12:55.347 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 19:12:55.347 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 3.0219ms
2025-11-20 19:12:55.347 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 19:12:55.347 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - 200 null application/json; charset=utf-8 6.1467ms
2025-11-20 19:12:55.351 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - null null
2025-11-20 19:12:55.352 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.352 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 204 null null 0.4584ms
2025-11-20 19:12:55.354 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - application/json null
2025-11-20 19:12:55.354 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.354 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 19:12:55.354 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 19:12:55.356 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 19:12:55.356 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 19:12:55.357 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetUser (ASG.Api) in 2.027ms
2025-11-20 19:12:55.357 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 19:12:55.357 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 200 null application/json; charset=utf-8 3.293ms
2025-11-20 19:12:55.408 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - null null
2025-11-20 19:12:55.408 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/event-logos/85e627c5-74a8-4dd0-a006-b59ada7ab539/logo.png - null null
2025-11-20 19:12:55.409 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.409 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - 204 null null 0.7836ms
2025-11-20 19:12:55.410 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - application/json null
2025-11-20 19:12:55.411 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.411 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 19:12:55.414 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:12:55.416 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 19:12:55.417 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:12:55.419 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:12:55.420 +08:00 [INF] Sending file. Request path: '/event-logos/85e627c5-74a8-4dd0-a006-b59ada7ab539/logo.png'. Physical path: 'C:\Users\luolan\ASG\ASG.Api\wwwroot\event-logos\85e627c5-74a8-4dd0-a006-b59ada7ab539\logo.png'
2025-11-20 19:12:55.420 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 6.3561ms
2025-11-20 19:12:55.420 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/event-logos/85e627c5-74a8-4dd0-a006-b59ada7ab539/logo.png - 200 42806 image/png 12.4319ms
2025-11-20 19:12:55.421 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 19:12:55.421 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - 200 null application/json; charset=utf-8 10.5141ms
2025-11-20 19:12:55.425 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/admins - null null
2025-11-20 19:12:55.425 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.426 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/admins - 204 null null 0.8691ms
2025-11-20 19:12:55.427 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/admins - application/json null
2025-11-20 19:12:55.428 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:12:55.428 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 19:12:55.431 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:12:55.435 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 19:12:55.435 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:12:55.436 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 4.5708ms
2025-11-20 19:12:55.436 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 19:12:55.436 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/admins - 200 null application/json; charset=utf-8 8.8688ms
2025-11-20 19:13:07.863 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 19:13:07.863 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:07.863 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.7635ms
2025-11-20 19:13:07.864 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 19:13:07.865 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:07.865 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:13:07.865 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:13:07.867 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 19:13:07.868 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 19:13:07.868 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.6695ms
2025-11-20 19:13:07.868 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:13:07.868 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.9647ms
2025-11-20 19:13:07.872 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - null null
2025-11-20 19:13:07.872 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:07.872 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - 204 null null 0.5246ms
2025-11-20 19:13:07.873 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - application/json 49
2025-11-20 19:13:07.873 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:07.874 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 19:13:07.874 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:13:07.875 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:13:07.876 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:13:07.876 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:13:07.877 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 19:13:07.877 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:13:07.878 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 3.9411ms
2025-11-20 19:13:07.878 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 19:13:07.878 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - 400 null application/json; charset=utf-8 4.8921ms
2025-11-20 19:13:47.602 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - null null
2025-11-20 19:13:47.603 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.604 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 19:13:47.625 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:13:47.625 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.625 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5658ms
2025-11-20 19:13:47.625 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:13:47.626 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:13:47.626 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.626 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.626 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5817ms
2025-11-20 19:13:47.626 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4171ms
2025-11-20 19:13:47.627 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:13:47.627 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.627 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:13:47.628 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:47.628 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.628 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:13:47.628 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:13:47.628 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:47.628 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.628 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:13:47.628 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:47.628 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:13:47.629 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:47.629 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:13:47.629 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.4657ms
2025-11-20 19:13:47.629 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:47.630 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.7266ms
2025-11-20 19:13:47.630 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:13:47.631 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:13:47.631 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:13:47.631 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:13:47.631 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:13:47.631 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:13:47.632 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:13:47.632 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:13:47.633 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:47.633 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:47.633 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:13:47.633 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:13:47.634 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:13:47.634 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:13:47.634 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:47.634 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:47.634 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:47.634 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:47.634 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 5.7234ms
2025-11-20 19:13:47.634 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 6.0543ms
2025-11-20 19:13:47.635 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:47.635 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:47.635 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.9672ms
2025-11-20 19:13:47.635 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 7.374ms
2025-11-20 19:13:47.645 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:13:47.645 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - null null
2025-11-20 19:13:47.645 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.646 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.646 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - 204 null null 0.3417ms
2025-11-20 19:13:47.646 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6012ms
2025-11-20 19:13:47.647 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - application/json 0
2025-11-20 19:13:47.647 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.648 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:13:47.648 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:13:47.648 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.648 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:47.649 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:13:47.649 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:47.650 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:13:47.650 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.0706ms
2025-11-20 19:13:47.650 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:47.650 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.3234ms
2025-11-20 19:13:47.650 +08:00 [INF] Route matched with {action = "ReadAll", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReadAll() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:13:47.654 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:47.654 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:47.655 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api) in 5.098ms
2025-11-20 19:13:47.656 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:13:47.656 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - 200 null application/json; charset=utf-8 8.5122ms
2025-11-20 19:13:47.671 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:13:47.671 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.672 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.734ms
2025-11-20 19:13:47.673 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:13:47.674 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.674 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:47.674 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:13:47.675 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:13:47.676 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:13:47.676 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:13:47.676 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:13:47.677 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:47.678 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:13:47.678 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:13:47.679 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:47.679 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:47.679 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.66ms
2025-11-20 19:13:47.679 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:47.680 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.1133ms
2025-11-20 19:13:47.684 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:13:47.685 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.685 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.4983ms
2025-11-20 19:13:47.687 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:13:47.687 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.687 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:47.688 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:13:47.688 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:47.689 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:13:47.689 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.321ms
2025-11-20 19:13:47.689 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:47.689 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.8191ms
2025-11-20 19:13:47.695 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:13:47.695 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.695 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.3375ms
2025-11-20 19:13:47.696 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:13:47.696 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:47.697 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:47.697 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:13:47.698 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:13:47.698 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:13:47.699 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:13:47.700 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:13:47.700 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:47.701 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:13:47.701 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:13:47.701 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:47.702 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:47.702 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.7129ms
2025-11-20 19:13:47.702 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:47.702 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.029ms
2025-11-20 19:13:56.385 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - null null
2025-11-20 19:13:56.385 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:56.386 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - 204 null null 0.737ms
2025-11-20 19:13:56.388 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/profile - application/json null
2025-11-20 19:13:56.388 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:56.388 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 19:13:56.388 +08:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 19:13:56.389 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 19:13:56.389 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - 101 null null 8787.6279ms
2025-11-20 19:13:56.390 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 19:13:56.390 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 19:13:56.391 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetProfile (ASG.Api) in 1.8736ms
2025-11-20 19:13:56.391 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 19:13:56.391 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/profile - 200 null application/json; charset=utf-8 3.4144ms
2025-11-20 19:13:56.963 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:13:56.963 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:13:56.963 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:56.963 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:56.964 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5217ms
2025-11-20 19:13:56.964 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.8566ms
2025-11-20 19:13:56.966 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:13:56.967 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:13:56.967 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:56.967 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:56.967 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 19:13:56.967 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 19:13:56.967 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 19:13:56.967 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 19:13:56.967 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 0.8466ms
2025-11-20 19:13:56.967 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 0.7357ms
2025-11-20 19:13:57.103 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:13:57.103 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:13:57.103 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.104 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.104 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.8902ms
2025-11-20 19:13:57.104 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 1.5539ms
2025-11-20 19:13:57.109 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:13:57.109 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:13:57.109 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.109 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.111 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:57.111 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:57.111 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:13:57.111 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:13:57.113 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:13:57.114 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:13:57.114 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:57.117 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:13:57.117 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:13:57.119 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 6.629ms
2025-11-20 19:13:57.119 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:57.120 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:13:57.120 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 11.0906ms
2025-11-20 19:13:57.124 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:57.129 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:13:57.135 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:13:57.137 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:57.138 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:57.139 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 26.2083ms
2025-11-20 19:13:57.139 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:57.139 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 31.0104ms
2025-11-20 19:13:57.377 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - null null
2025-11-20 19:13:57.378 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.379 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 19:13:57.388 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:13:57.389 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.389 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:13:57.389 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:13:57.389 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.7437ms
2025-11-20 19:13:57.389 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.389 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.389 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6799ms
2025-11-20 19:13:57.389 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6054ms
2025-11-20 19:13:57.391 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:13:57.392 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.392 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:13:57.392 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.392 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:13:57.392 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:57.392 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:57.392 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.393 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:13:57.393 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:13:57.393 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:57.393 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:13:57.394 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:13:57.394 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:13:57.394 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:57.394 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:13:57.394 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:13:57.394 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:13:57.395 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:13:57.395 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.05ms
2025-11-20 19:13:57.395 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:13:57.395 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:57.395 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:13:57.395 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 3.788ms
2025-11-20 19:13:57.395 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:13:57.396 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:57.396 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:57.396 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:13:57.397 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:13:57.397 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:13:57.397 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:13:57.398 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:57.398 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:57.398 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:57.398 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:57.398 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.9021ms
2025-11-20 19:13:57.398 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:57.398 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 5.2375ms
2025-11-20 19:13:57.398 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:57.398 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.2594ms
2025-11-20 19:13:57.398 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.538ms
2025-11-20 19:13:57.410 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:13:57.411 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.411 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6605ms
2025-11-20 19:13:57.412 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - null null
2025-11-20 19:13:57.412 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.412 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - 204 null null 0.3764ms
2025-11-20 19:13:57.413 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:13:57.413 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.413 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - application/json 0
2025-11-20 19:13:57.414 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.414 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:57.414 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:13:57.414 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:13:57.415 +08:00 [INF] Route matched with {action = "ReadAll", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReadAll() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:13:57.415 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:57.415 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:57.415 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:13:57.416 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:57.416 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.3298ms
2025-11-20 19:13:57.416 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api) in 0.9449ms
2025-11-20 19:13:57.416 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:57.416 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:13:57.416 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.7781ms
2025-11-20 19:13:57.416 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - 200 null application/json; charset=utf-8 2.5923ms
2025-11-20 19:13:57.421 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:13:57.422 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.422 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5434ms
2025-11-20 19:13:57.424 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:13:57.424 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.425 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:57.425 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:13:57.426 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:13:57.426 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:13:57.427 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:13:57.428 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:13:57.429 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:57.429 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:13:57.429 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:13:57.430 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:57.430 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:57.430 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 5.1684ms
2025-11-20 19:13:57.430 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:57.431 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.9604ms
2025-11-20 19:13:57.442 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:13:57.442 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.442 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6492ms
2025-11-20 19:13:57.444 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:13:57.444 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.445 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:57.445 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:13:57.446 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:57.447 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:13:57.447 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.5774ms
2025-11-20 19:13:57.447 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:13:57.447 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 3.2657ms
2025-11-20 19:13:57.459 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:13:57.459 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.459 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5388ms
2025-11-20 19:13:57.461 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:13:57.461 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:57.462 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:57.462 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:13:57.463 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:13:57.464 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:13:57.464 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:13:57.465 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:13:57.465 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:13:57.466 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:13:57.466 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:13:57.467 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:13:57.467 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:13:57.467 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 5.3491ms
2025-11-20 19:13:57.468 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:13:57.468 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.5708ms
2025-11-20 19:13:59.712 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 19:13:59.712 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - 101 null null 2335.161ms
2025-11-20 19:13:59.729 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - null null
2025-11-20 19:13:59.730 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:59.730 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - 204 null null 0.6192ms
2025-11-20 19:13:59.733 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/my-events - application/json null
2025-11-20 19:13:59.734 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:13:59.734 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:13:59.734 +08:00 [INF] Route matched with {action = "GetMyEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetMyEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:13:59.735 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."CreatedByUserId" = @__userId_0
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:13:59.737 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:13:59.737 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api) in 2.8893ms
2025-11-20 19:13:59.737 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:13:59.737 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/my-events - 200 null application/json; charset=utf-8 4.2235ms
2025-11-20 19:14:02.410 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - null null
2025-11-20 19:14:02.410 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:02.410 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - 204 null null 0.6525ms
2025-11-20 19:14:02.412 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - application/json 260
2025-11-20 19:14:02.412 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:02.412 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.UpdateEvent (ASG.Api)'
2025-11-20 19:14:02.415 +08:00 [INF] Route matched with {action = "UpdateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] UpdateEvent(System.Guid, ASG.Api.DTOs.UpdateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:02.424 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:14:02.426 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:14:02.427 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-20 19:14:02.428 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 36), @p5='?' (Size = 4), @p6='?' (DbType = Int32), @p7='?' (Size = 5), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (Size = 16), @p11='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Events" SET "ChampionTeamId" = @p0, "CompetitionEndTime" = @p1, "CompetitionStartTime" = @p2, "CreatedAt" = @p3, "CreatedByUserId" = @p4, "Description" = @p5, "MaxTeams" = @p6, "Name" = @p7, "RegistrationEndTime" = @p8, "RegistrationStartTime" = @p9, "Status" = @p10, "UpdatedAt" = @p11
WHERE "Id" = @p12
RETURNING 1;
2025-11-20 19:14:02.429 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 19:14:02.429 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.UpdateEvent (ASG.Api) in 13.2811ms
2025-11-20 19:14:02.429 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.UpdateEvent (ASG.Api)'
2025-11-20 19:14:02.429 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - 200 null application/json; charset=utf-8 17.3371ms
2025-11-20 19:14:02.432 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - null null
2025-11-20 19:14:02.432 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:02.432 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - 204 null null 0.3187ms
2025-11-20 19:14:02.434 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/my-events - application/json null
2025-11-20 19:14:02.435 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:02.435 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:14:02.435 +08:00 [INF] Route matched with {action = "GetMyEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetMyEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:02.436 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."CreatedByUserId" = @__userId_0
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:14:02.438 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:14:02.438 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api) in 2.6375ms
2025-11-20 19:14:02.438 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:14:02.438 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/my-events - 200 null application/json; charset=utf-8 4.1301ms
2025-11-20 19:14:02.714 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - null null
2025-11-20 19:14:02.715 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:02.715 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 19:14:02.719 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:14:02.719 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:14:02.720 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:02.720 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:02.720 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5021ms
2025-11-20 19:14:02.720 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.3914ms
2025-11-20 19:14:02.721 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:14:02.722 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:14:02.722 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:02.722 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:02.722 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:14:02.722 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:14:02.722 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:14:02.722 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:14:02.723 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:14:02.723 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:14:02.723 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:14:02.723 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 0.818ms
2025-11-20 19:14:02.723 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:14:02.723 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:14:02.723 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 1.7318ms
2025-11-20 19:14:02.724 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:14:02.724 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:14:02.725 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:14:02.725 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:14:02.725 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:14:02.726 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:14:02.726 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:14:02.726 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.8965ms
2025-11-20 19:14:02.726 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:14:02.726 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 4.8017ms
2025-11-20 19:14:06.683 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 19:14:06.683 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 19:14:06.683 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:06.683 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:06.683 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.6012ms
2025-11-20 19:14:06.683 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.3692ms
2025-11-20 19:14:06.684 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 19:14:06.684 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:06.684 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.3556ms
2025-11-20 19:14:06.685 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 19:14:06.685 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:06.685 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.2674ms
2025-11-20 19:14:06.687 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 19:14:06.687 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:06.687 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 19:14:06.688 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:06.688 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 19:14:06.688 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 19:14:06.688 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 19:14:06.688 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 19:14:06.688 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:06.688 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:06.688 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:06.688 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:06.689 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 19:14:06.689 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 19:14:06.689 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:06.689 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:06.691 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:14:06.691 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:14:06.691 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:14:06.693 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 19:14:06.694 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:14:06.694 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 19:14:06.695 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 6.0257ms
2025-11-20 19:14:06.695 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 19:14:06.695 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 7.971ms
2025-11-20 19:14:06.695 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:14:06.696 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:14:06.696 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 6.9783ms
2025-11-20 19:14:06.696 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 19:14:06.696 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 9.0333ms
2025-11-20 19:14:06.696 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 6.8035ms
2025-11-20 19:14:06.697 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 19:14:06.697 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 9.2267ms
2025-11-20 19:14:06.707 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:14:06.709 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:14:06.710 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 20.2128ms
2025-11-20 19:14:06.710 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 19:14:06.710 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 22.486ms
2025-11-20 19:14:10.204 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - null null
2025-11-20 19:14:10.205 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:10.205 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - 204 null null 0.8752ms
2025-11-20 19:14:10.207 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - application/json null
2025-11-20 19:14:10.208 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:10.208 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 19:14:10.209 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:10.210 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:14:10.212 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 19:14:10.212 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 3.6581ms
2025-11-20 19:14:10.212 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 19:14:10.213 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539 - 200 null application/json; charset=utf-8 5.2455ms
2025-11-20 19:14:10.219 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - null null
2025-11-20 19:14:10.219 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:10.219 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 204 null null 0.5931ms
2025-11-20 19:14:10.222 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - application/json null
2025-11-20 19:14:10.222 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:10.222 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 19:14:10.223 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 19:14:10.223 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 19:14:10.224 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 19:14:10.225 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetUser (ASG.Api) in 1.8114ms
2025-11-20 19:14:10.225 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 19:14:10.225 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 200 null application/json; charset=utf-8 3.3917ms
2025-11-20 19:14:10.272 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/event-logos/85e627c5-74a8-4dd0-a006-b59ada7ab539/logo.png - null null
2025-11-20 19:14:10.272 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - null null
2025-11-20 19:14:10.273 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:10.273 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - 204 null null 0.4633ms
2025-11-20 19:14:10.274 +08:00 [INF] Sending file. Request path: '/event-logos/85e627c5-74a8-4dd0-a006-b59ada7ab539/logo.png'. Physical path: 'C:\Users\luolan\ASG\ASG.Api\wwwroot\event-logos\85e627c5-74a8-4dd0-a006-b59ada7ab539\logo.png'
2025-11-20 19:14:10.274 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - application/json null
2025-11-20 19:14:10.274 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/event-logos/85e627c5-74a8-4dd0-a006-b59ada7ab539/logo.png - 200 42806 image/png 2.0331ms
2025-11-20 19:14:10.275 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:10.275 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 19:14:10.275 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:10.276 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 19:14:10.277 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:14:10.278 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:14:10.278 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 2.9173ms
2025-11-20 19:14:10.278 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 19:14:10.278 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - 200 null application/json; charset=utf-8 4.1938ms
2025-11-20 19:14:10.283 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/admins - null null
2025-11-20 19:14:10.284 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:10.284 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/admins - 204 null null 0.7098ms
2025-11-20 19:14:10.286 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/admins - application/json null
2025-11-20 19:14:10.286 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:10.286 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 19:14:10.287 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:10.288 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 19:14:10.288 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:14:10.288 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 1.316ms
2025-11-20 19:14:10.288 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 19:14:10.288 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/admins - 200 null application/json; charset=utf-8 2.5754ms
2025-11-20 19:14:12.079 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 19:14:12.080 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:12.080 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.7966ms
2025-11-20 19:14:12.082 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 19:14:12.082 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:12.082 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:14:12.082 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:14:12.084 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 19:14:12.085 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 19:14:12.085 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.3199ms
2025-11-20 19:14:12.085 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:14:12.085 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.6123ms
2025-11-20 19:14:12.089 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - null null
2025-11-20 19:14:12.089 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:12.089 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - 204 null null 0.2949ms
2025-11-20 19:14:12.090 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - application/json 49
2025-11-20 19:14:12.090 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:12.091 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 19:14:12.091 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:12.092 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:14:12.093 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:14:12.093 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:14:12.094 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 19:14:12.094 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 19:14:12.094 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 19:14:12.095 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (Size = 36), @p6='?' (DbType = DateTime), @p7='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TeamEvents" ("EventId", "TeamId", "InviteExpiresAt", "InviteToken", "Notes", "RegisteredByUserId", "RegistrationTime", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-20 19:14:12.096 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamEventDto'.
2025-11-20 19:14:12.096 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.1638ms
2025-11-20 19:14:12.096 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 19:14:12.096 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - 200 null application/json; charset=utf-8 6.0342ms
2025-11-20 19:14:12.103 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - null null
2025-11-20 19:14:12.103 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:12.103 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - 204 null null 0.4745ms
2025-11-20 19:14:12.105 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - application/json null
2025-11-20 19:14:12.105 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:14:12.105 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 19:14:12.105 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:14:12.107 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 19:14:12.108 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:14:12.110 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:14:12.110 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 4.3866ms
2025-11-20 19:14:12.110 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 19:14:12.111 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/registrations - 200 null application/json; charset=utf-8 5.9643ms
2025-11-20 19:18:56.834 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 19:18:56.834 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:18:56.835 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.4739ms
2025-11-20 19:18:56.836 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 19:18:56.836 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:18:56.836 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:18:56.836 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:18:56.837 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 19:18:56.838 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 19:18:56.839 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.246ms
2025-11-20 19:18:56.839 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:18:56.839 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.2411ms
2025-11-20 19:18:56.843 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - null null
2025-11-20 19:18:56.843 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:18:56.843 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - 204 null null 0.407ms
2025-11-20 19:18:56.844 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - application/json 49
2025-11-20 19:18:56.844 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:18:56.845 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 19:18:56.845 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:18:56.846 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:18:56.848 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:18:56.849 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:18:56.849 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 19:18:56.850 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 19:18:56.850 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:18:56.851 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.5861ms
2025-11-20 19:18:56.851 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 19:18:56.851 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - 400 null application/json; charset=utf-8 6.7673ms
2025-11-20 19:19:03.589 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - null null
2025-11-20 19:19:03.589 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:03.589 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - 204 null null 0.857ms
2025-11-20 19:19:03.591 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/profile - application/json null
2025-11-20 19:19:03.591 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:03.592 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 19:19:03.592 +08:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 19:19:03.593 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 19:19:03.593 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 19:19:03.593 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetProfile (ASG.Api) in 1.3116ms
2025-11-20 19:19:03.593 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 19:19:03.593 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/profile - 200 null application/json; charset=utf-8 2.4199ms
2025-11-20 19:19:03.605 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 19:19:03.605 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:03.606 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5404ms
2025-11-20 19:19:03.607 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 19:19:03.607 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:03.608 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:19:03.608 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:19:03.609 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 19:19:03.611 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 19:19:03.611 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.4923ms
2025-11-20 19:19:03.611 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:19:03.611 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.7933ms
2025-11-20 19:19:03.619 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - null null
2025-11-20 19:19:03.619 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:03.619 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - 204 null null 0.5371ms
2025-11-20 19:19:03.621 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - application/json null
2025-11-20 19:19:03.622 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:03.622 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api)'
2025-11-20 19:19:03.622 +08:00 [INF] Route matched with {action = "GetTeamHonors", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetTeamHonors(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:19:03.623 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 19:19:03.623 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:03.624 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api) in 1.4115ms
2025-11-20 19:19:03.624 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api)'
2025-11-20 19:19:03.624 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - 200 null application/json; charset=utf-8 2.535ms
2025-11-20 19:19:03.642 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png - null null
2025-11-20 19:19:03.642 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/me/player - null null
2025-11-20 19:19:03.642 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:03.642 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/me/player - 204 null null 0.3856ms
2025-11-20 19:19:03.644 +08:00 [INF] Sending file. Request path: '/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png'. Physical path: 'C:\Users\luolan\ASG\ASG.Api\wwwroot\team-logos\9978dc91-5a58-4102-bbd4-c9f01ee84757\logo.png'
2025-11-20 19:19:03.644 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/me/player - application/json null
2025-11-20 19:19:03.644 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png - 200 12370 image/png 2.4016ms
2025-11-20 19:19:03.644 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:03.645 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api)'
2025-11-20 19:19:03.645 +08:00 [INF] Route matched with {action = "GetMyPlayer", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PlayerDto]] GetMyPlayer() on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:19:03.646 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-11-20 19:19:03.646 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PlayerDto'.
2025-11-20 19:19:03.646 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api) in 1.0802ms
2025-11-20 19:19:03.646 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api)'
2025-11-20 19:19:03.646 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/me/player - 200 null application/json; charset=utf-8 2.614ms
2025-11-20 19:19:05.456 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:05.456 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.456 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.3892ms
2025-11-20 19:19:05.457 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:05.457 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.458 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:05.458 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:05.459 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:05.459 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:05.459 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:05.460 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:05.460 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:05.460 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:05.461 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:05.461 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:05.462 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:05.462 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.1872ms
2025-11-20 19:19:05.462 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:05.462 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.2864ms
2025-11-20 19:19:05.473 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:05.473 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.473 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.4344ms
2025-11-20 19:19:05.474 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - null null
2025-11-20 19:19:05.474 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.474 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - 204 null null 0.3689ms
2025-11-20 19:19:05.475 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:05.475 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - application/json 0
2025-11-20 19:19:05.475 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.475 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.475 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:19:05.475 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:05.476 +08:00 [INF] Route matched with {action = "ReadAll", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReadAll() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:05.476 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:05.476 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:05.476 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:05.476 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:05.477 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api) in 0.9054ms
2025-11-20 19:19:05.477 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:05.477 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:19:05.477 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - 200 null application/json; charset=utf-8 2.1316ms
2025-11-20 19:19:05.477 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.2291ms
2025-11-20 19:19:05.477 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:05.478 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.7562ms
2025-11-20 19:19:05.480 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:05.480 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.480 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.3759ms
2025-11-20 19:19:05.481 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:05.481 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.481 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:05.482 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:05.482 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:05.482 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:05.483 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:05.483 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:05.484 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:05.484 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:05.485 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:05.485 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:05.486 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:05.486 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.1149ms
2025-11-20 19:19:05.486 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:05.486 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.0836ms
2025-11-20 19:19:05.493 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:05.494 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.494 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.8192ms
2025-11-20 19:19:05.495 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:05.495 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.496 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:05.496 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:05.496 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:05.497 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:05.497 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 0.9083ms
2025-11-20 19:19:05.497 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:05.497 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 1.8032ms
2025-11-20 19:19:05.500 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:05.500 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.500 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.353ms
2025-11-20 19:19:05.501 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:05.502 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:05.502 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:05.502 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:05.502 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:05.503 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:05.503 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:05.504 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:05.504 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:05.505 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:05.505 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:05.505 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:05.506 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:05.506 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.6758ms
2025-11-20 19:19:05.506 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:05.506 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 4.6946ms
2025-11-20 19:19:10.876 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 19:19:10.876 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - 101 null null 308161.7987ms
2025-11-20 19:19:10.903 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - null null
2025-11-20 19:19:10.903 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:10.903 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - 204 null null 0.6801ms
2025-11-20 19:19:10.905 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/my-events - application/json null
2025-11-20 19:19:10.905 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:10.906 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:19:10.906 +08:00 [INF] Route matched with {action = "GetMyEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetMyEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:19:10.907 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."CreatedByUserId" = @__userId_0
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:19:10.908 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:10.908 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api) in 1.9199ms
2025-11-20 19:19:10.908 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:19:10.908 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/my-events - 200 null application/json; charset=utf-8 2.9155ms
2025-11-20 19:19:13.885 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - null null
2025-11-20 19:19:13.886 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:13.886 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 19:19:13.889 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:13.890 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:13.890 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:13.890 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6863ms
2025-11-20 19:19:13.890 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:13.890 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5376ms
2025-11-20 19:19:13.892 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:13.892 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:13.892 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:13.892 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:13.892 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:13.892 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:13.892 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:13.893 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:13.893 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:13.893 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:13.893 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:13.894 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 0.9956ms
2025-11-20 19:19:13.894 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:13.894 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.1689ms
2025-11-20 19:19:13.894 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:13.894 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:13.895 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:13.896 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:13.896 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:13.896 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:13.897 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:13.897 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:13.897 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.698ms
2025-11-20 19:19:13.898 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:13.898 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.9898ms
2025-11-20 19:19:16.308 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles?page=1&pageSize=10&desc=true - null null
2025-11-20 19:19:16.309 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:16.309 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles?page=1&pageSize=10&desc=true - 204 null null 0.6236ms
2025-11-20 19:19:16.311 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Articles?page=1&pageSize=10&desc=true - application/json null
2025-11-20 19:19:16.311 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:16.311 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.GetArticles (ASG.Api)'
2025-11-20 19:19:16.311 +08:00 [INF] Route matched with {action = "GetArticles", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.ArticleDto]]] GetArticles(Int32, Int32, System.String, Boolean, System.String) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-20 19:19:16.314 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."AuthorUserId", "t"."ContentMarkdown", "t"."CreatedAt", "t"."Likes", "t"."Title", "t"."UpdatedAt", "t"."Views", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId"
FROM (
    SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views"
    FROM "Articles" AS "a"
    ORDER BY "a"."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS "t"
INNER JOIN "Users" AS "u" ON "t"."AuthorUserId" = "u"."Id"
LEFT JOIN "Teams" AS "t0" ON "u"."TeamId" = "t0"."Id"
LEFT JOIN "Comments" AS "c" ON "t"."Id" = "c"."ArticleId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "u"."Id", "t0"."Id"
2025-11-20 19:19:16.317 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Articles" AS "a"
2025-11-20 19:19:16.318 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 19:19:16.319 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.ArticleDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:16.319 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.GetArticles (ASG.Api) in 7.3747ms
2025-11-20 19:19:16.319 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.GetArticles (ASG.Api)'
2025-11-20 19:19:16.320 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Articles?page=1&pageSize=10&desc=true - 200 null application/json; charset=utf-8 8.9299ms
2025-11-20 19:19:16.321 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 19:19:16.321 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - 101 null null 2436.1632ms
2025-11-20 19:19:20.685 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:20.685 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:20.686 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:20.686 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:20.686 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5182ms
2025-11-20 19:19:20.686 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6399ms
2025-11-20 19:19:20.687 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:20.687 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:20.687 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:20.687 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:20.688 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:20.688 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:20.688 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:20.688 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:20.688 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:20.688 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:20.689 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:20.689 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:20.689 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.0759ms
2025-11-20 19:19:20.689 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:20.689 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.1532ms
2025-11-20 19:19:20.689 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:20.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:20.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:20.691 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:20.691 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:20.691 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:20.692 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:20.692 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.312ms
2025-11-20 19:19:20.692 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:20.692 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.284ms
2025-11-20 19:19:31.949 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles - null null
2025-11-20 19:19:31.949 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:31.950 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles - 204 null null 0.7308ms
2025-11-20 19:19:31.954 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Articles - application/json 40
2025-11-20 19:19:31.954 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:31.954 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.CreateArticle (ASG.Api)'
2025-11-20 19:19:31.957 +08:00 [INF] Route matched with {action = "CreateArticle", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.ArticleDto]] CreateArticle(ASG.Api.DTOs.CreateArticleDto) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-20 19:19:31.961 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 19:19:31.966 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 36), @p2='?' (Size = 4), @p3='?' (DbType = DateTime), @p4='?' (Size = 3), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Articles" ("Id", "AuthorUserId", "ContentMarkdown", "CreatedAt", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Likes", "Views";
2025-11-20 19:19:31.973 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 19:19:31.973 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'ASG.Api.DTOs.ArticleDto'.
2025-11-20 19:19:31.973 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.CreateArticle (ASG.Api) in 16.3702ms
2025-11-20 19:19:31.974 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.CreateArticle (ASG.Api)'
2025-11-20 19:19:31.974 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Articles - 201 null application/json; charset=utf-8 20.1727ms
2025-11-20 19:19:32.061 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920 - null null
2025-11-20 19:19:32.062 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:32.062 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920 - 204 null null 0.8501ms
2025-11-20 19:19:32.064 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920 - application/json null
2025-11-20 19:19:32.064 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:32.064 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.GetArticleById (ASG.Api)'
2025-11-20 19:19:32.064 +08:00 [INF] Route matched with {action = "GetArticleById", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.ArticleDto]] GetArticleById(System.Guid) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-20 19:19:32.066 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."AuthorUserId", "t0"."ContentMarkdown", "t0"."CreatedAt", "t0"."Likes", "t0"."Title", "t0"."UpdatedAt", "t0"."Views", "t0"."Id0", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName", "t0"."Id1", "t0"."CreatedAt1", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes0", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt1", "t0"."UserId", "t1"."Id", "t1"."ArticleId", "t1"."AuthorUserId", "t1"."Content", "t1"."CreatedAt", "t1"."ParentId", "t1"."Id0", "t1"."AccessFailedCount", "t1"."ConcurrencyStamp", "t1"."CreatedAt0", "t1"."Email", "t1"."EmailConfirmed", "t1"."EmailCredits", "t1"."FirstName", "t1"."IsActive", "t1"."LastName", "t1"."LockoutEnabled", "t1"."LockoutEnd", "t1"."NormalizedEmail", "t1"."NormalizedUserName", "t1"."PasswordHash", "t1"."PhoneNumber", "t1"."PhoneNumberConfirmed", "t1"."Role", "t1"."SecurityStamp", "t1"."TeamId", "t1"."TwoFactorEnabled", "t1"."UpdatedAt", "t1"."UserName", "t1"."Id1", "t1"."CreatedAt1", "t1"."Description", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt0", "t1"."UserId"
FROM (
    SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName", "t"."Id" AS "Id1", "t"."CreatedAt" AS "CreatedAt1", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes" AS "Likes0", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt1", "t"."UserId"
    FROM "Articles" AS "a"
    INNER JOIN "Users" AS "u" ON "a"."AuthorUserId" = "u"."Id"
    LEFT JOIN "Teams" AS "t" ON "u"."TeamId" = "t"."Id"
    WHERE "a"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId", "u0"."Id" AS "Id0", "u0"."AccessFailedCount", "u0"."ConcurrencyStamp", "u0"."CreatedAt" AS "CreatedAt0", "u0"."Email", "u0"."EmailConfirmed", "u0"."EmailCredits", "u0"."FirstName", "u0"."IsActive", "u0"."LastName", "u0"."LockoutEnabled", "u0"."LockoutEnd", "u0"."NormalizedEmail", "u0"."NormalizedUserName", "u0"."PasswordHash", "u0"."PhoneNumber", "u0"."PhoneNumberConfirmed", "u0"."Role", "u0"."SecurityStamp", "u0"."TeamId", "u0"."TwoFactorEnabled", "u0"."UpdatedAt", "u0"."UserName", "t2"."Id" AS "Id1", "t2"."CreatedAt" AS "CreatedAt1", "t2"."Description", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt" AS "UpdatedAt0", "t2"."UserId"
    FROM "Comments" AS "c"
    INNER JOIN "Users" AS "u0" ON "c"."AuthorUserId" = "u0"."Id"
    LEFT JOIN "Teams" AS "t2" ON "u0"."TeamId" = "t2"."Id"
) AS "t1" ON "t0"."Id" = "t1"."ArticleId"
ORDER BY "t0"."Id", "t0"."Id0", "t0"."Id1", "t1"."Id", "t1"."Id0"
2025-11-20 19:19:32.069 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 19:19:32.070 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.ArticleDto'.
2025-11-20 19:19:32.070 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.GetArticleById (ASG.Api) in 5.335ms
2025-11-20 19:19:32.070 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.GetArticleById (ASG.Api)'
2025-11-20 19:19:32.070 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920 - 200 null application/json; charset=utf-8 6.7095ms
2025-11-20 19:19:32.086 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - null null
2025-11-20 19:19:32.087 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:32.087 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 204 null null 0.6128ms
2025-11-20 19:19:32.096 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - application/json null
2025-11-20 19:19:32.096 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:32.097 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 19:19:32.097 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 19:19:32.097 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 19:19:32.098 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 19:19:32.098 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetUser (ASG.Api) in 1.384ms
2025-11-20 19:19:32.098 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 19:19:32.099 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 200 null application/json; charset=utf-8 2.5915ms
2025-11-20 19:19:32.103 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/comments?page=1&pageSize=20 - null null
2025-11-20 19:19:32.103 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:32.103 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/comments?page=1&pageSize=20 - 204 null null 0.5578ms
2025-11-20 19:19:32.104 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/comments?page=1&pageSize=20 - application/json null
2025-11-20 19:19:32.105 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:32.105 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.GetComments (ASG.Api)'
2025-11-20 19:19:32.105 +08:00 [INF] Route matched with {action = "GetComments", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.CommentDto]]] GetComments(System.Guid, Int32, Int32) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-20 19:19:32.107 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__articleId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ArticleId", "t"."AuthorUserId", "t"."Content", "t"."CreatedAt", "t"."ParentId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."Id", "t1"."ArticleId", "t1"."AuthorUserId", "t1"."Content", "t1"."CreatedAt", "t1"."ParentId", "t1"."Id0", "t1"."AccessFailedCount", "t1"."ConcurrencyStamp", "t1"."CreatedAt0", "t1"."Email", "t1"."EmailConfirmed", "t1"."EmailCredits", "t1"."FirstName", "t1"."IsActive", "t1"."LastName", "t1"."LockoutEnabled", "t1"."LockoutEnd", "t1"."NormalizedEmail", "t1"."NormalizedUserName", "t1"."PasswordHash", "t1"."PhoneNumber", "t1"."PhoneNumberConfirmed", "t1"."Role", "t1"."SecurityStamp", "t1"."TeamId", "t1"."TwoFactorEnabled", "t1"."UpdatedAt", "t1"."UserName", "t1"."Id1", "t1"."CreatedAt1", "t1"."Description", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt0", "t1"."UserId"
FROM (
    SELECT "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId"
    FROM "Comments" AS "c"
    WHERE "c"."ArticleId" = @__articleId_0 AND "c"."ParentId" IS NULL
    ORDER BY "c"."CreatedAt"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
INNER JOIN "Users" AS "u" ON "t"."AuthorUserId" = "u"."Id"
LEFT JOIN "Teams" AS "t0" ON "u"."TeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "c0"."Id", "c0"."ArticleId", "c0"."AuthorUserId", "c0"."Content", "c0"."CreatedAt", "c0"."ParentId", "u0"."Id" AS "Id0", "u0"."AccessFailedCount", "u0"."ConcurrencyStamp", "u0"."CreatedAt" AS "CreatedAt0", "u0"."Email", "u0"."EmailConfirmed", "u0"."EmailCredits", "u0"."FirstName", "u0"."IsActive", "u0"."LastName", "u0"."LockoutEnabled", "u0"."LockoutEnd", "u0"."NormalizedEmail", "u0"."NormalizedUserName", "u0"."PasswordHash", "u0"."PhoneNumber", "u0"."PhoneNumberConfirmed", "u0"."Role", "u0"."SecurityStamp", "u0"."TeamId", "u0"."TwoFactorEnabled", "u0"."UpdatedAt", "u0"."UserName", "t2"."Id" AS "Id1", "t2"."CreatedAt" AS "CreatedAt1", "t2"."Description", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt" AS "UpdatedAt0", "t2"."UserId"
    FROM "Comments" AS "c0"
    INNER JOIN "Users" AS "u0" ON "c0"."AuthorUserId" = "u0"."Id"
    LEFT JOIN "Teams" AS "t2" ON "u0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."ParentId"
ORDER BY "t"."CreatedAt", "t"."Id", "u"."Id", "t0"."Id", "t1"."Id", "t1"."Id0"
2025-11-20 19:19:32.108 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__articleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Comments" AS "c"
WHERE "c"."ArticleId" = @__articleId_0 AND "c"."ParentId" IS NULL
2025-11-20 19:19:32.108 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.CommentDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:32.108 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.GetComments (ASG.Api) in 2.8558ms
2025-11-20 19:19:32.109 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.GetComments (ASG.Api)'
2025-11-20 19:19:32.109 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/comments?page=1&pageSize=20 - 200 null application/json; charset=utf-8 4.2984ms
2025-11-20 19:19:32.113 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/view - null null
2025-11-20 19:19:32.113 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:32.113 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/view - 204 null null 0.4953ms
2025-11-20 19:19:32.114 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/view - application/json 0
2025-11-20 19:19:32.115 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:32.115 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.AddView (ASG.Api)'
2025-11-20 19:19:32.115 +08:00 [INF] Route matched with {action = "AddView", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] AddView(System.Guid) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-20 19:19:32.116 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views"
FROM "Articles" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2025-11-20 19:19:32.117 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Articles" SET "UpdatedAt" = @p0, "Views" = @p1
WHERE "Id" = @p2
RETURNING 1;
2025-11-20 19:19:32.117 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-11-20 19:19:32.117 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.AddView (ASG.Api) in 2.0582ms
2025-11-20 19:19:32.117 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.AddView (ASG.Api)'
2025-11-20 19:19:32.118 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/view - 200 null application/json; charset=utf-8 3.1822ms
2025-11-20 19:19:37.347 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - null null
2025-11-20 19:19:37.348 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.348 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 19:19:37.354 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:37.354 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.355 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:37.355 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.4817ms
2025-11-20 19:19:37.355 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.355 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.3413ms
2025-11-20 19:19:37.355 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:37.356 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.356 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4459ms
2025-11-20 19:19:37.357 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:37.357 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:37.357 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.357 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:37.357 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.357 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.358 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:37.358 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:37.358 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:37.358 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:37.358 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:37.358 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:37.359 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:37.359 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:37.359 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:37.359 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:37.359 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:37.359 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:37.359 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:37.360 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.5237ms
2025-11-20 19:19:37.360 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:37.360 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:37.360 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 3.0379ms
2025-11-20 19:19:37.360 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:37.361 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:37.361 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:37.361 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:37.361 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:37.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:37.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:37.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:37.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:37.362 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:37.363 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.6349ms
2025-11-20 19:19:37.363 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:37.363 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:37.363 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:37.363 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.332ms
2025-11-20 19:19:37.363 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 5.0775ms
2025-11-20 19:19:37.364 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:37.364 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.702ms
2025-11-20 19:19:37.376 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:37.376 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.376 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5648ms
2025-11-20 19:19:37.376 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - null null
2025-11-20 19:19:37.377 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.377 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - 204 null null 0.4016ms
2025-11-20 19:19:37.378 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - application/json 0
2025-11-20 19:19:37.378 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:37.378 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.379 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.379 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:19:37.379 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:37.379 +08:00 [INF] Route matched with {action = "ReadAll", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReadAll() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:37.379 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:37.380 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:37.380 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:37.380 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:37.380 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:37.380 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api) in 1.007ms
2025-11-20 19:19:37.380 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.0132ms
2025-11-20 19:19:37.380 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:19:37.380 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:37.381 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - 200 null application/json; charset=utf-8 2.1947ms
2025-11-20 19:19:37.381 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.168ms
2025-11-20 19:19:37.384 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:37.384 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.384 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.3806ms
2025-11-20 19:19:37.386 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:37.386 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.386 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:37.387 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:37.387 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:37.388 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:37.388 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:37.388 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:37.389 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:37.390 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:37.390 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:37.391 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:37.391 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:37.391 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.6381ms
2025-11-20 19:19:37.392 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:37.392 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.9555ms
2025-11-20 19:19:37.404 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:37.405 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.405 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5522ms
2025-11-20 19:19:37.406 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:37.407 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.407 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:37.407 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:37.408 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:37.409 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:37.409 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.3704ms
2025-11-20 19:19:37.409 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:37.409 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.8576ms
2025-11-20 19:19:37.412 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:37.413 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.413 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5326ms
2025-11-20 19:19:37.414 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:37.414 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:37.415 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:37.415 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:37.416 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:37.416 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:37.417 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:37.417 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:37.418 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:37.418 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:37.419 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:37.420 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:37.420 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:37.420 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.8553ms
2025-11-20 19:19:37.420 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:37.420 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.2717ms
2025-11-20 19:19:40.773 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 19:19:40.773 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - 101 null null 3426.0031ms
2025-11-20 19:19:40.775 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - null null
2025-11-20 19:19:40.775 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:40.776 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - 204 null null 0.5521ms
2025-11-20 19:19:40.777 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/profile - application/json null
2025-11-20 19:19:40.777 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:40.778 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 19:19:40.778 +08:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 19:19:40.779 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 19:19:40.779 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 19:19:40.780 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetProfile (ASG.Api) in 1.4182ms
2025-11-20 19:19:40.780 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 19:19:40.780 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/profile - 200 null application/json; charset=utf-8 2.6626ms
2025-11-20 19:19:40.796 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 19:19:40.796 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:40.797 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.4766ms
2025-11-20 19:19:40.798 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 19:19:40.798 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:40.799 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:19:40.799 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:19:40.800 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 19:19:40.801 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 19:19:40.801 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.4312ms
2025-11-20 19:19:40.802 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:19:40.802 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.6002ms
2025-11-20 19:19:40.805 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - null null
2025-11-20 19:19:40.805 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:40.805 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - 204 null null 0.4828ms
2025-11-20 19:19:40.807 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - application/json null
2025-11-20 19:19:40.807 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:40.807 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api)'
2025-11-20 19:19:40.808 +08:00 [INF] Route matched with {action = "GetTeamHonors", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetTeamHonors(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:19:40.808 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 19:19:40.809 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:40.809 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api) in 1.1278ms
2025-11-20 19:19:40.809 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api)'
2025-11-20 19:19:40.809 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - 200 null application/json; charset=utf-8 2.293ms
2025-11-20 19:19:40.822 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png - null null
2025-11-20 19:19:40.822 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/me/player - null null
2025-11-20 19:19:40.822 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:40.823 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/me/player - 204 null null 0.7137ms
2025-11-20 19:19:40.823 +08:00 [INF] Sending file. Request path: '/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png'. Physical path: 'C:\Users\luolan\ASG\ASG.Api\wwwroot\team-logos\9978dc91-5a58-4102-bbd4-c9f01ee84757\logo.png'
2025-11-20 19:19:40.823 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png - 200 12370 image/png 1.2959ms
2025-11-20 19:19:40.825 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/me/player - application/json null
2025-11-20 19:19:40.825 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:40.825 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api)'
2025-11-20 19:19:40.825 +08:00 [INF] Route matched with {action = "GetMyPlayer", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PlayerDto]] GetMyPlayer() on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:19:40.826 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-11-20 19:19:40.826 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PlayerDto'.
2025-11-20 19:19:40.827 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api) in 0.9224ms
2025-11-20 19:19:40.827 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api)'
2025-11-20 19:19:40.827 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/me/player - 200 null application/json; charset=utf-8 2.3348ms
2025-11-20 19:19:42.818 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - null null
2025-11-20 19:19:42.818 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.819 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 19:19:42.823 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:42.823 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:42.823 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.823 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:42.823 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.824 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6874ms
2025-11-20 19:19:42.824 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.824 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5047ms
2025-11-20 19:19:42.824 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6416ms
2025-11-20 19:19:42.826 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:42.826 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:42.826 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:42.826 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.826 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.826 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.827 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:42.827 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:42.827 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:42.827 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:42.827 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:42.827 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:42.827 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:42.827 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:42.828 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:42.828 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:42.828 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:42.828 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:42.828 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:42.828 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.0667ms
2025-11-20 19:19:42.828 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:42.828 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:42.829 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:42.829 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.6713ms
2025-11-20 19:19:42.829 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:42.829 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:42.829 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:42.830 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:42.830 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:42.830 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:42.830 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:42.830 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:42.830 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:42.831 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:42.831 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:42.831 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.8669ms
2025-11-20 19:19:42.831 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.8866ms
2025-11-20 19:19:42.831 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:42.831 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:42.831 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.2261ms
2025-11-20 19:19:42.831 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.2988ms
2025-11-20 19:19:42.839 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:42.839 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - null null
2025-11-20 19:19:42.839 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.839 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.839 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - 204 null null 0.4065ms
2025-11-20 19:19:42.839 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5498ms
2025-11-20 19:19:42.841 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:42.841 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - application/json 0
2025-11-20 19:19:42.841 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.841 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.841 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:42.841 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:19:42.842 +08:00 [INF] Route matched with {action = "ReadAll", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReadAll() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:42.842 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:42.842 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:42.842 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:42.843 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api) in 0.7521ms
2025-11-20 19:19:42.843 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:42.843 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:19:42.843 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - 200 null application/json; charset=utf-8 2.1378ms
2025-11-20 19:19:42.843 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:42.843 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.3041ms
2025-11-20 19:19:42.843 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:42.844 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.7534ms
2025-11-20 19:19:42.845 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:42.846 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.846 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5351ms
2025-11-20 19:19:42.847 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:42.848 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.848 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:42.848 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:42.849 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:42.849 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:42.850 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:42.851 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:42.851 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:42.852 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:42.852 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:42.852 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:42.853 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:42.853 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.4661ms
2025-11-20 19:19:42.853 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:42.853 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.8833ms
2025-11-20 19:19:42.864 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:42.864 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.864 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.4069ms
2025-11-20 19:19:42.865 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:42.866 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.866 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:42.866 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:42.867 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:42.867 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:42.868 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.5693ms
2025-11-20 19:19:42.868 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:42.868 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.751ms
2025-11-20 19:19:42.872 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:42.873 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.873 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4167ms
2025-11-20 19:19:42.874 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:42.874 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:42.875 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:42.875 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:42.875 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:42.876 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:42.876 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:42.876 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:42.877 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:42.877 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:42.878 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:42.878 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:42.878 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:42.878 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.4413ms
2025-11-20 19:19:42.878 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:42.878 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 4.2645ms
2025-11-20 19:19:44.934 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 19:19:44.934 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - 101 null null 2115.941ms
2025-11-20 19:19:44.941 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - null null
2025-11-20 19:19:44.941 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:44.941 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - 204 null null 0.3336ms
2025-11-20 19:19:44.943 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/my-events - application/json null
2025-11-20 19:19:44.943 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:44.944 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:19:44.944 +08:00 [INF] Route matched with {action = "GetMyEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetMyEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:19:44.945 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."CreatedByUserId" = @__userId_0
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:19:44.946 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:44.946 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api) in 2.1697ms
2025-11-20 19:19:44.946 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:19:44.946 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/my-events - 200 null application/json; charset=utf-8 3.2925ms
2025-11-20 19:19:47.394 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - null null
2025-11-20 19:19:47.395 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:47.395 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 204 null null 0.6203ms
2025-11-20 19:19:47.396 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - application/json 261
2025-11-20 19:19:47.396 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:47.397 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.UpdateEvent (ASG.Api)'
2025-11-20 19:19:47.397 +08:00 [INF] Route matched with {action = "UpdateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] UpdateEvent(System.Guid, ASG.Api.DTOs.UpdateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:19:47.398 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:19:47.400 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:19:47.401 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-20 19:19:47.401 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 36), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (Size = 7), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (Size = 16), @p11='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Events" SET "ChampionTeamId" = @p0, "CompetitionEndTime" = @p1, "CompetitionStartTime" = @p2, "CreatedAt" = @p3, "CreatedByUserId" = @p4, "Description" = @p5, "MaxTeams" = @p6, "Name" = @p7, "RegistrationEndTime" = @p8, "RegistrationStartTime" = @p9, "Status" = @p10, "UpdatedAt" = @p11
WHERE "Id" = @p12
RETURNING 1;
2025-11-20 19:19:47.402 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 19:19:47.402 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.UpdateEvent (ASG.Api) in 5.3634ms
2025-11-20 19:19:47.402 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.UpdateEvent (ASG.Api)'
2025-11-20 19:19:47.403 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 200 null application/json; charset=utf-8 6.3467ms
2025-11-20 19:19:47.406 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - null null
2025-11-20 19:19:47.406 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:47.406 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - 204 null null 0.3438ms
2025-11-20 19:19:47.408 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/my-events - application/json null
2025-11-20 19:19:47.408 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:47.408 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:19:47.408 +08:00 [INF] Route matched with {action = "GetMyEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetMyEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:19:47.410 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."CreatedByUserId" = @__userId_0
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:19:47.410 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:47.410 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api) in 2.142ms
2025-11-20 19:19:47.411 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:19:47.411 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/my-events - 200 null application/json; charset=utf-8 3.1977ms
2025-11-20 19:19:47.947 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - null null
2025-11-20 19:19:47.948 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:47.948 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 19:19:47.952 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:47.952 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:47.952 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:47.952 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5595ms
2025-11-20 19:19:47.953 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:47.953 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.536ms
2025-11-20 19:19:47.954 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:47.954 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:47.954 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:47.954 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:47.954 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:47.954 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:47.954 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:47.954 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:47.955 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:47.955 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:47.955 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:47.955 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:47.956 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.2595ms
2025-11-20 19:19:47.956 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:47.956 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.3069ms
2025-11-20 19:19:47.956 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:47.957 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:47.957 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:47.958 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:47.958 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:47.958 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:47.958 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:47.959 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.0644ms
2025-11-20 19:19:47.959 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:47.959 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.082ms
2025-11-20 19:19:50.926 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 19:19:50.926 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:50.927 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.5228ms
2025-11-20 19:19:50.927 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 19:19:50.927 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 19:19:50.928 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:50.928 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:50.928 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.4159ms
2025-11-20 19:19:50.928 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.3603ms
2025-11-20 19:19:50.928 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 19:19:50.928 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:50.928 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.3831ms
2025-11-20 19:19:50.929 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 19:19:50.929 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:50.929 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 19:19:50.929 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 19:19:50.929 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:50.929 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:19:50.929 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 19:19:50.929 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 19:19:50.930 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:19:50.930 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:50.930 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 19:19:50.930 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:19:50.930 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 19:19:50.930 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:50.930 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 19:19:50.931 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:19:50.931 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:19:50.931 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:19:50.931 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:19:50.931 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:19:50.932 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 19:19:50.932 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 19:19:50.933 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:50.933 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:50.934 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:50.934 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 4.0625ms
2025-11-20 19:19:50.934 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 3.6194ms
2025-11-20 19:19:50.934 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 19:19:50.934 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 19:19:50.934 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 4.1228ms
2025-11-20 19:19:50.934 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 4.4846ms
2025-11-20 19:19:50.934 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:50.934 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 5.1513ms
2025-11-20 19:19:50.934 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 19:19:50.934 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 3.5734ms
2025-11-20 19:19:50.934 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 5.3769ms
2025-11-20 19:19:50.935 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 19:19:50.935 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 4.6065ms
2025-11-20 19:19:59.602 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:59.602 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.602 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.7454ms
2025-11-20 19:19:59.604 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:59.604 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.605 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:59.605 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:59.606 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:59.606 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:59.606 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:59.607 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:59.608 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:59.608 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:59.609 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:59.609 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:59.609 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:59.609 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.4858ms
2025-11-20 19:19:59.609 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:59.610 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.4519ms
2025-11-20 19:19:59.619 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:59.619 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - null null
2025-11-20 19:19:59.619 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.619 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.619 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6388ms
2025-11-20 19:19:59.620 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - 204 null null 0.72ms
2025-11-20 19:19:59.621 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - application/json 0
2025-11-20 19:19:59.622 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:59.622 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.622 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.622 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:59.622 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:19:59.622 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:59.622 +08:00 [INF] Route matched with {action = "ReadAll", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReadAll() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:59.623 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:59.623 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:59.623 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:59.623 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:59.623 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api) in 0.6331ms
2025-11-20 19:19:59.623 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 19:19:59.623 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 0.8927ms
2025-11-20 19:19:59.623 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - 200 null application/json; charset=utf-8 1.9018ms
2025-11-20 19:19:59.623 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:59.624 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.0412ms
2025-11-20 19:19:59.626 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:59.626 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.626 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4641ms
2025-11-20 19:19:59.627 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:59.628 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.628 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:59.628 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:59.628 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:59.629 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:59.629 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:59.630 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:59.631 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:59.631 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:59.631 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:59.632 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:59.632 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:59.632 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.1372ms
2025-11-20 19:19:59.632 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:59.632 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.074ms
2025-11-20 19:19:59.644 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:19:59.644 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.644 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5469ms
2025-11-20 19:19:59.646 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:19:59.646 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.647 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:59.647 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:19:59.648 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:59.648 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:19:59.648 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 0.9761ms
2025-11-20 19:19:59.648 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:19:59.648 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.0407ms
2025-11-20 19:19:59.651 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:19:59.651 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.651 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.458ms
2025-11-20 19:19:59.652 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:19:59.652 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:19:59.653 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:59.653 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:19:59.653 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:19:59.654 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:19:59.654 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:19:59.655 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:19:59.655 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:19:59.655 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:19:59.656 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:19:59.656 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:19:59.656 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:19:59.656 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.5832ms
2025-11-20 19:19:59.657 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:19:59.657 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 4.4861ms
2025-11-20 19:20:00.632 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 19:20:00.632 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - null null
2025-11-20 19:20:00.633 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - 101 null null 12685.2691ms
2025-11-20 19:20:00.633 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:00.633 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - 204 null null 0.7189ms
2025-11-20 19:20:00.634 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/profile - application/json null
2025-11-20 19:20:00.634 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:00.635 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 19:20:00.635 +08:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 19:20:00.635 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 19:20:00.636 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 19:20:00.636 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetProfile (ASG.Api) in 1.3536ms
2025-11-20 19:20:00.636 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 19:20:00.637 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/profile - 200 null application/json; charset=utf-8 2.3896ms
2025-11-20 19:20:00.658 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 19:20:00.658 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:00.659 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5553ms
2025-11-20 19:20:00.666 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 19:20:00.666 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:00.666 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:20:00.666 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:20:00.667 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 19:20:00.669 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 19:20:00.669 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.1646ms
2025-11-20 19:20:00.669 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:20:00.669 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.457ms
2025-11-20 19:20:00.673 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - null null
2025-11-20 19:20:00.673 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:00.673 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - 204 null null 0.3117ms
2025-11-20 19:20:00.675 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - application/json null
2025-11-20 19:20:00.675 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:00.675 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api)'
2025-11-20 19:20:00.675 +08:00 [INF] Route matched with {action = "GetTeamHonors", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetTeamHonors(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:20:00.676 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 19:20:00.677 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:00.677 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api) in 1.6148ms
2025-11-20 19:20:00.677 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api)'
2025-11-20 19:20:00.677 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - 200 null application/json; charset=utf-8 2.7301ms
2025-11-20 19:20:00.683 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/me/player - null null
2025-11-20 19:20:00.683 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:00.683 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/me/player - 204 null null 0.7341ms
2025-11-20 19:20:00.689 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/me/player - application/json null
2025-11-20 19:20:00.689 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:00.689 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api)'
2025-11-20 19:20:00.690 +08:00 [INF] Route matched with {action = "GetMyPlayer", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PlayerDto]] GetMyPlayer() on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:20:00.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-11-20 19:20:00.691 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PlayerDto'.
2025-11-20 19:20:00.691 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api) in 1.2541ms
2025-11-20 19:20:00.691 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api)'
2025-11-20 19:20:00.691 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/me/player - 200 null application/json; charset=utf-8 2.5409ms
2025-11-20 19:20:00.696 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png - null null
2025-11-20 19:20:00.697 +08:00 [INF] Sending file. Request path: '/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png'. Physical path: 'C:\Users\luolan\ASG\ASG.Api\wwwroot\team-logos\9978dc91-5a58-4102-bbd4-c9f01ee84757\logo.png'
2025-11-20 19:20:00.697 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png - 200 12370 image/png 1.3306ms
2025-11-20 19:20:03.638 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - null null
2025-11-20 19:20:03.638 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:03.638 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 19:20:03.641 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:20:03.642 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:20:03.642 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:03.642 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.4432ms
2025-11-20 19:20:03.642 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:03.642 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5945ms
2025-11-20 19:20:03.643 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:20:03.643 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:03.643 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:20:03.643 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:20:03.643 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:20:03.644 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:03.644 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:20:03.644 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:20:03.644 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:20:03.644 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:03.644 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:20:03.645 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 0.893ms
2025-11-20 19:20:03.645 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:20:03.645 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:20:03.645 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 1.9774ms
2025-11-20 19:20:03.645 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:20:03.646 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:20:03.646 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:20:03.647 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:20:03.647 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:20:03.647 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:20:03.648 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:20:03.648 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.6423ms
2025-11-20 19:20:03.648 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:20:03.648 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 4.7054ms
2025-11-20 19:20:04.199 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - null null
2025-11-20 19:20:04.200 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:04.200 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - 204 null null 0.5636ms
2025-11-20 19:20:04.202 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/my-events - application/json null
2025-11-20 19:20:04.202 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:04.203 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:20:04.203 +08:00 [INF] Route matched with {action = "GetMyEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetMyEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:04.204 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."CreatedByUserId" = @__userId_0
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:20:04.205 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:04.206 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api) in 2.7466ms
2025-11-20 19:20:04.206 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:20:04.206 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/my-events - 200 null application/json; charset=utf-8 4.1232ms
2025-11-20 19:20:07.098 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 19:20:07.098 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - 101 null null 3460.7091ms
2025-11-20 19:20:07.554 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 19:20:07.554 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 19:20:07.554 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:07.554 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:07.554 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.596ms
2025-11-20 19:20:07.554 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5054ms
2025-11-20 19:20:07.557 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 19:20:07.557 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 19:20:07.557 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:07.557 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:07.557 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:20:07.557 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:20:07.557 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 19:20:07.557 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 19:20:07.558 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 19:20:07.558 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:20:07.558 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 19:20:07.558 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:07.559 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.2622ms
2025-11-20 19:20:07.559 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 19:20:07.559 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 19:20:07.559 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.5001ms
2025-11-20 19:20:07.559 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 19:20:07.560 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 19:20:07.561 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 19:20:07.561 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 19:20:07.562 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 19:20:07.562 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 19:20:07.562 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.5805ms
2025-11-20 19:20:07.562 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 19:20:07.562 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.9588ms
2025-11-20 19:20:07.695 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - null null
2025-11-20 19:20:07.695 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:07.696 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - 204 null null 0.8444ms
2025-11-20 19:20:07.697 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/my-events - application/json null
2025-11-20 19:20:07.698 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:07.698 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:20:07.698 +08:00 [INF] Route matched with {action = "GetMyEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetMyEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:07.700 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."CreatedByUserId" = @__userId_0
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:20:07.701 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:07.701 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api) in 2.2008ms
2025-11-20 19:20:07.701 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:20:07.701 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/my-events - 200 null application/json; charset=utf-8 3.7113ms
2025-11-20 19:20:09.930 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - null null
2025-11-20 19:20:09.930 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:09.931 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 204 null null 0.7404ms
2025-11-20 19:20:09.932 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - application/json null
2025-11-20 19:20:09.932 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:09.933 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 19:20:09.933 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:09.934 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:20:09.935 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 19:20:09.935 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 2.2202ms
2025-11-20 19:20:09.935 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 19:20:09.935 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 200 null application/json; charset=utf-8 3.2023ms
2025-11-20 19:20:30.060 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - null null
2025-11-20 19:20:30.060 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:30.060 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 204 null null 0.4689ms
2025-11-20 19:20:30.062 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - application/json 261
2025-11-20 19:20:30.062 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:30.063 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.UpdateEvent (ASG.Api)'
2025-11-20 19:20:30.063 +08:00 [INF] Route matched with {action = "UpdateEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] UpdateEvent(System.Guid, ASG.Api.DTOs.UpdateEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:30.064 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:20:30.065 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:20:30.066 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "Events" AS "e"
WHERE "e"."Name" = @__name_0
LIMIT 1
2025-11-20 19:20:30.067 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 36), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (Size = 7), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (Size = 16), @p11='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Events" SET "ChampionTeamId" = @p0, "CompetitionEndTime" = @p1, "CompetitionStartTime" = @p2, "CreatedAt" = @p3, "CreatedByUserId" = @p4, "Description" = @p5, "MaxTeams" = @p6, "Name" = @p7, "RegistrationEndTime" = @p8, "RegistrationStartTime" = @p9, "Status" = @p10, "UpdatedAt" = @p11
WHERE "Id" = @p12
RETURNING 1;
2025-11-20 19:20:30.068 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 19:20:30.068 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.UpdateEvent (ASG.Api) in 5.2038ms
2025-11-20 19:20:30.068 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.UpdateEvent (ASG.Api)'
2025-11-20 19:20:30.068 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 200 null application/json; charset=utf-8 6.3142ms
2025-11-20 19:20:30.092 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - null null
2025-11-20 19:20:30.092 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:30.092 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/my-events - 204 null null 0.4413ms
2025-11-20 19:20:30.094 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/my-events - application/json null
2025-11-20 19:20:30.094 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:30.094 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:20:30.094 +08:00 [INF] Route matched with {action = "GetMyEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetMyEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:30.095 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
WHERE "e"."CreatedByUserId" = @__userId_0
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:20:30.096 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:30.096 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api) in 1.8133ms
2025-11-20 19:20:30.096 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetMyEvents (ASG.Api)'
2025-11-20 19:20:30.097 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/my-events - 200 null application/json; charset=utf-8 3.002ms
2025-11-20 19:20:33.974 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 19:20:33.974 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 19:20:33.974 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:33.974 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 19:20:33.974 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:33.974 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.5259ms
2025-11-20 19:20:33.974 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:33.974 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.462ms
2025-11-20 19:20:33.974 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.4688ms
2025-11-20 19:20:33.975 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 19:20:33.975 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:33.975 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.247ms
2025-11-20 19:20:33.977 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 19:20:33.977 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 19:20:33.977 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:33.977 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 19:20:33.977 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:33.977 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:33.977 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 19:20:33.977 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 19:20:33.977 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:33.977 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 19:20:33.978 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 19:20:33.978 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:33.977 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 19:20:33.978 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:33.978 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:33.978 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:33.979 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:20:33.979 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:20:33.979 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 19:20:33.979 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:20:33.982 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 19:20:33.982 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 19:20:33.983 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:33.983 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:33.983 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:33.983 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 4.8311ms
2025-11-20 19:20:33.983 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 4.9182ms
2025-11-20 19:20:33.983 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 5.3078ms
2025-11-20 19:20:33.983 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:33.983 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 19:20:33.983 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 19:20:33.983 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 19:20:33.984 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 5.2696ms
2025-11-20 19:20:33.984 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 6.224ms
2025-11-20 19:20:33.984 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 6.5212ms
2025-11-20 19:20:33.984 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 19:20:33.984 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 6.7396ms
2025-11-20 19:20:33.984 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 7.238ms
2025-11-20 19:20:36.589 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 19:20:36.589 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:36.590 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.561ms
2025-11-20 19:20:36.591 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 19:20:36.591 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:36.591 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:20:36.592 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:20:36.593 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 19:20:36.595 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 19:20:36.595 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.7895ms
2025-11-20 19:20:36.595 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:20:36.595 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.8584ms
2025-11-20 19:20:36.597 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 19:20:36.598 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:36.598 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.4055ms
2025-11-20 19:20:36.599 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 19:20:36.599 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:36.600 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 19:20:36.600 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:36.601 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:20:36.602 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:20:36.603 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:20:36.604 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 19:20:36.604 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 19:20:36.605 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 19:20:36.606 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (Size = 36), @p6='?' (DbType = DateTime), @p7='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TeamEvents" ("EventId", "TeamId", "InviteExpiresAt", "InviteToken", "Notes", "RegisteredByUserId", "RegistrationTime", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-20 19:20:36.607 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamEventDto'.
2025-11-20 19:20:36.607 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 7.1955ms
2025-11-20 19:20:36.607 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 19:20:36.607 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 200 null application/json; charset=utf-8 8.0665ms
2025-11-20 19:20:36.611 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 19:20:36.611 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:36.611 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.5595ms
2025-11-20 19:20:36.613 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 19:20:36.613 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:36.613 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 19:20:36.613 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:36.615 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:20:36.616 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 19:20:36.616 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:36.616 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 2.7577ms
2025-11-20 19:20:36.616 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 19:20:36.617 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 3.9874ms
2025-11-20 19:20:40.167 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 19:20:40.168 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:40.168 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5865ms
2025-11-20 19:20:40.169 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 19:20:40.170 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:40.170 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:20:40.170 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 19:20:40.171 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 19:20:40.173 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 19:20:40.173 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.3393ms
2025-11-20 19:20:40.173 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 19:20:40.173 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.7006ms
2025-11-20 19:20:40.175 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 19:20:40.176 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:40.176 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.4528ms
2025-11-20 19:20:40.177 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 19:20:40.177 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:20:40.177 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 19:20:40.177 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:20:40.178 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:20:40.179 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:20:40.180 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:20:40.181 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 19:20:40.181 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 19:20:40.181 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:20:40.182 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 4.2101ms
2025-11-20 19:20:40.182 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 19:20:40.182 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 5.1748ms
2025-11-20 19:22:21.645 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - null null
2025-11-20 19:22:21.645 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:21.645 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 204 null null 0.4856ms
2025-11-20 19:22:21.647 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - application/json null
2025-11-20 19:22:21.647 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:21.648 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 19:22:21.648 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:22:21.649 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:22:21.650 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 19:22:21.651 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 2.6752ms
2025-11-20 19:22:21.651 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 19:22:21.651 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 200 null application/json; charset=utf-8 3.9828ms
2025-11-20 19:22:21.662 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - null null
2025-11-20 19:22:21.662 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:21.662 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 204 null null 0.7969ms
2025-11-20 19:22:21.664 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - application/json null
2025-11-20 19:22:21.664 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:21.664 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 19:22:21.665 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 19:22:21.665 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 19:22:21.666 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 19:22:21.666 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetUser (ASG.Api) in 1.4815ms
2025-11-20 19:22:21.666 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 19:22:21.667 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 200 null application/json; charset=utf-8 2.7922ms
2025-11-20 19:22:21.689 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - null null
2025-11-20 19:22:21.689 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:21.690 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - 204 null null 0.5561ms
2025-11-20 19:22:21.691 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - application/json null
2025-11-20 19:22:21.691 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:21.691 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 19:22:21.692 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:22:21.692 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 19:22:21.694 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:22:21.695 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:22:21.695 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 3.4135ms
2025-11-20 19:22:21.695 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 19:22:21.695 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - 200 null application/json; charset=utf-8 4.5374ms
2025-11-20 19:22:21.704 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/event-logos/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo.png - null null
2025-11-20 19:22:21.706 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - null null
2025-11-20 19:22:21.706 +08:00 [INF] Sending file. Request path: '/event-logos/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo.png'. Physical path: 'C:\Users\luolan\ASG\ASG.Api\wwwroot\event-logos\cca404f7-21f1-42c9-89eb-fe7d4173fd44\logo.png'
2025-11-20 19:22:21.706 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:21.706 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/event-logos/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo.png - 200 6824 image/png 1.5108ms
2025-11-20 19:22:21.706 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - 204 null null 0.4713ms
2025-11-20 19:22:21.707 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - application/json null
2025-11-20 19:22:21.707 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:21.708 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 19:22:21.708 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:22:21.708 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 19:22:21.709 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 19:22:21.709 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 1.0328ms
2025-11-20 19:22:21.709 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 19:22:21.709 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - 200 null application/json; charset=utf-8 1.9868ms
2025-11-20 19:22:27.145 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 19:22:27.146 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:27.146 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.6938ms
2025-11-20 19:22:27.147 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json 33
2025-11-20 19:22:27.147 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:27.148 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.UpdateTeamRegistrationStatus (ASG.Api)'
2025-11-20 19:22:27.150 +08:00 [INF] Route matched with {action = "UpdateTeamRegistrationStatus", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] UpdateTeamRegistrationStatus(System.Guid, System.Guid, ASG.Api.DTOs.UpdateTeamRegistrationDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:22:27.158 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:22:27.163 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status"
FROM "TeamEvents" AS "t"
WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1
LIMIT 1
2025-11-20 19:22:27.163 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
UPDATE "TeamEvents" SET "Status" = @p0
WHERE "EventId" = @p1 AND "TeamId" = @p2
RETURNING 1;
2025-11-20 19:22:27.164 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:22:27.165 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:22:27.166 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 19:22:27.167 +08:00 [INF] Notify email requested: EventId="cca404f7-21f1-42c9-89eb-fe7d4173fd44", TeamId="9978dc91-5a58-4102-bbd4-c9f01ee84757", Status="Approved", Notify=true
2025-11-20 19:22:27.167 +08:00 [WRN] Skip email due to insufficient credits: EventOwnerId=141115c7-7d34-42f0-b4ba-4431c6fbd613, Credits=0
2025-11-20 19:22:27.172 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 178), @p3='?' (Size = 27), @p4='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "Payload", "Type", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "IsRead";
2025-11-20 19:22:27.174 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamEventDto'.
2025-11-20 19:22:27.174 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.UpdateTeamRegistrationStatus (ASG.Api) in 23.6382ms
2025-11-20 19:22:27.174 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.UpdateTeamRegistrationStatus (ASG.Api)'
2025-11-20 19:22:27.174 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 27.2863ms
2025-11-20 19:22:31.862 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 19:22:31.862 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:31.862 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.4566ms
2025-11-20 19:22:31.863 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json 34
2025-11-20 19:22:31.863 +08:00 [INF] CORS policy execution successful.
2025-11-20 19:22:31.863 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.UpdateTeamRegistrationStatus (ASG.Api)'
2025-11-20 19:22:31.863 +08:00 [INF] Route matched with {action = "UpdateTeamRegistrationStatus", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] UpdateTeamRegistrationStatus(System.Guid, System.Guid, ASG.Api.DTOs.UpdateTeamRegistrationDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 19:22:31.865 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:22:31.866 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status"
FROM "TeamEvents" AS "t"
WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1
LIMIT 1
2025-11-20 19:22:31.867 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
UPDATE "TeamEvents" SET "Status" = @p0
WHERE "EventId" = @p1 AND "TeamId" = @p2
RETURNING 1;
2025-11-20 19:22:31.868 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 19:22:31.869 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 19:22:31.869 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamEventDto'.
2025-11-20 19:22:31.869 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.UpdateTeamRegistrationStatus (ASG.Api) in 5.5932ms
2025-11-20 19:22:31.869 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.UpdateTeamRegistrationStatus (ASG.Api)'
2025-11-20 19:22:31.870 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 6.6255ms
2025-11-20 20:18:24.505 +08:00 [INF] Database backup saved to /var/backups/asg\ASGApiDb_20251120_201824.db
2025-11-20 20:55:24.604 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 20:55:24.605 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:55:24.605 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.7466ms
2025-11-20 20:55:24.607 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 20:55:24.607 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:55:24.607 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:55:24.608 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 20:55:24.610 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 20:55:24.611 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 20:55:24.612 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 3.6888ms
2025-11-20 20:55:24.612 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:55:24.612 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 5.1782ms
2025-11-20 20:55:24.616 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 20:55:24.616 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:55:24.616 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.3103ms
2025-11-20 20:55:24.617 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 20:55:24.617 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:55:24.618 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:55:24.618 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:55:24.619 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:55:24.620 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:55:24.621 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:55:24.622 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 20:55:24.622 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 20:55:24.623 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:55:24.623 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.5309ms
2025-11-20 20:55:24.624 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:55:24.624 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 6.6916ms
2025-11-20 20:56:19.327 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 20:56:19.327 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:19.327 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5328ms
2025-11-20 20:56:19.329 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 20:56:19.330 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:19.330 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:56:19.330 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 20:56:19.331 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 20:56:19.332 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 20:56:19.333 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.1967ms
2025-11-20 20:56:19.333 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:56:19.333 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.5537ms
2025-11-20 20:56:19.336 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 20:56:19.337 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:19.337 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.5061ms
2025-11-20 20:56:19.338 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 20:56:19.338 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:19.339 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:56:19.339 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:56:19.340 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:56:19.341 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:56:19.342 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:56:19.343 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 20:56:19.343 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 20:56:19.344 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:56:19.344 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.083ms
2025-11-20 20:56:19.344 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:56:19.344 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 6.4746ms
2025-11-20 20:56:22.580 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 20:56:22.581 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:22.581 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.8237ms
2025-11-20 20:56:22.583 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 20:56:22.583 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:22.583 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:56:22.584 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 20:56:22.584 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 20:56:22.585 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 20:56:22.586 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 1.881ms
2025-11-20 20:56:22.586 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:56:22.586 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.2335ms
2025-11-20 20:56:22.590 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 20:56:22.591 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:22.591 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.8326ms
2025-11-20 20:56:22.592 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 20:56:22.592 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:22.593 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:56:22.593 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:56:22.594 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:56:22.596 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:56:22.597 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:56:22.597 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 20:56:22.598 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 20:56:22.598 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:56:22.599 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.6677ms
2025-11-20 20:56:22.599 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:56:22.599 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 6.9593ms
2025-11-20 20:56:26.498 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 20:56:26.498 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.499 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.8389ms
2025-11-20 20:56:26.499 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 20:56:26.500 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.500 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6642ms
2025-11-20 20:56:26.503 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 20:56:26.504 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.504 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:56:26.504 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 20:56:26.505 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 20:56:26.505 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.506 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:56:26.507 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:56:26.507 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 20:56:26.508 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:56:26.509 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.7811ms
2025-11-20 20:56:26.509 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 20:56:26.509 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:56:26.510 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 6.4723ms
2025-11-20 20:56:26.510 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 20:56:26.511 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 20:56:26.511 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 20:56:26.512 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:56:26.513 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 20:56:26.513 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 20:56:26.514 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 20:56:26.515 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 20:56:26.515 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 7.1363ms
2025-11-20 20:56:26.515 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:56:26.516 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 11.2083ms
2025-11-20 20:56:26.763 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - null null
2025-11-20 20:56:26.764 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.764 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 204 null null 0.7083ms
2025-11-20 20:56:26.765 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - application/json null
2025-11-20 20:56:26.766 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.766 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 20:56:26.766 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:56:26.767 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:56:26.769 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 20:56:26.769 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 2.5854ms
2025-11-20 20:56:26.769 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 20:56:26.770 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 200 null application/json; charset=utf-8 4.1515ms
2025-11-20 20:56:26.773 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - null null
2025-11-20 20:56:26.774 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.774 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 204 null null 0.4218ms
2025-11-20 20:56:26.776 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - application/json null
2025-11-20 20:56:26.776 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.777 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 20:56:26.777 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 20:56:26.778 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 20:56:26.778 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 20:56:26.779 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetUser (ASG.Api) in 1.8037ms
2025-11-20 20:56:26.779 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 20:56:26.779 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 200 null application/json; charset=utf-8 3.407ms
2025-11-20 20:56:26.809 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - null null
2025-11-20 20:56:26.810 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.810 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - 204 null null 0.8913ms
2025-11-20 20:56:26.812 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - application/json null
2025-11-20 20:56:26.812 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.812 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 20:56:26.813 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:56:26.814 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 20:56:26.814 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:56:26.816 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:56:26.816 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 2.9112ms
2025-11-20 20:56:26.816 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 20:56:26.816 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - 200 null application/json; charset=utf-8 4.3817ms
2025-11-20 20:56:26.821 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - null null
2025-11-20 20:56:26.821 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.821 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - 204 null null 0.4315ms
2025-11-20 20:56:26.824 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - application/json null
2025-11-20 20:56:26.825 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:26.825 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 20:56:26.825 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:56:26.826 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 20:56:26.827 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:56:26.827 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 1.4299ms
2025-11-20 20:56:26.827 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 20:56:26.827 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - 200 null application/json; charset=utf-8 3.0685ms
2025-11-20 20:56:26.944 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/event-logos/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo.png - null null
2025-11-20 20:56:26.945 +08:00 [INF] Sending file. Request path: '/event-logos/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo.png'. Physical path: 'C:\Users\luolan\ASG\ASG.Api\wwwroot\event-logos\cca404f7-21f1-42c9-89eb-fe7d4173fd44\logo.png'
2025-11-20 20:56:26.945 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/event-logos/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo.png - 200 6824 image/png 1.5693ms
2025-11-20 20:56:28.380 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 20:56:28.380 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:28.380 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.9541ms
2025-11-20 20:56:28.382 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 20:56:28.382 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:28.383 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:56:28.383 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 20:56:28.383 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 20:56:28.385 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 20:56:28.385 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.386ms
2025-11-20 20:56:28.385 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:56:28.386 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.622ms
2025-11-20 20:56:28.389 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 20:56:28.389 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:28.390 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.7457ms
2025-11-20 20:56:28.391 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 20:56:28.391 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:28.392 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:56:28.392 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:56:28.393 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:56:28.395 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:56:28.396 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:56:28.397 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 20:56:28.398 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 20:56:28.398 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:56:28.399 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 6.5903ms
2025-11-20 20:56:28.399 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:56:28.399 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 8.2313ms
2025-11-20 20:56:30.925 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 20:56:30.926 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:30.926 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 1.0181ms
2025-11-20 20:56:30.928 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 20:56:30.928 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:30.929 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:56:30.929 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 20:56:30.930 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 20:56:30.931 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 20:56:30.931 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.2448ms
2025-11-20 20:56:30.931 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:56:30.931 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.6059ms
2025-11-20 20:56:30.936 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 20:56:30.936 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:30.937 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.3488ms
2025-11-20 20:56:30.938 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 20:56:30.938 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:56:30.938 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:56:30.939 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:56:30.940 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:56:30.942 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:56:30.944 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:56:30.945 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 20:56:30.946 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 20:56:30.946 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:56:30.947 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 7.6059ms
2025-11-20 20:56:30.947 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:56:30.947 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 9.3546ms
2025-11-20 20:57:47.910 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 20:57:47.911 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:47.911 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 1.133ms
2025-11-20 20:57:47.916 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 20:57:47.916 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:47.917 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:57:47.917 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 20:57:47.918 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 20:57:47.919 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 20:57:47.920 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.6999ms
2025-11-20 20:57:47.920 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:57:47.920 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 4.0676ms
2025-11-20 20:57:47.924 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 20:57:47.924 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:47.924 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.4101ms
2025-11-20 20:57:47.930 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 20:57:47.931 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:47.931 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:57:47.931 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:57:47.932 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:57:47.934 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:57:47.935 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:57:47.936 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 20:57:47.936 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 20:57:47.937 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:57:47.937 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.7526ms
2025-11-20 20:57:47.937 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:57:47.938 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 7.4047ms
2025-11-20 20:57:50.798 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 20:57:50.798 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:50.798 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.6722ms
2025-11-20 20:57:50.802 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 20:57:50.803 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:50.803 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:57:50.803 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 20:57:50.804 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 20:57:50.805 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 20:57:50.806 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.2484ms
2025-11-20 20:57:50.806 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:57:50.806 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.7215ms
2025-11-20 20:57:50.816 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 20:57:50.816 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:50.817 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.6653ms
2025-11-20 20:57:50.819 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 20:57:50.820 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:50.820 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:57:50.821 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:57:50.822 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:57:50.823 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:57:50.824 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:57:50.825 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 20:57:50.825 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 20:57:50.826 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:57:50.826 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.5047ms
2025-11-20 20:57:50.827 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:57:50.827 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 7.2469ms
2025-11-20 20:57:53.466 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 20:57:53.466 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:53.467 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.8561ms
2025-11-20 20:57:53.468 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 20:57:53.468 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:53.469 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:57:53.469 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 20:57:53.470 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 20:57:53.471 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 20:57:53.471 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 1.6891ms
2025-11-20 20:57:53.471 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:57:53.471 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.0145ms
2025-11-20 20:57:53.474 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 20:57:53.475 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:53.475 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.4677ms
2025-11-20 20:57:53.476 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 20:57:53.476 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:57:53.477 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:57:53.477 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:57:53.478 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:57:53.479 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:57:53.480 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:57:53.480 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 20:57:53.481 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 20:57:53.481 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:57:53.482 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 4.5243ms
2025-11-20 20:57:53.482 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:57:53.482 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 6.0967ms
2025-11-20 20:58:46.013 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 20:58:46.014 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.014 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.7583ms
2025-11-20 20:58:46.015 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 20:58:46.015 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.015 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5138ms
2025-11-20 20:58:46.017 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 20:58:46.017 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.017 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:58:46.017 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 20:58:46.018 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:46.018 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 20:58:46.018 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:46.019 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.019 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.1212ms
2025-11-20 20:58:46.019 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:58:46.019 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:46.019 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.3174ms
2025-11-20 20:58:46.019 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 20:58:46.020 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 20:58:46.020 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 20:58:46.021 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 20:58:46.021 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 20:58:46.022 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:46.022 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 20:58:46.023 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 20:58:46.023 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 20:58:46.023 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 20:58:46.024 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.1155ms
2025-11-20 20:58:46.024 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:46.024 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.6586ms
2025-11-20 20:58:46.440 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - null null
2025-11-20 20:58:46.440 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.441 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 204 null null 0.4269ms
2025-11-20 20:58:46.444 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - application/json null
2025-11-20 20:58:46.444 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.444 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 20:58:46.445 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:58:46.446 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:58:46.447 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 20:58:46.447 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 2.4517ms
2025-11-20 20:58:46.447 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 20:58:46.448 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 200 null application/json; charset=utf-8 3.7491ms
2025-11-20 20:58:46.453 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - null null
2025-11-20 20:58:46.453 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.453 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 204 null null 0.5783ms
2025-11-20 20:58:46.457 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - application/json null
2025-11-20 20:58:46.457 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.458 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 20:58:46.458 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 20:58:46.460 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 20:58:46.461 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 20:58:46.462 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetUser (ASG.Api) in 2.9386ms
2025-11-20 20:58:46.462 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 20:58:46.462 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 200 null application/json; charset=utf-8 5.5255ms
2025-11-20 20:58:46.579 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - null null
2025-11-20 20:58:46.580 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.580 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - 204 null null 0.6144ms
2025-11-20 20:58:46.581 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - application/json null
2025-11-20 20:58:46.582 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.582 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 20:58:46.582 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:58:46.583 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 20:58:46.584 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:58:46.585 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:46.585 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 3.052ms
2025-11-20 20:58:46.585 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 20:58:46.586 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - 200 null application/json; charset=utf-8 4.2509ms
2025-11-20 20:58:46.594 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - null null
2025-11-20 20:58:46.594 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.594 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - 204 null null 0.5693ms
2025-11-20 20:58:46.598 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - application/json null
2025-11-20 20:58:46.598 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:46.598 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 20:58:46.599 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:58:46.599 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 20:58:46.600 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:46.600 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 0.9822ms
2025-11-20 20:58:46.600 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 20:58:46.600 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - 200 null application/json; charset=utf-8 2.2515ms
2025-11-20 20:58:49.436 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 20:58:49.436 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.436 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.475ms
2025-11-20 20:58:49.438 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 20:58:49.439 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.439 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5346ms
2025-11-20 20:58:49.447 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 20:58:49.447 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.448 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:58:49.448 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 20:58:49.449 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 20:58:49.449 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.449 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:49.449 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:49.449 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 20:58:49.449 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:49.450 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 20:58:49.450 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.4079ms
2025-11-20 20:58:49.450 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:58:49.450 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 20:58:49.450 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.9863ms
2025-11-20 20:58:49.450 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 20:58:49.451 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 20:58:49.452 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:49.454 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 20:58:49.455 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 20:58:49.455 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 20:58:49.456 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 20:58:49.456 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 6.6459ms
2025-11-20 20:58:49.456 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:49.456 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 7.9036ms
2025-11-20 20:58:49.674 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - null null
2025-11-20 20:58:49.674 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.674 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 204 null null 0.8548ms
2025-11-20 20:58:49.677 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - application/json null
2025-11-20 20:58:49.677 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.677 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 20:58:49.678 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:58:49.679 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:58:49.680 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 20:58:49.681 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 2.791ms
2025-11-20 20:58:49.681 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 20:58:49.681 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44 - 200 null application/json; charset=utf-8 4.0938ms
2025-11-20 20:58:49.730 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - null null
2025-11-20 20:58:49.731 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.731 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 204 null null 0.605ms
2025-11-20 20:58:49.733 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - application/json null
2025-11-20 20:58:49.733 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.734 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 20:58:49.734 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 20:58:49.734 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 20:58:49.735 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 20:58:49.736 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetUser (ASG.Api) in 1.819ms
2025-11-20 20:58:49.736 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 20:58:49.736 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 200 null application/json; charset=utf-8 3.0584ms
2025-11-20 20:58:49.781 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - null null
2025-11-20 20:58:49.782 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.782 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - 204 null null 0.6677ms
2025-11-20 20:58:49.784 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - application/json null
2025-11-20 20:58:49.784 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.784 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 20:58:49.785 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:58:49.785 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 20:58:49.787 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:58:49.788 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:49.788 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 3.066ms
2025-11-20 20:58:49.788 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 20:58:49.788 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/registrations - 200 null application/json; charset=utf-8 4.4381ms
2025-11-20 20:58:49.796 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - null null
2025-11-20 20:58:49.796 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.796 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - 204 null null 0.6178ms
2025-11-20 20:58:49.799 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - application/json null
2025-11-20 20:58:49.800 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:49.800 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 20:58:49.801 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:58:49.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 20:58:49.802 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:49.802 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 1.4494ms
2025-11-20 20:58:49.802 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 20:58:49.802 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/admins - 200 null application/json; charset=utf-8 3.0599ms
2025-11-20 20:58:51.472 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/event-logos/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo.png - null null
2025-11-20 20:58:51.474 +08:00 [INF] Sending file. Request path: '/event-logos/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo.png'. Physical path: 'C:\Users\luolan\ASG\ASG.Api\wwwroot\event-logos\cca404f7-21f1-42c9-89eb-fe7d4173fd44\logo.png'
2025-11-20 20:58:51.475 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/event-logos/cca404f7-21f1-42c9-89eb-fe7d4173fd44/logo.png - 200 6824 image/png 3.3504ms
2025-11-20 20:58:53.513 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - null null
2025-11-20 20:58:53.513 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.514 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 20:58:53.520 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 20:58:53.520 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.520 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6271ms
2025-11-20 20:58:53.520 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 20:58:53.521 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.521 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.8247ms
2025-11-20 20:58:53.521 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 20:58:53.522 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.522 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4181ms
2025-11-20 20:58:53.525 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 20:58:53.525 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 20:58:53.525 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 20:58:53.525 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.525 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.526 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.526 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:58:53.527 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:53.527 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:53.527 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 20:58:53.527 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 20:58:53.527 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 20:58:53.529 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:53.530 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:53.530 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.4006ms
2025-11-20 20:58:53.531 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:58:53.531 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 6.3661ms
2025-11-20 20:58:53.531 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 20:58:53.533 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 20:58:53.535 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 20:58:53.536 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 20:58:53.538 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:53.539 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 20:58:53.539 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 20:58:53.540 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 20:58:53.541 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 20:58:53.541 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 20:58:53.542 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 20:58:53.543 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 20:58:53.543 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 20:58:53.544 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:53.544 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 15.701ms
2025-11-20 20:58:53.545 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:53.545 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 20:58:53.545 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 20.6046ms
2025-11-20 20:58:53.546 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 20:58:53.547 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 20:58:53.548 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 20:58:53.548 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 19.0941ms
2025-11-20 20:58:53.548 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:53.549 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 23.6994ms
2025-11-20 20:58:53.571 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 20:58:53.571 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - null null
2025-11-20 20:58:53.571 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.572 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.572 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 1.0557ms
2025-11-20 20:58:53.572 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - 204 null null 0.9259ms
2025-11-20 20:58:53.574 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - application/json 0
2025-11-20 20:58:53.574 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 20:58:53.574 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.574 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.575 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 20:58:53.575 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:58:53.575 +08:00 [INF] Route matched with {action = "ReadAll", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReadAll() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 20:58:53.575 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 20:58:53.576 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 20:58:53.576 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:53.577 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:53.577 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Notifications" SET "IsRead" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-11-20 20:58:53.577 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.3101ms
2025-11-20 20:58:53.577 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:58:53.577 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 3.3074ms
2025-11-20 20:58:53.583 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 20:58:53.584 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api) in 8.4987ms
2025-11-20 20:58:53.584 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 20:58:53.584 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - 200 null application/json; charset=utf-8 10.3481ms
2025-11-20 20:58:53.604 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 20:58:53.605 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.605 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5607ms
2025-11-20 20:58:53.607 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 20:58:53.607 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.608 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:53.608 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 20:58:53.608 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 20:58:53.609 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 20:58:53.609 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 20:58:53.610 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 20:58:53.610 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:53.611 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 20:58:53.611 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 20:58:53.612 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 20:58:53.612 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 20:58:53.612 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.1393ms
2025-11-20 20:58:53.612 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:53.613 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.568ms
2025-11-20 20:58:53.623 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 20:58:53.623 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.624 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5571ms
2025-11-20 20:58:53.629 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 20:58:53.629 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.630 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:58:53.630 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 20:58:53.631 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:53.631 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:53.631 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.1542ms
2025-11-20 20:58:53.632 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:58:53.632 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.4571ms
2025-11-20 20:58:53.635 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 20:58:53.635 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.635 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5588ms
2025-11-20 20:58:53.637 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 20:58:53.637 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:53.637 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:53.637 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 20:58:53.638 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 20:58:53.638 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 20:58:53.639 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 20:58:53.639 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 20:58:53.640 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:58:53.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 20:58:53.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 20:58:53.642 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 20:58:53.642 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 20:58:53.643 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.8601ms
2025-11-20 20:58:53.643 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:58:53.643 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.2984ms
2025-11-20 20:58:59.552 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 20:58:59.552 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 20:58:59.553 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 20:58:59.553 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 20:58:59.553 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - 101 null null 6039.8172ms
2025-11-20 20:58:59.553 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:59.553 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:59.553 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:59.554 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 1.683ms
2025-11-20 20:58:59.554 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 1.444ms
2025-11-20 20:58:59.554 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 20:58:59.554 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 1.0121ms
2025-11-20 20:58:59.555 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:59.555 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.8962ms
2025-11-20 20:58:59.557 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 20:58:59.558 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 20:58:59.558 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:59.558 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:59.558 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 20:58:59.558 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 20:58:59.558 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 20:58:59.558 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:59.559 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 20:58:59.559 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:58:59.559 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:58:59.559 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 20:58:59.559 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:58:59.559 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:58:59.560 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 20:58:59.560 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:58:59.561 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:58:59.561 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:58:59.561 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:58:59.562 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 20:58:59.562 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 20:58:59.564 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 20:58:59.565 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:59.565 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:59.565 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 5.1818ms
2025-11-20 20:58:59.565 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 5.6679ms
2025-11-20 20:58:59.565 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 20:58:59.565 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 20:58:59.565 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:59.565 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 7.5699ms
2025-11-20 20:58:59.565 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:58:59.566 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 8.2135ms
2025-11-20 20:58:59.566 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 6.7295ms
2025-11-20 20:58:59.566 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 6.0121ms
2025-11-20 20:58:59.566 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 20:58:59.567 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 20:58:59.567 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 8.9645ms
2025-11-20 20:58:59.567 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 8.2505ms
2025-11-20 20:59:01.382 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 20:59:01.382 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:01.382 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.6083ms
2025-11-20 20:59:01.384 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 20:59:01.384 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:01.384 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:59:01.384 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 20:59:01.385 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 20:59:01.386 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 20:59:01.387 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.1331ms
2025-11-20 20:59:01.387 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:59:01.387 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.2993ms
2025-11-20 20:59:01.390 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 20:59:01.391 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:01.391 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.6743ms
2025-11-20 20:59:01.392 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 20:59:01.393 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:01.393 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:59:01.393 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:59:01.394 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:59:01.396 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:59:01.397 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:59:01.397 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 20:59:01.398 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 20:59:01.398 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:59:01.399 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.2754ms
2025-11-20 20:59:01.399 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:59:01.399 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 6.4853ms
2025-11-20 20:59:02.563 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - null null
2025-11-20 20:59:02.563 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:02.564 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 20:59:02.568 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 20:59:02.568 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 20:59:02.569 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:02.569 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:02.569 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.7914ms
2025-11-20 20:59:02.569 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.8222ms
2025-11-20 20:59:02.571 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 20:59:02.571 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 20:59:02.571 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:02.571 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:02.571 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:59:02.571 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:59:02.572 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 20:59:02.572 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 20:59:02.572 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 20:59:02.573 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:59:02.573 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 20:59:02.573 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:59:02.573 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 20:59:02.574 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.2927ms
2025-11-20 20:59:02.574 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:59:02.574 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 20:59:02.574 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 3.2407ms
2025-11-20 20:59:02.575 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:59:02.575 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 20:59:02.576 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 20:59:02.576 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 20:59:02.577 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 20:59:02.577 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 5.0292ms
2025-11-20 20:59:02.577 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:59:02.577 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.342ms
2025-11-20 20:59:05.212 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 20:59:05.212 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:05.212 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5867ms
2025-11-20 20:59:05.214 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 20:59:05.214 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:05.214 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:59:05.214 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 20:59:05.215 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 20:59:05.217 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 20:59:05.217 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.1304ms
2025-11-20 20:59:05.217 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 20:59:05.217 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.4282ms
2025-11-20 20:59:05.221 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 20:59:05.221 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:05.222 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.4773ms
2025-11-20 20:59:05.223 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 20:59:05.223 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:05.223 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:59:05.223 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:59:05.225 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:59:05.226 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:59:05.227 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 20:59:05.228 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 20:59:05.229 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 20:59:05.229 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:59:05.230 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 6.0739ms
2025-11-20 20:59:05.230 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 20:59:05.230 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 7.4268ms
2025-11-20 20:59:12.366 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 20:59:12.366 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxNDExMTVjNy03ZDM0LTQyZjAtYjRiYS00NDMxYzZmYmQ2MTMiLCJlbWFpbCI6Imx1b2xhbjEyMzIzQG91dGxvb2suY29tIiwidW5pcXVlX25hbWUiOiLnvZcg5r6cIiwicm9sZSI6WyJVc2VyIiwiVXNlciJdLCJmdWxsTmFtZSI6Iue9lyDmvpwiLCJyb2xlRGlzcGxheU5hbWUiOiLnlKjmiLciLCJyb2xlTmFtZSI6IlVzZXIiLCJuYmYiOjE3NjM2MzU3OTIsImV4cCI6MTc2MzY1MDE5MiwiaWF0IjoxNzYzNjM1NzkyLCJpc3MiOiJBU0cuQXBpIiwiYXVkIjoiQVNHLkFwaS5Vc2VycyJ9.YOk7rgYo_FFNoYZgf29I9y2dB0L-6HQDBAa6skjUoL0 - 101 null null 9803.5166ms
2025-11-20 20:59:12.880 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 20:59:12.880 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:12.880 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 20:59:12.881 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6085ms
2025-11-20 20:59:12.881 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:12.881 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.963ms
2025-11-20 20:59:12.882 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 20:59:12.883 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:12.883 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:59:12.883 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 20:59:12.884 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 20:59:12.884 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:12.884 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:59:12.884 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:59:12.884 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 20:59:12.885 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:59:12.885 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.2351ms
2025-11-20 20:59:12.885 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 20:59:12.885 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 20:59:12.885 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 20:59:12.885 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.9046ms
2025-11-20 20:59:12.886 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 20:59:12.887 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 20:59:12.888 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 20:59:12.888 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 20:59:12.889 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 20:59:12.889 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 20:59:12.890 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 20:59:12.890 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 5.4286ms
2025-11-20 20:59:12.890 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 20:59:12.891 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 7.0458ms
2025-11-20 20:59:13.114 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 20:59:13.115 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:13.115 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.6132ms
2025-11-20 20:59:13.116 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 20:59:13.116 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:13.116 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.5124ms
2025-11-20 20:59:13.116 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 20:59:13.117 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:13.117 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 20:59:13.117 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.8152ms
2025-11-20 20:59:13.117 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:13.118 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.4441ms
2025-11-20 20:59:13.123 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 20:59:13.123 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:13.124 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 20:59:13.124 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:59:13.125 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:59:13.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 20:59:13.127 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:59:13.127 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 20:59:13.128 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 3.6629ms
2025-11-20 20:59:13.128 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:13.128 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 20:59:13.128 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 20:59:13.128 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 20:59:13.128 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 20:59:13.128 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:13.128 +08:00 [INF] CORS policy execution successful.
2025-11-20 20:59:13.129 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 5.5681ms
2025-11-20 20:59:13.129 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:59:13.129 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 20:59:13.129 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 20:59:13.130 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:59:13.130 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 20:59:13.131 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 20:59:13.131 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:59:13.131 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 20:59:13.133 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:59:13.133 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 20:59:13.134 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 3.683ms
2025-11-20 20:59:13.134 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 20:59:13.134 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 6.3752ms
2025-11-20 20:59:13.135 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:59:13.135 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 5.6706ms
2025-11-20 20:59:13.135 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 20:59:13.135 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 20:59:13.136 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 5.5092ms
2025-11-20 20:59:13.136 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 8.1608ms
2025-11-20 20:59:13.136 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 20:59:13.136 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 8.7078ms
2025-11-20 21:01:40.960 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:01:40.960 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:01:40.961 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:40.961 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:40.961 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.4829ms
2025-11-20 21:01:40.961 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6022ms
2025-11-20 21:01:40.964 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:01:40.964 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:01:40.964 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:40.964 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:40.964 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:01:40.965 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:01:40.965 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:01:40.965 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:01:40.965 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:01:40.965 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:01:40.965 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:40.966 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:01:40.966 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.0056ms
2025-11-20 21:01:40.966 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:01:40.966 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:01:40.966 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.5257ms
2025-11-20 21:01:40.966 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:01:40.967 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:01:40.967 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:01:40.968 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:01:40.968 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:01:40.969 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:01:40.969 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.057ms
2025-11-20 21:01:40.969 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:01:40.969 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.1908ms
2025-11-20 21:01:41.329 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:01:41.329 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:41.330 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.6048ms
2025-11-20 21:01:41.330 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:01:41.330 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:41.331 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.3246ms
2025-11-20 21:01:41.331 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:01:41.331 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:41.331 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.2243ms
2025-11-20 21:01:41.332 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:01:41.332 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:41.332 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.2492ms
2025-11-20 21:01:41.334 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:01:41.335 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:41.335 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:01:41.335 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:41.337 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:01:41.338 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:01:41.338 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:41.338 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 2.8027ms
2025-11-20 21:01:41.338 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:01:41.339 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 4.1024ms
2025-11-20 21:01:41.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:01:41.342 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:41.342 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:01:41.342 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:41.343 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:01:41.343 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:01:41.343 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:41.343 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:41.343 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:01:41.343 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:01:41.343 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:01:41.344 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:41.344 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:41.344 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:01:41.345 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:01:41.345 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:01:41.345 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:41.346 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 3.7344ms
2025-11-20 21:01:41.346 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:01:41.346 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 5.0116ms
2025-11-20 21:01:41.346 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:41.347 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 2.5091ms
2025-11-20 21:01:41.347 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:41.347 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:01:41.347 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 3.004ms
2025-11-20 21:01:41.347 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 4.4449ms
2025-11-20 21:01:41.347 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:01:41.348 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 5.0125ms
2025-11-20 21:01:42.259 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:01:42.259 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.259 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.4679ms
2025-11-20 21:01:42.259 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:01:42.259 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.259 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.2797ms
2025-11-20 21:01:42.261 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:01:42.261 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:01:42.261 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.261 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.261 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:01:42.261 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:01:42.262 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:01:42.262 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:01:42.262 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:01:42.262 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:01:42.262 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:42.262 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:01:42.262 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 0.8252ms
2025-11-20 21:01:42.263 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:01:42.263 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.1359ms
2025-11-20 21:01:42.263 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:01:42.263 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:01:42.264 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:01:42.264 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:01:42.265 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:01:42.265 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:01:42.265 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:01:42.266 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.8823ms
2025-11-20 21:01:42.266 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:01:42.266 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.1351ms
2025-11-20 21:01:42.464 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:01:42.464 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:01:42.465 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.465 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:01:42.465 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.465 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.7384ms
2025-11-20 21:01:42.465 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.465 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:01:42.465 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.813ms
2025-11-20 21:01:42.465 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.6444ms
2025-11-20 21:01:42.465 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.466 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.7431ms
2025-11-20 21:01:42.469 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:01:42.469 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.469 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:01:42.470 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:01:42.469 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:01:42.470 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:01:42.470 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.470 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.470 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:42.470 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:01:42.470 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:01:42.470 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:42.471 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:01:42.471 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:42.471 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:42.471 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:42.472 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:01:42.472 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:01:42.472 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:01:42.472 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:01:42.473 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:01:42.474 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:42.474 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:42.475 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 3.3748ms
2025-11-20 21:01:42.475 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:42.475 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 3.3613ms
2025-11-20 21:01:42.475 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 4.1647ms
2025-11-20 21:01:42.475 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:01:42.475 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:01:42.475 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:01:42.475 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:01:42.475 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 5.6626ms
2025-11-20 21:01:42.475 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 5.9261ms
2025-11-20 21:01:42.476 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 6.6026ms
2025-11-20 21:01:42.476 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:42.476 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 4.5295ms
2025-11-20 21:01:42.476 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:01:42.476 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 6.8246ms
2025-11-20 21:01:43.899 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:01:43.899 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:01:43.899 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:43.899 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:43.899 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5653ms
2025-11-20 21:01:43.899 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4417ms
2025-11-20 21:01:43.902 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:01:43.902 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:01:43.902 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:43.902 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:43.902 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:01:43.902 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:01:43.902 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:01:43.903 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:01:43.903 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:01:43.904 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:43.904 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:01:43.904 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 0.9623ms
2025-11-20 21:01:43.904 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:01:43.904 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:01:43.904 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.5068ms
2025-11-20 21:01:43.905 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:01:43.905 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:01:43.905 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:01:43.906 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:01:43.906 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:01:43.907 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:01:43.907 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:01:43.907 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.916ms
2025-11-20 21:01:43.907 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:01:43.907 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.5114ms
2025-11-20 21:01:44.118 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:01:44.119 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:44.119 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.5348ms
2025-11-20 21:01:44.119 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:01:44.119 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:44.119 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.2262ms
2025-11-20 21:01:44.120 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:01:44.120 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:44.121 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.2913ms
2025-11-20 21:01:44.121 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:01:44.121 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:44.121 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.4266ms
2025-11-20 21:01:44.144 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:01:44.144 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:01:44.144 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:01:44.144 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:01:44.145 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:44.145 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:44.145 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:44.145 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:01:44.146 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:01:44.145 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:01:44.145 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:01:44.146 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:01:44.146 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:44.146 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:44.146 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:44.146 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:01:44.148 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:01:44.148 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:01:44.148 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:01:44.148 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:01:44.150 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:44.150 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:01:44.151 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 4.2722ms
2025-11-20 21:01:44.150 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:01:44.151 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:01:44.151 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:44.151 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 6.8325ms
2025-11-20 21:01:44.151 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 5.025ms
2025-11-20 21:01:44.151 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:01:44.152 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 7.3503ms
2025-11-20 21:01:44.152 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:44.152 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:01:44.152 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 5.4428ms
2025-11-20 21:01:44.152 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:01:44.152 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 5.3765ms
2025-11-20 21:01:44.152 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 8.2329ms
2025-11-20 21:01:44.152 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:01:44.153 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 8.532ms
2025-11-20 21:02:29.201 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:02:29.202 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:02:29.202 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 1.0034ms
2025-11-20 21:02:29.204 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:02:29.204 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:02:29.205 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:02:29.205 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:02:29.206 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:02:29.207 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:02:29.208 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.5122ms
2025-11-20 21:02:29.208 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:02:29.208 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 4.0167ms
2025-11-20 21:02:29.212 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 21:02:29.212 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:02:29.212 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.3954ms
2025-11-20 21:02:29.214 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 21:02:29.214 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:02:29.214 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:02:29.214 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:02:29.215 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:02:29.217 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:02:29.217 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:02:29.218 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:02:29.219 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:02:29.219 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:02:29.220 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.2253ms
2025-11-20 21:02:29.220 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:02:29.220 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 6.3401ms
2025-11-20 21:02:33.320 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:02:33.321 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:02:33.321 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.9375ms
2025-11-20 21:02:33.323 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:02:33.323 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:02:33.324 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:02:33.324 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:02:33.325 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:02:33.326 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:02:33.326 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 1.6601ms
2025-11-20 21:02:33.326 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:02:33.326 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 2.8798ms
2025-11-20 21:02:33.329 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 21:02:33.330 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:02:33.330 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.6355ms
2025-11-20 21:02:33.332 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 21:02:33.332 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:02:33.332 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:02:33.333 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:02:33.333 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:02:33.335 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:02:33.336 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:02:33.337 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:02:33.338 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:02:33.338 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:02:33.339 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.7919ms
2025-11-20 21:02:33.339 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:02:33.339 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 7.2333ms
2025-11-20 21:03:34.857 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:03:34.857 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.857 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.5438ms
2025-11-20 21:03:34.857 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:03:34.858 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:03:34.858 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.858 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.858 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.914ms
2025-11-20 21:03:34.858 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.6868ms
2025-11-20 21:03:34.859 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:03:34.859 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.860 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.4121ms
2025-11-20 21:03:34.860 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:03:34.861 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.861 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.3926ms
2025-11-20 21:03:34.861 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:03:34.861 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.862 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4ms
2025-11-20 21:03:34.862 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:03:34.862 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.862 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:03:34.863 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:34.863 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:03:34.863 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:03:34.863 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.864 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.864 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:03:34.864 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:03:34.864 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:34.864 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:34.864 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:34.865 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:03:34.866 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:03:34.866 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:34.865 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:03:34.866 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:03:34.866 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.866 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:34.868 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:03:34.867 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.867 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:03:34.868 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:34.866 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.868 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:03:34.869 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:03:34.869 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 5.5202ms
2025-11-20 21:03:34.868 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:34.869 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:03:34.869 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:03:34.869 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:34.869 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:03:34.870 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:34.870 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:03:34.870 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 8.2392ms
2025-11-20 21:03:34.870 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 5.5924ms
2025-11-20 21:03:34.870 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 4.5129ms
2025-11-20 21:03:34.871 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:03:34.871 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:03:34.871 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:03:34.871 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:03:34.871 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:34.872 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 8.6945ms
2025-11-20 21:03:34.872 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:03:34.872 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 8.7475ms
2025-11-20 21:03:34.872 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.6675ms
2025-11-20 21:03:34.872 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:34.873 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:03:34.873 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 4.0242ms
2025-11-20 21:03:34.873 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:03:34.873 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:03:34.874 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:03:34.874 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 8.9397ms
2025-11-20 21:03:34.874 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 9.1073ms
2025-11-20 21:03:34.874 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:03:34.875 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:03:34.875 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:03:34.876 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:03:34.876 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:03:34.876 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 6.7935ms
2025-11-20 21:03:34.877 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:03:34.877 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 10.9696ms
2025-11-20 21:03:34.910 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:03:34.911 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:03:34.911 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.911 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.911 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.8772ms
2025-11-20 21:03:34.911 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:03:34.911 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.689ms
2025-11-20 21:03:34.912 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:03:34.912 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.912 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.912 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.8894ms
2025-11-20 21:03:34.912 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.5981ms
2025-11-20 21:03:34.914 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:03:34.915 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.915 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:03:34.915 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:03:34.915 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.915 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:34.915 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:03:34.916 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:34.916 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:34.917 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:34.917 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:03:34.917 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:03:34.918 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:03:34.919 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:03:34.918 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.919 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:34.919 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:34.920 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:03:34.920 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:03:34.920 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:34.920 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 4.4808ms
2025-11-20 21:03:34.920 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:34.920 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:34.920 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:03:34.921 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 5.0503ms
2025-11-20 21:03:34.921 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 6.7257ms
2025-11-20 21:03:34.921 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:03:34.921 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:03:34.921 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:34.922 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 7.5362ms
2025-11-20 21:03:34.924 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:34.925 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 4.1633ms
2025-11-20 21:03:34.925 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:03:34.925 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 8.3252ms
2025-11-20 21:03:34.925 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:34.926 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 5.0674ms
2025-11-20 21:03:34.926 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:03:34.926 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 9.5806ms
2025-11-20 21:03:35.114 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:03:35.114 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:03:35.115 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.115 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:03:35.115 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.115 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.8001ms
2025-11-20 21:03:35.115 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.115 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 1.0566ms
2025-11-20 21:03:35.116 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.8468ms
2025-11-20 21:03:35.117 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:03:35.118 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.118 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.5042ms
2025-11-20 21:03:35.118 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:03:35.118 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.118 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5293ms
2025-11-20 21:03:35.118 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:03:35.119 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:03:35.119 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.119 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.119 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6858ms
2025-11-20 21:03:35.119 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:03:35.120 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:35.121 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:03:35.121 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:03:35.121 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.121 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:03:35.121 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.121 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:03:35.122 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:03:35.122 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.121 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:03:35.121 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:35.121 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:03:35.122 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.121 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.122 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:03:35.122 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:35.123 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:35.123 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:03:35.123 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:03:35.123 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:03:35.123 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:03:35.124 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:03:35.124 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:35.124 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:35.124 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:03:35.124 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:35.125 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:35.125 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:03:35.126 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:03:35.127 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 6.8049ms
2025-11-20 21:03:35.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:03:35.127 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:35.127 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:35.128 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:03:35.128 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:03:35.128 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:03:35.129 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 5.3584ms
2025-11-20 21:03:35.129 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 4.0244ms
2025-11-20 21:03:35.129 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 10.2284ms
2025-11-20 21:03:35.129 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:03:35.129 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:03:35.129 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:03:35.130 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 8.804ms
2025-11-20 21:03:35.130 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 8.6306ms
2025-11-20 21:03:35.130 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:03:35.130 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:35.130 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:35.131 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:03:35.131 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 5.3327ms
2025-11-20 21:03:35.131 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 7.6082ms
2025-11-20 21:03:35.132 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:03:35.131 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:03:35.132 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:03:35.132 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:03:35.132 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 11.138ms
2025-11-20 21:03:35.133 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:03:35.132 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 11.5528ms
2025-11-20 21:03:35.133 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 9.1832ms
2025-11-20 21:03:35.134 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:03:35.134 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 12.2897ms
2025-11-20 21:03:35.166 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:03:35.166 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:03:35.166 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:03:35.166 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.167 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.167 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.167 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 1.1983ms
2025-11-20 21:03:35.167 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.8207ms
2025-11-20 21:03:35.167 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 1.2257ms
2025-11-20 21:03:35.167 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:03:35.168 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.168 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 1.0781ms
2025-11-20 21:03:35.170 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:03:35.171 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.171 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:03:35.171 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:03:35.171 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:35.171 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:03:35.171 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:03:35.172 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.172 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.172 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:03:35.172 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:03:35.172 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:35.172 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:03:35.173 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:03:35.173 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:35.173 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:35.173 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:03:35.173 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:35.175 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:03:35.175 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:03:35.175 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:03:35.176 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:35.176 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:03:35.177 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 5.0367ms
2025-11-20 21:03:35.177 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:03:35.177 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 6.9479ms
2025-11-20 21:03:35.178 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:35.178 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 3.6495ms
2025-11-20 21:03:35.178 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:03:35.178 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:35.178 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:03:35.178 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 7.1249ms
2025-11-20 21:03:35.179 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 4.9301ms
2025-11-20 21:03:35.179 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:03:35.179 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 5.9581ms
2025-11-20 21:03:35.179 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 8.245ms
2025-11-20 21:03:35.179 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:03:35.180 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 8.7938ms
2025-11-20 21:04:21.403 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:04:21.403 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:04:21.404 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.7467ms
2025-11-20 21:04:21.408 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:04:21.408 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:04:21.409 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:04:21.409 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:04:21.410 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:04:21.412 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:04:21.412 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.7048ms
2025-11-20 21:04:21.412 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:04:21.412 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 4.5026ms
2025-11-20 21:04:21.416 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 21:04:21.416 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:04:21.416 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.6651ms
2025-11-20 21:04:21.418 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 21:04:21.418 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:04:21.418 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:04:21.419 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:04:21.420 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:04:21.422 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:04:21.423 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:04:21.423 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:04:21.423 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:04:21.424 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:04:21.424 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.3841ms
2025-11-20 21:04:21.425 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:04:21.425 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 6.8268ms
2025-11-20 21:04:31.686 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:04:31.687 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:04:31.687 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5823ms
2025-11-20 21:04:31.688 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:04:31.688 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:04:31.689 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:04:31.689 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:04:31.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:04:31.691 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:04:31.691 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 1.6668ms
2025-11-20 21:04:31.691 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:04:31.691 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 2.7413ms
2025-11-20 21:04:31.695 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 21:04:31.695 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:04:31.695 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.4073ms
2025-11-20 21:04:31.696 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 21:04:31.696 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:04:31.696 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:04:31.697 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:04:31.697 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:04:31.699 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:04:31.699 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:04:31.700 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:04:31.701 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:04:31.701 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:04:31.702 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.1771ms
2025-11-20 21:04:31.702 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:04:31.702 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 6.1538ms
2025-11-20 21:05:53.857 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:05:53.858 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:05:53.858 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.6445ms
2025-11-20 21:05:53.863 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:05:53.864 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:05:53.864 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:05:53.864 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:05:53.865 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:05:53.866 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:05:53.867 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.2638ms
2025-11-20 21:05:53.867 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:05:53.867 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.9351ms
2025-11-20 21:05:53.870 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 21:05:53.871 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:05:53.871 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.5602ms
2025-11-20 21:05:53.872 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 21:05:53.872 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:05:53.872 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:05:53.872 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:05:53.873 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:05:53.875 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:05:53.875 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:05:53.876 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:05:53.877 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:05:53.877 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:05:53.877 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 4.7545ms
2025-11-20 21:05:53.878 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:05:53.878 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 5.9417ms
2025-11-20 21:07:36.072 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:07:36.072 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.072 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.7544ms
2025-11-20 21:07:36.075 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:07:36.075 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:07:36.075 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.075 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:07:36.075 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.075 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.4355ms
2025-11-20 21:07:36.075 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.076 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.5449ms
2025-11-20 21:07:36.076 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:07:36.076 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.5685ms
2025-11-20 21:07:36.076 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.076 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:07:36.076 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5456ms
2025-11-20 21:07:36.076 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.076 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.3516ms
2025-11-20 21:07:36.079 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:07:36.079 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.080 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:07:36.080 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:36.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:07:36.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:07:36.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:07:36.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:07:36.080 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.080 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.081 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.081 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.081 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:07:36.081 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:07:36.081 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:07:36.081 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:07:36.081 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:36.081 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:07:36.081 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:36.081 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:36.081 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:07:36.082 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:07:36.082 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:07:36.082 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:07:36.083 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.083 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:07:36.083 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:07:36.083 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:36.083 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:07:36.084 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:07:36.084 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:36.084 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 4.2534ms
2025-11-20 21:07:36.085 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:07:36.085 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:36.085 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:07:36.085 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:07:36.085 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.7769ms
2025-11-20 21:07:36.086 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:07:36.086 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 4.1183ms
2025-11-20 21:07:36.087 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:36.086 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:07:36.086 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 7.663ms
2025-11-20 21:07:36.087 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:07:36.087 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:36.087 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:07:36.087 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 6.7873ms
2025-11-20 21:07:36.087 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 4.6496ms
2025-11-20 21:07:36.087 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 7.128ms
2025-11-20 21:07:36.088 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 5.35ms
2025-11-20 21:07:36.088 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:07:36.088 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:07:36.088 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:07:36.089 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 8.5819ms
2025-11-20 21:07:36.089 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 8.9689ms
2025-11-20 21:07:36.089 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:07:36.090 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:07:36.091 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:07:36.091 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:07:36.091 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:07:36.092 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:07:36.092 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 5.6926ms
2025-11-20 21:07:36.092 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:07:36.092 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 10.9865ms
2025-11-20 21:07:36.128 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:07:36.128 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.129 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.4971ms
2025-11-20 21:07:36.129 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:07:36.129 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:07:36.129 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.130 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.130 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:07:36.130 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.5982ms
2025-11-20 21:07:36.130 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.130 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.8649ms
2025-11-20 21:07:36.130 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.4337ms
2025-11-20 21:07:36.133 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:07:36.133 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.133 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:07:36.133 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:36.134 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:07:36.134 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:07:36.134 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:07:36.134 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:07:36.134 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.135 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.135 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:07:36.135 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:36.135 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:07:36.136 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:07:36.136 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:07:36.136 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:36.136 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:36.136 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:36.136 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:36.137 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 3.2624ms
2025-11-20 21:07:36.137 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:07:36.137 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:07:36.137 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 4.4863ms
2025-11-20 21:07:36.137 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:07:36.137 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:07:36.138 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:07:36.140 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:36.140 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:36.140 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 3.3278ms
2025-11-20 21:07:36.140 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:36.140 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:07:36.140 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 3.8044ms
2025-11-20 21:07:36.140 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 3.5078ms
2025-11-20 21:07:36.140 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 6.2645ms
2025-11-20 21:07:36.140 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:07:36.141 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:07:36.141 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 7.0188ms
2025-11-20 21:07:36.141 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 6.9162ms
2025-11-20 21:07:55.356 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:07:55.356 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:07:55.356 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:55.356 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:55.357 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.3404ms
2025-11-20 21:07:55.357 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.7829ms
2025-11-20 21:07:55.357 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:07:55.357 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:07:55.357 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:55.357 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:55.358 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.5704ms
2025-11-20 21:07:55.358 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.5427ms
2025-11-20 21:07:55.360 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:07:55.361 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:55.361 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:07:55.361 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:55.362 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:07:55.362 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:07:55.362 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:07:55.362 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:55.362 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:55.363 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:07:55.363 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:07:55.362 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:07:55.363 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:07:55.364 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:07:55.363 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:55.364 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:55.364 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:07:55.365 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:07:55.365 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:07:55.365 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:07:55.365 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:07:55.367 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:55.367 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:07:55.365 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:55.368 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 3.3279ms
2025-11-20 21:07:55.368 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 6.3362ms
2025-11-20 21:07:55.368 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:07:55.368 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:07:55.368 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:55.368 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 7.8705ms
2025-11-20 21:07:55.368 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 6.717ms
2025-11-20 21:07:55.369 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:07:55.369 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 4.4655ms
2025-11-20 21:07:55.369 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 4.6774ms
2025-11-20 21:07:55.369 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:07:55.369 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:07:55.369 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 7.8789ms
2025-11-20 21:07:55.370 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 7.8558ms
2025-11-20 21:09:18.672 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:09:18.672 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:18.672 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.7107ms
2025-11-20 21:09:18.676 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:09:18.677 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:18.677 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:09:18.677 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:09:18.678 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:09:18.679 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:09:18.680 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.1187ms
2025-11-20 21:09:18.680 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:09:18.680 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.7058ms
2025-11-20 21:09:18.684 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - null null
2025-11-20 21:09:18.684 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:18.684 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 204 null null 0.4348ms
2025-11-20 21:09:18.685 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - application/json 49
2025-11-20 21:09:18.685 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:18.686 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:09:18.686 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:09:18.687 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:09:18.688 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:09:18.689 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:09:18.689 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:09:18.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:09:18.691 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:09:18.691 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.0685ms
2025-11-20 21:09:18.691 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:09:18.691 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/cca404f7-21f1-42c9-89eb-fe7d4173fd44/register - 400 null application/json; charset=utf-8 6.3377ms
2025-11-20 21:09:28.947 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - null null
2025-11-20 21:09:28.948 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:28.948 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 204 null null 0.6602ms
2025-11-20 21:09:28.950 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - application/json null
2025-11-20 21:09:28.950 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:28.950 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:09:28.950 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:09:28.951 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:09:28.953 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 21:09:28.953 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 2.2704ms
2025-11-20 21:09:28.953 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:09:28.953 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 200 null application/json; charset=utf-8 3.3499ms
2025-11-20 21:09:28.965 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - null null
2025-11-20 21:09:28.966 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:28.966 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 204 null null 0.6449ms
2025-11-20 21:09:28.969 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - application/json null
2025-11-20 21:09:28.969 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:28.970 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:09:28.970 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:09:28.971 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 21:09:28.972 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:09:28.974 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 21:09:28.979 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-11-20 21:09:28.980 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:09:28.980 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 9.6468ms
2025-11-20 21:09:28.980 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:09:28.980 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 200 null application/json; charset=utf-8 11.0628ms
2025-11-20 21:09:28.983 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - null null
2025-11-20 21:09:28.984 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:28.984 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 204 null null 0.5965ms
2025-11-20 21:09:28.985 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - application/json null
2025-11-20 21:09:28.986 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:28.986 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:09:28.986 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:09:28.987 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 21:09:28.987 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:09:28.987 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 1.2041ms
2025-11-20 21:09:28.988 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:09:28.988 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 200 null application/json; charset=utf-8 2.5534ms
2025-11-20 21:09:32.219 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:09:32.219 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:32.219 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5964ms
2025-11-20 21:09:32.221 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:09:32.221 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:32.221 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:09:32.221 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:09:32.222 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:09:32.223 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:09:32.223 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 1.9919ms
2025-11-20 21:09:32.224 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:09:32.224 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.2265ms
2025-11-20 21:09:32.227 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:09:32.228 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:32.228 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.4857ms
2025-11-20 21:09:32.229 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:09:32.230 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:32.230 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:09:32.230 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:09:32.231 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:09:32.232 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:09:32.233 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:09:32.234 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:09:32.234 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:09:32.235 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:09:32.235 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 4.7837ms
2025-11-20 21:09:32.235 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:09:32.235 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 5.8775ms
2025-11-20 21:09:35.112 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:09:35.113 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:35.113 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.679ms
2025-11-20 21:09:35.115 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:09:35.115 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:35.116 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:09:35.116 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:09:35.116 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:09:35.117 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:09:35.118 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 1.8239ms
2025-11-20 21:09:35.118 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:09:35.118 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.3125ms
2025-11-20 21:09:35.121 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:09:35.121 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:35.122 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.4412ms
2025-11-20 21:09:35.123 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:09:35.124 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:09:35.124 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:09:35.124 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:09:35.125 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:09:35.126 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:09:35.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:09:35.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:09:35.128 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:09:35.128 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:09:35.129 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 4.4786ms
2025-11-20 21:09:35.129 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:09:35.129 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 5.6976ms
2025-11-20 21:11:10.110 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:11:10.110 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:11:10.110 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.8029ms
2025-11-20 21:11:10.115 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:11:10.116 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:11:10.116 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:11:10.116 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:11:10.117 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:11:10.118 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:11:10.118 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 1.8305ms
2025-11-20 21:11:10.119 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:11:10.119 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.6804ms
2025-11-20 21:11:10.123 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:11:10.123 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:11:10.123 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.5129ms
2025-11-20 21:11:10.125 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:11:10.125 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:11:10.126 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:11:10.126 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:11:10.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:11:10.128 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:11:10.129 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:11:10.130 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:11:10.130 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:11:10.131 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:11:10.131 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.4013ms
2025-11-20 21:11:10.131 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:11:10.132 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 6.7556ms
2025-11-20 21:11:13.031 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:11:13.032 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:11:13.032 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.739ms
2025-11-20 21:11:13.035 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:11:13.035 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:11:13.036 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:11:13.036 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:11:13.037 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:11:13.038 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:11:13.038 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 1.7591ms
2025-11-20 21:11:13.038 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:11:13.039 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.4527ms
2025-11-20 21:11:13.046 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:11:13.047 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:11:13.047 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.9866ms
2025-11-20 21:11:13.050 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:11:13.050 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:11:13.050 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:11:13.051 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:11:13.053 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:11:13.054 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:11:13.055 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:11:13.056 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:11:13.057 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:11:13.057 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:11:13.058 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 6.7485ms
2025-11-20 21:11:13.058 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:11:13.058 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 8.6085ms
2025-11-20 21:13:31.543 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - null null
2025-11-20 21:13:31.543 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.543 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 204 null null 0.6349ms
2025-11-20 21:13:31.545 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:13:31.545 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:13:31.545 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.545 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.545 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5063ms
2025-11-20 21:13:31.545 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.3979ms
2025-11-20 21:13:31.546 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - application/json null
2025-11-20 21:13:31.546 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.547 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:13:31.547 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.548 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:13:31.548 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.548 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:13:31.548 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:13:31.548 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:13:31.549 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:13:31.549 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 21:13:31.549 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.550 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 2.4861ms
2025-11-20 21:13:31.550 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:13:31.550 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:13:31.550 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:13:31.550 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:13:31.550 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 200 null application/json; charset=utf-8 3.854ms
2025-11-20 21:13:31.550 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:13:31.551 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:13:31.551 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:13:31.552 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:13:31.552 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:13:31.552 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:13:31.552 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:13:31.553 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:13:31.553 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.1581ms
2025-11-20 21:13:31.553 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:13:31.553 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:13:31.553 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 4.9084ms
2025-11-20 21:13:31.553 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:13:31.554 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.2645ms
2025-11-20 21:13:31.554 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:13:31.554 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.4089ms
2025-11-20 21:13:31.575 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - null null
2025-11-20 21:13:31.576 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.576 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 204 null null 0.6125ms
2025-11-20 21:13:31.578 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - application/json null
2025-11-20 21:13:31.579 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.579 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:13:31.579 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.580 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:13:31.581 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 21:13:31.582 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 2.2436ms
2025-11-20 21:13:31.582 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:13:31.582 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 200 null application/json; charset=utf-8 3.623ms
2025-11-20 21:13:31.585 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - null null
2025-11-20 21:13:31.585 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.586 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 204 null null 0.5855ms
2025-11-20 21:13:31.591 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - application/json null
2025-11-20 21:13:31.591 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - null null
2025-11-20 21:13:31.591 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.592 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.592 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:13:31.592 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 204 null null 0.9208ms
2025-11-20 21:13:31.592 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.593 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 21:13:31.594 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:13:31.594 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - application/json null
2025-11-20 21:13:31.595 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.596 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 21:13:31.596 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:13:31.596 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.596 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-11-20 21:13:31.597 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 21:13:31.597 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:13:31.597 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 4.8043ms
2025-11-20 21:13:31.598 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:13:31.598 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:13:31.598 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 200 null application/json; charset=utf-8 6.5999ms
2025-11-20 21:13:31.599 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 21:13:31.599 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-11-20 21:13:31.600 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:13:31.600 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 3.5262ms
2025-11-20 21:13:31.600 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:13:31.600 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 200 null application/json; charset=utf-8 5.6052ms
2025-11-20 21:13:31.628 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - null null
2025-11-20 21:13:31.628 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.628 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 204 null null 0.55ms
2025-11-20 21:13:31.629 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - null null
2025-11-20 21:13:31.629 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.629 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 204 null null 0.3499ms
2025-11-20 21:13:31.632 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - application/json null
2025-11-20 21:13:31.632 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - application/json null
2025-11-20 21:13:31.632 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.632 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.633 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:13:31.633 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:13:31.633 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.633 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.633 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 21:13:31.633 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 21:13:31.634 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:13:31.634 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:13:31.634 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 0.9977ms
2025-11-20 21:13:31.634 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 1.0355ms
2025-11-20 21:13:31.634 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:13:31.634 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:13:31.635 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 200 null application/json; charset=utf-8 2.6304ms
2025-11-20 21:13:31.635 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 200 null application/json; charset=utf-8 2.6618ms
2025-11-20 21:13:31.745 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - null null
2025-11-20 21:13:31.745 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.745 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 204 null null 0.4601ms
2025-11-20 21:13:31.747 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:13:31.748 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.748 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5581ms
2025-11-20 21:13:31.748 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:13:31.748 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - application/json null
2025-11-20 21:13:31.748 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.748 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.749 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.4322ms
2025-11-20 21:13:31.749 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:13:31.749 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.750 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:13:31.750 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:13:31.750 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:13:31.751 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.751 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.751 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 21:13:31.751 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:13:31.751 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:13:31.751 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 2.3061ms
2025-11-20 21:13:31.751 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:13:31.751 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:13:31.752 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:13:31.752 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:13:31.752 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 200 null application/json; charset=utf-8 3.7239ms
2025-11-20 21:13:31.752 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:13:31.752 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:13:31.753 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:13:31.753 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:13:31.753 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.0259ms
2025-11-20 21:13:31.753 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:13:31.753 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 3.3196ms
2025-11-20 21:13:31.753 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:13:31.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:13:31.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:13:31.755 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:13:31.755 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:13:31.756 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:13:31.756 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 4.1702ms
2025-11-20 21:13:31.756 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:13:31.756 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.9373ms
2025-11-20 21:13:31.764 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - null null
2025-11-20 21:13:31.765 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.765 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 204 null null 0.4564ms
2025-11-20 21:13:31.766 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - application/json null
2025-11-20 21:13:31.767 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.767 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:13:31.767 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.768 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:13:31.769 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 21:13:31.769 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 1.99ms
2025-11-20 21:13:31.769 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:13:31.769 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 200 null application/json; charset=utf-8 3.0083ms
2025-11-20 21:13:31.770 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - null null
2025-11-20 21:13:31.770 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.770 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 204 null null 0.282ms
2025-11-20 21:13:31.772 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - application/json null
2025-11-20 21:13:31.773 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.773 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:13:31.773 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.774 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 21:13:31.774 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - null null
2025-11-20 21:13:31.775 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.775 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:13:31.775 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 204 null null 0.2494ms
2025-11-20 21:13:31.776 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 21:13:31.776 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - application/json null
2025-11-20 21:13:31.776 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-11-20 21:13:31.776 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.776 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:13:31.777 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:13:31.777 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 3.4692ms
2025-11-20 21:13:31.777 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.777 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:13:31.777 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 200 null application/json; charset=utf-8 4.8262ms
2025-11-20 21:13:31.777 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 21:13:31.779 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:13:31.780 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 21:13:31.781 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-11-20 21:13:31.781 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:13:31.781 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 4.3947ms
2025-11-20 21:13:31.781 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:13:31.782 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 200 null application/json; charset=utf-8 5.4961ms
2025-11-20 21:13:31.801 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - null null
2025-11-20 21:13:31.802 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - null null
2025-11-20 21:13:31.802 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.802 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.802 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 204 null null 0.5208ms
2025-11-20 21:13:31.802 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 204 null null 1.1102ms
2025-11-20 21:13:31.806 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - application/json null
2025-11-20 21:13:31.806 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - application/json null
2025-11-20 21:13:31.806 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.806 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:13:31.807 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:13:31.807 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:13:31.807 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.807 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:13:31.807 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 21:13:31.807 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 21:13:31.807 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:13:31.808 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:13:31.808 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 0.6287ms
2025-11-20 21:13:31.808 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 0.8369ms
2025-11-20 21:13:31.808 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:13:31.808 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:13:31.808 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 200 null application/json; charset=utf-8 2.1483ms
2025-11-20 21:13:31.808 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 200 null application/json; charset=utf-8 2.2872ms
2025-11-20 21:14:34.508 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:14:34.509 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:34.509 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.8382ms
2025-11-20 21:14:34.513 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:14:34.514 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:34.514 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:14:34.515 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:14:34.516 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:14:34.517 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:14:34.517 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.1588ms
2025-11-20 21:14:34.517 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:14:34.518 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 4.1608ms
2025-11-20 21:14:34.521 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:14:34.521 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:34.521 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.554ms
2025-11-20 21:14:34.523 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:14:34.523 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:34.524 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:14:34.524 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:14:34.525 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:14:34.526 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:14:34.527 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:14:34.528 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:14:34.529 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:14:34.530 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:14:34.530 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.9198ms
2025-11-20 21:14:34.530 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:14:34.530 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 7.5455ms
2025-11-20 21:14:37.257 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:14:37.257 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:37.257 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5413ms
2025-11-20 21:14:37.259 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:14:37.259 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:37.259 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:14:37.259 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:14:37.260 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:14:37.261 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:14:37.261 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 1.5931ms
2025-11-20 21:14:37.261 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:14:37.261 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 2.7664ms
2025-11-20 21:14:37.266 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:14:37.266 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:37.266 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.4306ms
2025-11-20 21:14:37.267 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:14:37.268 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:37.268 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:14:37.268 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:14:37.269 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:14:37.271 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:14:37.271 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:14:37.272 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:14:37.272 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:14:37.273 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:14:37.273 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.1914ms
2025-11-20 21:14:37.274 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:14:37.274 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 6.4875ms
2025-11-20 21:14:40.071 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/invite?validDays=7 - null null
2025-11-20 21:14:40.071 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:40.072 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/invite?validDays=7 - 204 null null 0.7311ms
2025-11-20 21:14:40.073 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/invite?validDays=7 - application/json 0
2025-11-20 21:14:40.073 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:40.074 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GenerateInvite (ASG.Api)'
2025-11-20 21:14:40.076 +08:00 [INF] Route matched with {action = "GenerateInvite", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamInviteDto]] GenerateInvite(System.Guid, Int32) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:14:40.079 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:14:40.085 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "InviteExpiresAt" = @p0, "InviteToken" = @p1, "UpdatedAt" = @p2
WHERE "Id" = @p3 AND "UpdatedAt" = @p4
RETURNING 1;
2025-11-20 21:14:40.086 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:14:40.087 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamInviteDto'.
2025-11-20 21:14:40.088 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GenerateInvite (ASG.Api) in 11.5872ms
2025-11-20 21:14:40.088 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GenerateInvite (ASG.Api)'
2025-11-20 21:14:40.089 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/invite?validDays=7 - 200 null application/json; charset=utf-8 15.6872ms
2025-11-20 21:14:47.530 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:14:47.530 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:47.530 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.7869ms
2025-11-20 21:14:47.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:14:47.533 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:14:47.533 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:14:47.533 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:14:47.534 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:14:47.536 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:14:47.536 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.2665ms
2025-11-20 21:14:47.536 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:14:47.536 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.5735ms
2025-11-20 21:14:47.550 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png - null null
2025-11-20 21:14:47.551 +08:00 [INF] Sending file. Request path: '/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png'. Physical path: 'C:\Users\luolan\ASG\ASG.Api\wwwroot\team-logos\9978dc91-5a58-4102-bbd4-c9f01ee84757\logo.png'
2025-11-20 21:14:47.552 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/team-logos/9978dc91-5a58-4102-bbd4-c9f01ee84757/logo.png - 200 12370 image/png 1.5343ms
2025-11-20 21:15:26.791 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:15:26.791 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:26.792 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.6538ms
2025-11-20 21:15:26.794 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:15:26.794 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:26.794 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:15:26.794 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:15:26.795 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:15:26.796 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:15:26.797 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.3152ms
2025-11-20 21:15:26.797 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:15:26.797 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.4946ms
2025-11-20 21:15:26.801 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:15:26.801 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:26.802 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.5929ms
2025-11-20 21:15:26.804 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:15:26.804 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:26.805 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:15:26.805 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:15:26.806 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:15:26.807 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:15:26.808 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:15:26.809 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:15:26.809 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:15:26.810 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:15:26.810 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.2403ms
2025-11-20 21:15:26.810 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:15:26.811 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 6.685ms
2025-11-20 21:15:29.942 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:15:29.943 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:29.943 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5452ms
2025-11-20 21:15:29.945 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:15:29.945 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:29.946 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:15:29.946 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:15:29.946 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:15:29.948 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:15:29.948 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.4556ms
2025-11-20 21:15:29.949 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:15:29.949 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.7935ms
2025-11-20 21:15:29.952 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:15:29.953 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:29.953 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.6637ms
2025-11-20 21:15:29.954 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:15:29.954 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:29.955 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:15:29.955 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:15:29.956 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:15:29.958 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:15:29.959 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:15:29.959 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:15:29.960 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:15:29.960 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:15:29.961 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.6382ms
2025-11-20 21:15:29.961 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:15:29.961 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 6.7964ms
2025-11-20 21:15:33.126 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:15:33.126 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:33.126 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.5956ms
2025-11-20 21:15:33.128 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:15:33.129 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:33.129 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:15:33.129 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:15:33.130 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:15:33.131 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:15:33.131 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.072ms
2025-11-20 21:15:33.132 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:15:33.132 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.316ms
2025-11-20 21:15:33.136 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:15:33.136 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:33.136 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.4994ms
2025-11-20 21:15:33.138 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:15:33.138 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:15:33.138 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:15:33.138 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:15:33.139 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:15:33.140 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:15:33.141 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:15:33.142 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:15:33.142 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:15:33.142 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:15:33.143 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 4.1041ms
2025-11-20 21:15:33.143 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:15:33.143 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 5.3778ms
2025-11-20 21:17:16.584 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:17:16.585 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:17:16.585 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.7237ms
2025-11-20 21:17:16.587 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:17:16.587 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:17:16.587 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:17:16.587 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:17:16.588 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:17:16.590 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:17:16.590 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.2108ms
2025-11-20 21:17:16.590 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:17:16.590 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.6593ms
2025-11-20 21:17:16.594 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:17:16.594 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:17:16.595 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.7522ms
2025-11-20 21:17:16.596 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:17:16.596 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:17:16.597 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:17:16.597 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:17:16.598 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:17:16.600 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:17:16.600 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:17:16.601 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:17:16.602 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:17:16.602 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:17:16.603 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.6248ms
2025-11-20 21:17:16.603 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:17:16.603 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 7.5532ms
2025-11-20 21:19:54.923 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:19:54.923 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:19:54.923 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:19:54.924 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:19:54.924 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.7174ms
2025-11-20 21:19:54.924 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6961ms
2025-11-20 21:19:54.926 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:19:54.926 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:19:54.927 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:19:54.927 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:19:54.927 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:19:54.927 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:19:54.928 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:19:54.928 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:19:54.928 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:19:54.929 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:19:54.929 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.8401ms
2025-11-20 21:19:54.929 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:19:54.929 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 3.3453ms
2025-11-20 21:19:54.930 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:19:54.930 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:19:54.931 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:19:54.931 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:19:54.932 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:19:54.933 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:19:54.933 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:19:54.934 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:19:54.934 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:19:54.934 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 6.0787ms
2025-11-20 21:19:54.934 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:19:54.935 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 7.8449ms
2025-11-20 21:19:55.198 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - null null
2025-11-20 21:19:55.199 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:19:55.199 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 204 null null 0.969ms
2025-11-20 21:19:55.203 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - application/json null
2025-11-20 21:19:55.203 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:19:55.204 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:19:55.204 +08:00 [INF] Route matched with {action = "GetEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.EventDto]] GetEvent(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:19:55.205 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:19:55.207 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.EventDto'.
2025-11-20 21:19:55.208 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEvent (ASG.Api) in 3.4714ms
2025-11-20 21:19:55.208 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEvent (ASG.Api)'
2025-11-20 21:19:55.208 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57 - 200 null application/json; charset=utf-8 5.3932ms
2025-11-20 21:19:55.220 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - null null
2025-11-20 21:19:55.220 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:19:55.221 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 204 null null 1.6883ms
2025-11-20 21:19:55.228 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - application/json null
2025-11-20 21:19:55.229 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:19:55.229 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:19:55.229 +08:00 [INF] Route matched with {action = "GetEventRegistrations", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.TeamEventDto]]] GetEventRegistrations(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:19:55.231 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
FROM "TeamEvents" AS "t"
INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
INNER JOIN "Events" AS "e" ON "t"."EventId" = "e"."Id"
WHERE "t"."EventId" = @__eventId_0
ORDER BY "t"."RegistrationTime"
2025-11-20 21:19:55.234 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:19:55.237 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 21:19:55.238 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-11-20 21:19:55.239 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.TeamEvent, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.TeamEventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:19:55.239 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api) in 9.491ms
2025-11-20 21:19:55.240 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventRegistrations (ASG.Api)'
2025-11-20 21:19:55.241 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/registrations - 200 null application/json; charset=utf-8 12.5841ms
2025-11-20 21:19:55.276 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - null null
2025-11-20 21:19:55.276 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:19:55.276 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 204 null null 0.7015ms
2025-11-20 21:19:55.278 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - application/json null
2025-11-20 21:19:55.278 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:19:55.279 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:19:55.279 +08:00 [INF] Route matched with {action = "GetEventAdmins", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.UserResponseDto]]] GetEventAdmins(System.Guid) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:19:55.280 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__eventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."UserId"
FROM "EventAdmins" AS "e"
WHERE "e"."EventId" = @__eventId_0
2025-11-20 21:19:55.280 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.UserResponseDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:19:55.280 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api) in 0.9095ms
2025-11-20 21:19:55.280 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetEventAdmins (ASG.Api)'
2025-11-20 21:19:55.280 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/admins - 200 null application/json; charset=utf-8 2.3421ms
2025-11-20 21:20:41.497 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:20:41.497 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:20:41.498 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:20:41.498 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:20:41.498 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.5922ms
2025-11-20 21:20:41.498 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5844ms
2025-11-20 21:20:41.500 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:20:41.500 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:20:41.500 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:20:41.500 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:20:41.501 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 21:20:41.501 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 21:20:41.501 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 21:20:41.501 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 21:20:41.501 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 0.9727ms
2025-11-20 21:20:41.501 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 1.0088ms
2025-11-20 21:21:11.360 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:21:11.361 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:21:11.361 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:21:11.361 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.7224ms
2025-11-20 21:21:11.361 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:21:11.361 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6827ms
2025-11-20 21:21:11.364 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:21:11.364 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:21:11.364 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 21:21:11.364 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:21:11.365 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 21:21:11.365 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:21:11.365 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 21:21:11.365 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 0.9395ms
2025-11-20 21:21:11.365 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 21:21:11.365 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 0.7322ms
2025-11-20 21:27:12.967 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - null null
2025-11-20 21:27:12.967 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:12.968 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - 204 null null 0.6371ms
2025-11-20 21:27:12.969 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/login - application/json 60
2025-11-20 21:27:12.970 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:12.970 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-20 21:27:12.970 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-11-20 21:27:12.986 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-20 21:27:13.034 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:27:13.035 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 64.3089ms
2025-11-20 21:27:13.035 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-20 21:27:13.035 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/login - 401 null application/json; charset=utf-8 65.6989ms
2025-11-20 21:27:20.026 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - null null
2025-11-20 21:27:20.027 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:20.027 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - 204 null null 0.5729ms
2025-11-20 21:27:20.033 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/login - application/json 58
2025-11-20 21:27:20.033 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:20.033 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-20 21:27:20.033 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-11-20 21:27:20.034 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-20 21:27:20.092 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:27:20.093 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 59.1695ms
2025-11-20 21:27:20.093 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-20 21:27:20.093 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/login - 401 null application/json; charset=utf-8 60.2653ms
2025-11-20 21:27:42.023 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - null null
2025-11-20 21:27:42.024 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:42.024 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - 204 null null 0.6759ms
2025-11-20 21:27:42.028 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/login - application/json 61
2025-11-20 21:27:42.028 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:42.028 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-20 21:27:42.029 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-11-20 21:27:42.029 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-20 21:27:42.075 +08:00 [INF] User logged in successfully: luolan12323@outlook.com
2025-11-20 21:27:42.076 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-11-20 21:27:42.076 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 47.3737ms
2025-11-20 21:27:42.076 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-20 21:27:42.077 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/login - 200 null application/json; charset=utf-8 48.936ms
2025-11-20 21:27:53.827 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - null null
2025-11-20 21:27:53.828 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:53.828 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - 204 null null 0.5506ms
2025-11-20 21:27:53.829 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - application/json null
2025-11-20 21:27:53.830 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:53.830 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.SearchController.Search (ASG.Api)'
2025-11-20 21:27:53.833 +08:00 [INF] Route matched with {action = "Search", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Search(System.String, System.String, Int32, Int32) on controller ASG.Api.Controllers.SearchController (ASG.Api).
2025-11-20 21:27:53.841 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (Size = 3), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-20 21:27:53.843 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-20 21:27:53.843 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
    ORDER BY "e"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
LEFT JOIN "Teams" AS "t0" ON "t"."ChampionTeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "t0"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:27:53.845 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
2025-11-20 21:27:53.855 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."AuthorUserId", "t"."ContentMarkdown", "t"."CreatedAt", "t"."Likes", "t"."Title", "t"."UpdatedAt", "t"."Views", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId"
FROM (
    SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views"
    FROM "Articles" AS "a"
    WHERE "a"."Title" LIKE @__p_1 OR "a"."ContentMarkdown" LIKE @__p_1
    ORDER BY "a"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
INNER JOIN "Users" AS "u" ON "t"."AuthorUserId" = "u"."Id"
LEFT JOIN "Teams" AS "t0" ON "u"."TeamId" = "t0"."Id"
LEFT JOIN "Comments" AS "c" ON "t"."Id" = "c"."ArticleId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "u"."Id", "t0"."Id"
2025-11-20 21:27:53.858 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Articles" AS "a"
WHERE "a"."Title" LIKE @__p_1 OR "a"."ContentMarkdown" LIKE @__p_1
2025-11-20 21:27:53.859 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 21:27:53.861 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.SearchAggregateDto'.
2025-11-20 21:27:53.863 +08:00 [INF] Executed action ASG.Api.Controllers.SearchController.Search (ASG.Api) in 29.3127ms
2025-11-20 21:27:53.863 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.SearchController.Search (ASG.Api)'
2025-11-20 21:27:53.863 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - 200 null application/json; charset=utf-8 33.5321ms
2025-11-20 21:27:56.146 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - null null
2025-11-20 21:27:56.146 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:56.146 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 204 null null 0.6037ms
2025-11-20 21:27:56.148 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - application/json 0
2025-11-20 21:27:56.148 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:56.149 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:27:56.151 +08:00 [INF] Route matched with {action = "LikeTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] LikeTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:27:56.155 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
FROM "Teams" AS "t"
WHERE "t"."Id" = @__get_Item_0
LIMIT 1
2025-11-20 21:27:56.155 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-20 21:27:56.160 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:27:56.161 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api) in 9.7727ms
2025-11-20 21:27:56.162 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:27:56.162 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 200 null application/json; charset=utf-8 13.8287ms
2025-11-20 21:27:58.966 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - null null
2025-11-20 21:27:58.966 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:58.966 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 204 null null 0.6814ms
2025-11-20 21:27:58.968 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - application/json 0
2025-11-20 21:27:58.968 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:27:58.968 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:27:58.968 +08:00 [INF] Route matched with {action = "LikeTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] LikeTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:27:58.969 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
FROM "Teams" AS "t"
WHERE "t"."Id" = @__get_Item_0
LIMIT 1
2025-11-20 21:27:58.970 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-20 21:27:58.970 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:27:58.971 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api) in 1.9672ms
2025-11-20 21:27:58.971 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:27:58.971 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 200 null application/json; charset=utf-8 3.2702ms
2025-11-20 21:28:50.783 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - null null
2025-11-20 21:28:50.784 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:28:50.784 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 204 null null 0.7731ms
2025-11-20 21:28:50.785 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - application/json 0
2025-11-20 21:28:50.785 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:28:50.785 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:28:50.785 +08:00 [INF] Route matched with {action = "LikeTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] LikeTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:28:50.786 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
FROM "Teams" AS "t"
WHERE "t"."Id" = @__get_Item_0
LIMIT 1
2025-11-20 21:28:50.787 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-20 21:28:50.787 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:28:50.788 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api) in 2.1542ms
2025-11-20 21:28:50.788 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:28:50.788 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 200 null application/json; charset=utf-8 3.4141ms
2025-11-20 21:30:53.239 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - null null
2025-11-20 21:30:53.240 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:30:53.240 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - 204 null null 0.7936ms
2025-11-20 21:30:53.243 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - application/json null
2025-11-20 21:30:53.243 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:30:53.243 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.SearchController.Search (ASG.Api)'
2025-11-20 21:30:53.244 +08:00 [INF] Route matched with {action = "Search", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Search(System.String, System.String, Int32, Int32) on controller ASG.Api.Controllers.SearchController (ASG.Api).
2025-11-20 21:30:53.245 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-20 21:30:53.246 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-20 21:30:53.247 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
    ORDER BY "e"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
LEFT JOIN "Teams" AS "t0" ON "t"."ChampionTeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "t0"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:30:53.248 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
2025-11-20 21:30:53.249 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."AuthorUserId", "t"."ContentMarkdown", "t"."CreatedAt", "t"."Likes", "t"."Title", "t"."UpdatedAt", "t"."Views", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId"
FROM (
    SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views"
    FROM "Articles" AS "a"
    WHERE "a"."Title" LIKE @__p_1 OR "a"."ContentMarkdown" LIKE @__p_1
    ORDER BY "a"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
INNER JOIN "Users" AS "u" ON "t"."AuthorUserId" = "u"."Id"
LEFT JOIN "Teams" AS "t0" ON "u"."TeamId" = "t0"."Id"
LEFT JOIN "Comments" AS "c" ON "t"."Id" = "c"."ArticleId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "u"."Id", "t0"."Id"
2025-11-20 21:30:53.250 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Articles" AS "a"
WHERE "a"."Title" LIKE @__p_1 OR "a"."ContentMarkdown" LIKE @__p_1
2025-11-20 21:30:53.251 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 21:30:53.252 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.SearchAggregateDto'.
2025-11-20 21:30:53.252 +08:00 [INF] Executed action ASG.Api.Controllers.SearchController.Search (ASG.Api) in 8.1051ms
2025-11-20 21:30:53.252 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.SearchController.Search (ASG.Api)'
2025-11-20 21:30:53.252 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - 200 null application/json; charset=utf-8 9.5035ms
2025-11-20 21:30:54.956 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - null null
2025-11-20 21:30:54.956 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:30:54.957 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 204 null null 0.6289ms
2025-11-20 21:30:54.959 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - application/json 0
2025-11-20 21:30:54.959 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:30:54.959 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:30:54.960 +08:00 [INF] Route matched with {action = "LikeTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] LikeTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:30:54.961 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
FROM "Teams" AS "t"
WHERE "t"."Id" = @__get_Item_0
LIMIT 1
2025-11-20 21:30:54.962 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-20 21:30:54.962 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:30:54.962 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api) in 2.5731ms
2025-11-20 21:30:54.963 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:30:54.963 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 200 null application/json; charset=utf-8 3.8975ms
2025-11-20 21:30:58.345 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/a46984d6-ce4d-4d9e-bae2-6766008d1b26/like - null null
2025-11-20 21:30:58.345 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:30:58.346 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/a46984d6-ce4d-4d9e-bae2-6766008d1b26/like - 204 null null 0.6495ms
2025-11-20 21:30:58.348 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/a46984d6-ce4d-4d9e-bae2-6766008d1b26/like - application/json 0
2025-11-20 21:30:58.348 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:30:58.349 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:30:58.349 +08:00 [INF] Route matched with {action = "LikeTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] LikeTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:30:58.350 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
FROM "Teams" AS "t"
WHERE "t"."Id" = @__get_Item_0
LIMIT 1
2025-11-20 21:30:58.351 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-20 21:30:58.351 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:30:58.352 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api) in 2.4913ms
2025-11-20 21:30:58.352 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:30:58.352 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/a46984d6-ce4d-4d9e-bae2-6766008d1b26/like - 200 null application/json; charset=utf-8 4.3581ms
2025-11-20 21:31:05.475 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/8f6e1d42-ab47-465e-829b-7a7046216546/like - null null
2025-11-20 21:31:05.475 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:31:05.476 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/8f6e1d42-ab47-465e-829b-7a7046216546/like - 204 null null 0.5228ms
2025-11-20 21:31:05.477 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/8f6e1d42-ab47-465e-829b-7a7046216546/like - application/json 0
2025-11-20 21:31:05.477 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:31:05.477 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:31:05.477 +08:00 [INF] Route matched with {action = "LikeTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] LikeTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:31:05.478 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
FROM "Teams" AS "t"
WHERE "t"."Id" = @__get_Item_0
LIMIT 1
2025-11-20 21:31:05.479 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-20 21:31:05.479 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:31:05.480 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api) in 2.0114ms
2025-11-20 21:31:05.480 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:31:05.480 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/8f6e1d42-ab47-465e-829b-7a7046216546/like - 200 null application/json; charset=utf-8 2.9975ms
2025-11-20 21:31:09.524 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920 - null null
2025-11-20 21:31:09.524 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:31:09.525 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920 - 204 null null 0.8861ms
2025-11-20 21:31:09.526 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920 - application/json null
2025-11-20 21:31:09.527 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:31:09.527 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.GetArticleById (ASG.Api)'
2025-11-20 21:31:09.527 +08:00 [INF] Route matched with {action = "GetArticleById", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.ArticleDto]] GetArticleById(System.Guid) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-20 21:31:09.528 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."AuthorUserId", "t0"."ContentMarkdown", "t0"."CreatedAt", "t0"."Likes", "t0"."Title", "t0"."UpdatedAt", "t0"."Views", "t0"."Id0", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName", "t0"."Id1", "t0"."CreatedAt1", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes0", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt1", "t0"."UserId", "t1"."Id", "t1"."ArticleId", "t1"."AuthorUserId", "t1"."Content", "t1"."CreatedAt", "t1"."ParentId", "t1"."Id0", "t1"."AccessFailedCount", "t1"."ConcurrencyStamp", "t1"."CreatedAt0", "t1"."Email", "t1"."EmailConfirmed", "t1"."EmailCredits", "t1"."FirstName", "t1"."IsActive", "t1"."LastName", "t1"."LockoutEnabled", "t1"."LockoutEnd", "t1"."NormalizedEmail", "t1"."NormalizedUserName", "t1"."PasswordHash", "t1"."PhoneNumber", "t1"."PhoneNumberConfirmed", "t1"."Role", "t1"."SecurityStamp", "t1"."TeamId", "t1"."TwoFactorEnabled", "t1"."UpdatedAt", "t1"."UserName", "t1"."Id1", "t1"."CreatedAt1", "t1"."Description", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt0", "t1"."UserId"
FROM (
    SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName", "t"."Id" AS "Id1", "t"."CreatedAt" AS "CreatedAt1", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes" AS "Likes0", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt1", "t"."UserId"
    FROM "Articles" AS "a"
    INNER JOIN "Users" AS "u" ON "a"."AuthorUserId" = "u"."Id"
    LEFT JOIN "Teams" AS "t" ON "u"."TeamId" = "t"."Id"
    WHERE "a"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId", "u0"."Id" AS "Id0", "u0"."AccessFailedCount", "u0"."ConcurrencyStamp", "u0"."CreatedAt" AS "CreatedAt0", "u0"."Email", "u0"."EmailConfirmed", "u0"."EmailCredits", "u0"."FirstName", "u0"."IsActive", "u0"."LastName", "u0"."LockoutEnabled", "u0"."LockoutEnd", "u0"."NormalizedEmail", "u0"."NormalizedUserName", "u0"."PasswordHash", "u0"."PhoneNumber", "u0"."PhoneNumberConfirmed", "u0"."Role", "u0"."SecurityStamp", "u0"."TeamId", "u0"."TwoFactorEnabled", "u0"."UpdatedAt", "u0"."UserName", "t2"."Id" AS "Id1", "t2"."CreatedAt" AS "CreatedAt1", "t2"."Description", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt" AS "UpdatedAt0", "t2"."UserId"
    FROM "Comments" AS "c"
    INNER JOIN "Users" AS "u0" ON "c"."AuthorUserId" = "u0"."Id"
    LEFT JOIN "Teams" AS "t2" ON "u0"."TeamId" = "t2"."Id"
) AS "t1" ON "t0"."Id" = "t1"."ArticleId"
ORDER BY "t0"."Id", "t0"."Id0", "t0"."Id1", "t1"."Id", "t1"."Id0"
2025-11-20 21:31:09.530 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 21:31:09.531 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.ArticleDto'.
2025-11-20 21:31:09.531 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.GetArticleById (ASG.Api) in 3.7384ms
2025-11-20 21:31:09.531 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.GetArticleById (ASG.Api)'
2025-11-20 21:31:09.531 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920 - 200 null application/json; charset=utf-8 5.0268ms
2025-11-20 21:31:09.545 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - null null
2025-11-20 21:31:09.545 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:31:09.545 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 204 null null 0.3553ms
2025-11-20 21:31:09.547 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - application/json null
2025-11-20 21:31:09.547 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:31:09.547 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 21:31:09.547 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 21:31:09.548 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 21:31:09.549 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 21:31:09.549 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetUser (ASG.Api) in 1.5734ms
2025-11-20 21:31:09.549 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetUser (ASG.Api)'
2025-11-20 21:31:09.550 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/141115c7-7d34-42f0-b4ba-4431c6fbd613 - 200 null application/json; charset=utf-8 2.7745ms
2025-11-20 21:31:09.553 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/comments?page=1&pageSize=20 - null null
2025-11-20 21:31:09.553 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:31:09.553 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/comments?page=1&pageSize=20 - 204 null null 0.4878ms
2025-11-20 21:31:09.554 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/comments?page=1&pageSize=20 - application/json null
2025-11-20 21:31:09.555 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:31:09.555 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.GetComments (ASG.Api)'
2025-11-20 21:31:09.555 +08:00 [INF] Route matched with {action = "GetComments", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.CommentDto]]] GetComments(System.Guid, Int32, Int32) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-20 21:31:09.556 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__articleId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ArticleId", "t"."AuthorUserId", "t"."Content", "t"."CreatedAt", "t"."ParentId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."Id", "t1"."ArticleId", "t1"."AuthorUserId", "t1"."Content", "t1"."CreatedAt", "t1"."ParentId", "t1"."Id0", "t1"."AccessFailedCount", "t1"."ConcurrencyStamp", "t1"."CreatedAt0", "t1"."Email", "t1"."EmailConfirmed", "t1"."EmailCredits", "t1"."FirstName", "t1"."IsActive", "t1"."LastName", "t1"."LockoutEnabled", "t1"."LockoutEnd", "t1"."NormalizedEmail", "t1"."NormalizedUserName", "t1"."PasswordHash", "t1"."PhoneNumber", "t1"."PhoneNumberConfirmed", "t1"."Role", "t1"."SecurityStamp", "t1"."TeamId", "t1"."TwoFactorEnabled", "t1"."UpdatedAt", "t1"."UserName", "t1"."Id1", "t1"."CreatedAt1", "t1"."Description", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt0", "t1"."UserId"
FROM (
    SELECT "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId"
    FROM "Comments" AS "c"
    WHERE "c"."ArticleId" = @__articleId_0 AND "c"."ParentId" IS NULL
    ORDER BY "c"."CreatedAt"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
INNER JOIN "Users" AS "u" ON "t"."AuthorUserId" = "u"."Id"
LEFT JOIN "Teams" AS "t0" ON "u"."TeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "c0"."Id", "c0"."ArticleId", "c0"."AuthorUserId", "c0"."Content", "c0"."CreatedAt", "c0"."ParentId", "u0"."Id" AS "Id0", "u0"."AccessFailedCount", "u0"."ConcurrencyStamp", "u0"."CreatedAt" AS "CreatedAt0", "u0"."Email", "u0"."EmailConfirmed", "u0"."EmailCredits", "u0"."FirstName", "u0"."IsActive", "u0"."LastName", "u0"."LockoutEnabled", "u0"."LockoutEnd", "u0"."NormalizedEmail", "u0"."NormalizedUserName", "u0"."PasswordHash", "u0"."PhoneNumber", "u0"."PhoneNumberConfirmed", "u0"."Role", "u0"."SecurityStamp", "u0"."TeamId", "u0"."TwoFactorEnabled", "u0"."UpdatedAt", "u0"."UserName", "t2"."Id" AS "Id1", "t2"."CreatedAt" AS "CreatedAt1", "t2"."Description", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt" AS "UpdatedAt0", "t2"."UserId"
    FROM "Comments" AS "c0"
    INNER JOIN "Users" AS "u0" ON "c0"."AuthorUserId" = "u0"."Id"
    LEFT JOIN "Teams" AS "t2" ON "u0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."ParentId"
ORDER BY "t"."CreatedAt", "t"."Id", "u"."Id", "t0"."Id", "t1"."Id", "t1"."Id0"
2025-11-20 21:31:09.558 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__articleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Comments" AS "c"
WHERE "c"."ArticleId" = @__articleId_0 AND "c"."ParentId" IS NULL
2025-11-20 21:31:09.558 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.CommentDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:31:09.558 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.GetComments (ASG.Api) in 3.0741ms
2025-11-20 21:31:09.559 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.GetComments (ASG.Api)'
2025-11-20 21:31:09.559 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/comments?page=1&pageSize=20 - 200 null application/json; charset=utf-8 4.4526ms
2025-11-20 21:31:09.563 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/view - null null
2025-11-20 21:31:09.564 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:31:09.564 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/view - 204 null null 0.5706ms
2025-11-20 21:31:09.565 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/view - application/json 0
2025-11-20 21:31:09.565 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:31:09.565 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.ArticlesController.AddView (ASG.Api)'
2025-11-20 21:31:09.565 +08:00 [INF] Route matched with {action = "AddView", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] AddView(System.Guid) on controller ASG.Api.Controllers.ArticlesController (ASG.Api).
2025-11-20 21:31:09.566 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views"
FROM "Articles" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2025-11-20 21:31:09.567 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Articles" SET "UpdatedAt" = @p0, "Views" = @p1
WHERE "Id" = @p2
RETURNING 1;
2025-11-20 21:31:09.567 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-11-20 21:31:09.568 +08:00 [INF] Executed action ASG.Api.Controllers.ArticlesController.AddView (ASG.Api) in 1.9405ms
2025-11-20 21:31:09.568 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.ArticlesController.AddView (ASG.Api)'
2025-11-20 21:31:09.568 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Articles/cc4a45a5-b8b6-4979-845f-6776fbe11920/view - 200 null application/json; charset=utf-8 3.2675ms
2025-11-20 21:33:00.357 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - null null
2025-11-20 21:33:00.357 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:00.358 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - 204 null null 0.6833ms
2025-11-20 21:33:00.359 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - application/json null
2025-11-20 21:33:00.360 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:00.360 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.SearchController.Search (ASG.Api)'
2025-11-20 21:33:00.360 +08:00 [INF] Route matched with {action = "Search", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Search(System.String, System.String, Int32, Int32) on controller ASG.Api.Controllers.SearchController (ASG.Api).
2025-11-20 21:33:00.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "u"."Id", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
    FROM "Teams" AS "t"
    WHERE "t"."Name" LIKE @__p_1
    ORDER BY "t"."CreatedAt"
    LIMIT @__p_3 OFFSET @__p_2
) AS "t0"
LEFT JOIN "Users" AS "u" ON "t0"."Id" = "u"."TeamId"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."CreatedAt", "t0"."Id", "u"."Id"
2025-11-20 21:33:00.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Teams" AS "t"
WHERE "t"."Name" LIKE @__p_1
2025-11-20 21:33:00.363 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
    ORDER BY "e"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
LEFT JOIN "Teams" AS "t0" ON "t"."ChampionTeamId" = "t0"."Id"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "t0"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:33:00.364 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Name" LIKE @__p_1 OR ("e"."Description" IS NOT NULL AND "e"."Description" LIKE @__p_1)
2025-11-20 21:33:00.365 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."AuthorUserId", "t"."ContentMarkdown", "t"."CreatedAt", "t"."Likes", "t"."Title", "t"."UpdatedAt", "t"."Views", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "c"."Id", "c"."ArticleId", "c"."AuthorUserId", "c"."Content", "c"."CreatedAt", "c"."ParentId"
FROM (
    SELECT "a"."Id", "a"."AuthorUserId", "a"."ContentMarkdown", "a"."CreatedAt", "a"."Likes", "a"."Title", "a"."UpdatedAt", "a"."Views"
    FROM "Articles" AS "a"
    WHERE "a"."Title" LIKE @__p_1 OR "a"."ContentMarkdown" LIKE @__p_1
    ORDER BY "a"."CreatedAt" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS "t"
INNER JOIN "Users" AS "u" ON "t"."AuthorUserId" = "u"."Id"
LEFT JOIN "Teams" AS "t0" ON "u"."TeamId" = "t0"."Id"
LEFT JOIN "Comments" AS "c" ON "t"."Id" = "c"."ArticleId"
ORDER BY "t"."CreatedAt" DESC, "t"."Id", "u"."Id", "t0"."Id"
2025-11-20 21:33:00.367 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Articles" AS "a"
WHERE "a"."Title" LIKE @__p_1 OR "a"."ContentMarkdown" LIKE @__p_1
2025-11-20 21:33:00.367 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 21:33:00.368 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.SearchAggregateDto'.
2025-11-20 21:33:00.369 +08:00 [INF] Executed action ASG.Api.Controllers.SearchController.Search (ASG.Api) in 8.2561ms
2025-11-20 21:33:00.369 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.SearchController.Search (ASG.Api)'
2025-11-20 21:33:00.369 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Search?type=all&query=t&page=1&pageSize=12 - 200 null application/json; charset=utf-8 10.0692ms
2025-11-20 21:33:02.271 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - null null
2025-11-20 21:33:02.271 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:02.272 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 204 null null 0.4622ms
2025-11-20 21:33:02.273 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - application/json 0
2025-11-20 21:33:02.274 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:02.274 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:33:02.274 +08:00 [INF] Route matched with {action = "LikeTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] LikeTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:33:02.275 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
FROM "Teams" AS "t"
WHERE "t"."Id" = @__get_Item_0
LIMIT 1
2025-11-20 21:33:02.276 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-20 21:33:02.277 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:33:02.277 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api) in 2.3391ms
2025-11-20 21:33:02.277 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:33:02.277 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 200 null application/json; charset=utf-8 3.8904ms
2025-11-20 21:33:04.724 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - null null
2025-11-20 21:33:04.725 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:04.725 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 204 null null 0.7649ms
2025-11-20 21:33:04.726 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - application/json 0
2025-11-20 21:33:04.726 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:04.727 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:33:04.727 +08:00 [INF] Route matched with {action = "LikeTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] LikeTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:33:04.728 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
FROM "Teams" AS "t"
WHERE "t"."Id" = @__get_Item_0
LIMIT 1
2025-11-20 21:33:04.728 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-20 21:33:04.729 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:33:04.729 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api) in 1.7549ms
2025-11-20 21:33:04.729 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:33:04.729 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 200 null application/json; charset=utf-8 2.8852ms
2025-11-20 21:33:06.603 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - null null
2025-11-20 21:33:06.604 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:06.604 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 204 null null 0.7513ms
2025-11-20 21:33:06.605 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - application/json 0
2025-11-20 21:33:06.605 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:06.606 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:33:06.606 +08:00 [INF] Route matched with {action = "LikeTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] LikeTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:33:06.606 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId"
FROM "Teams" AS "t"
WHERE "t"."Id" = @__get_Item_0
LIMIT 1
2025-11-20 21:33:06.607 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teams" SET "Likes" = @p0
WHERE "Id" = @p1 AND "UpdatedAt" = @p2
RETURNING 1;
2025-11-20 21:33:06.608 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:33:06.608 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api) in 2.5591ms
2025-11-20 21:33:06.609 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.LikeTeam (ASG.Api)'
2025-11-20 21:33:06.609 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Teams/d10056b4-5766-4f25-be0a-5fc80bf078db/like - 200 null application/json; charset=utf-8 3.7879ms
2025-11-20 21:33:10.002 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 21:33:10.003 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:10.003 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 0.9952ms
2025-11-20 21:33:10.004 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 21:33:10.004 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 21:33:10.004 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 21:33:10.004 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:10.004 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:10.004 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:10.004 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 0.7579ms
2025-11-20 21:33:10.004 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.7343ms
2025-11-20 21:33:10.005 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 0.7819ms
2025-11-20 21:33:10.007 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:33:10.008 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:10.008 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:33:10.008 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:33:10.009 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 21:33:10.009 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:10.009 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:33:10.009 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:33:10.009 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 21:33:10.009 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 21:33:10.009 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:33:10.009 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:10.010 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:10.011 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:33:10.011 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:33:10.011 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:33:10.011 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:33:10.011 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 21:33:10.012 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:33:10.013 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 4.0863ms
2025-11-20 21:33:10.013 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 21:33:10.013 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 5.5366ms
2025-11-20 21:33:10.021 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 21:33:10.022 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:33:10.022 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:33:10.024 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:33:10.024 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 12.75ms
2025-11-20 21:33:10.024 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 21:33:10.024 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 21:33:10.024 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 15.3376ms
2025-11-20 21:33:10.025 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:33:10.025 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:33:10.025 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 16.1298ms
2025-11-20 21:33:10.026 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 14.2297ms
2025-11-20 21:33:10.026 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 21:33:10.026 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 21:33:10.026 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 17.5141ms
2025-11-20 21:33:10.026 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 17.1077ms
2025-11-20 21:33:12.347 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:33:12.347 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:12.348 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.9099ms
2025-11-20 21:33:12.349 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:33:12.349 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:12.349 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:33:12.349 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:33:12.350 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:33:12.352 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:33:12.352 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.2458ms
2025-11-20 21:33:12.352 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:33:12.352 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.3306ms
2025-11-20 21:33:12.356 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - null null
2025-11-20 21:33:12.356 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:12.356 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - 204 null null 0.5295ms
2025-11-20 21:33:12.358 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - application/json 49
2025-11-20 21:33:12.358 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:12.358 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:33:12.358 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:33:12.359 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:33:12.361 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:33:12.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:33:12.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:33:12.363 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:33:12.363 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:33:12.363 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 4.8724ms
2025-11-20 21:33:12.364 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:33:12.364 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - 400 null application/json; charset=utf-8 6.215ms
2025-11-20 21:33:17.251 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:33:17.251 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:17.251 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.8591ms
2025-11-20 21:33:17.253 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:33:17.253 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:17.254 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:33:17.254 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:33:17.255 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:33:17.256 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:33:17.257 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 2.3347ms
2025-11-20 21:33:17.257 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:33:17.257 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.693ms
2025-11-20 21:33:17.260 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - null null
2025-11-20 21:33:17.260 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:17.260 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - 204 null null 0.6017ms
2025-11-20 21:33:17.262 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - application/json 49
2025-11-20 21:33:17.262 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:17.262 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:33:17.263 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:33:17.264 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:33:17.266 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:33:17.266 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:33:17.267 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:33:17.268 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:33:17.268 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:33:17.268 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 5.4025ms
2025-11-20 21:33:17.268 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:33:17.269 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/85e627c5-74a8-4dd0-a006-b59ada7ab539/register - 400 null application/json; charset=utf-8 6.7084ms
2025-11-20 21:33:29.723 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 21:33:29.724 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:29.724 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 0.7558ms
2025-11-20 21:33:29.726 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 21:33:29.726 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:29.726 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:33:29.726 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 21:33:29.728 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 21:33:29.728 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 21:33:29.729 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 1.8811ms
2025-11-20 21:33:29.729 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 21:33:29.729 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 3.6151ms
2025-11-20 21:33:29.732 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - null null
2025-11-20 21:33:29.733 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:29.733 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 204 null null 0.5713ms
2025-11-20 21:33:29.734 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - application/json 49
2025-11-20 21:33:29.734 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:29.735 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:33:29.735 +08:00 [INF] Route matched with {action = "RegisterTeamToEvent", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamEventDto]] RegisterTeamToEvent(System.Guid, ASG.Api.DTOs.RegisterTeamToEventDto) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 21:33:29.736 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."ChampionTeamId", "t0"."CompetitionEndTime", "t0"."CompetitionStartTime", "t0"."CreatedAt", "t0"."CreatedByUserId", "t0"."Description", "t0"."MaxTeams", "t0"."Name", "t0"."RegistrationEndTime", "t0"."RegistrationStartTime", "t0"."Status", "t0"."UpdatedAt", "t0"."Id0", "t0"."CreatedAt0", "t0"."Description0", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name0", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt0", "t0"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id" AS "Id0", "t"."CreatedAt" AS "CreatedAt0", "t"."Description" AS "Description0", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name" AS "Name0", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt" AS "UpdatedAt0", "t"."UserId"
    FROM "Events" AS "e"
    LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
    WHERE "e"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "t2"."TeamId", "t2"."EventId", "t2"."InviteExpiresAt", "t2"."InviteToken", "t2"."Notes", "t2"."RegisteredByUserId", "t2"."RegistrationTime", "t2"."Status", "t3"."Id", "t3"."CreatedAt", "t3"."Description", "t3"."InviteExpiresAt" AS "InviteExpiresAt0", "t3"."InviteToken" AS "InviteToken0", "t3"."Likes", "t3"."Name", "t3"."OwnerId", "t3"."Password", "t3"."QqNumber", "t3"."UpdatedAt", "t3"."UserId"
    FROM "TeamEvents" AS "t2"
    INNER JOIN "Teams" AS "t3" ON "t2"."TeamId" = "t3"."Id"
) AS "t1" ON "t0"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t0"."Id" = "e0"."EventId"
ORDER BY "t0"."Id", "t0"."Id0", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 21:33:29.738 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:33:29.738 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Teams" AS "t"
LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
WHERE "t"."Id" = @__id_0
LIMIT 1
2025-11-20 21:33:29.739 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."TeamId" = @__teamId_0
2025-11-20 21:33:29.739 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__eventId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "TeamEvents" AS "t"
    WHERE "t"."TeamId" = @__teamId_0 AND "t"."EventId" = @__eventId_1)
2025-11-20 21:33:29.740 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType24`1[[<>f__AnonymousType25`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:33:29.740 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api) in 4.8651ms
2025-11-20 21:33:29.740 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.RegisterTeamToEvent (ASG.Api)'
2025-11-20 21:33:29.740 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Events/2e537d6d-2fe7-4f04-b5d4-23a2d8a64d57/register - 400 null application/json; charset=utf-8 6.0825ms
2025-11-20 21:33:40.846 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:33:40.846 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:33:40.847 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:40.847 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:40.847 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 1.0074ms
2025-11-20 21:33:40.847 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5957ms
2025-11-20 21:33:40.850 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:33:40.850 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:33:40.850 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:40.850 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:33:40.850 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:33:40.851 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:33:40.851 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:33:40.851 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:33:40.851 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:33:40.851 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:33:40.852 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:33:40.852 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:33:40.852 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:33:40.852 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.0672ms
2025-11-20 21:33:40.853 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:33:40.853 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:33:40.853 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 3.1943ms
2025-11-20 21:33:40.854 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:33:40.854 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:33:40.855 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:33:40.855 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:33:40.856 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:33:40.856 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 5.0975ms
2025-11-20 21:33:40.856 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:33:40.856 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 6.5032ms
2025-11-20 21:37:18.981 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:37:18.981 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:37:18.982 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:37:18.982 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:37:18.982 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.8486ms
2025-11-20 21:37:18.982 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.8842ms
2025-11-20 21:37:18.985 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:37:18.986 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:37:18.986 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:37:18.986 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:37:18.986 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 21:37:18.986 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 21:37:18.986 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 21:37:18.987 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 21:37:18.987 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 1.3132ms
2025-11-20 21:37:18.987 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 1.0632ms
2025-11-20 21:52:15.673 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:52:15.673 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:52:15.673 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:52:15.673 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:52:15.674 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.9094ms
2025-11-20 21:52:15.674 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.9977ms
2025-11-20 21:52:15.678 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:52:15.678 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:52:15.678 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:52:15.679 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:52:15.679 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:52:15.679 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:52:15.679 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:52:15.679 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:52:15.686 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:52:15.686 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:52:15.687 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:52:15.687 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:52:15.687 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 7.3357ms
2025-11-20 21:52:15.688 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:52:15.688 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:52:15.688 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 9.8626ms
2025-11-20 21:52:15.689 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:52:15.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:52:15.691 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:52:15.692 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:52:15.693 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:52:15.693 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:52:15.694 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 13.9079ms
2025-11-20 21:52:15.694 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:52:15.695 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 16.5332ms
2025-11-20 21:58:41.857 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:58:41.857 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:58:41.857 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:58:41.857 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:58:41.858 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 1.0515ms
2025-11-20 21:58:41.858 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 1.1582ms
2025-11-20 21:58:41.867 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:58:41.867 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:58:41.867 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:58:41.867 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:58:41.868 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:58:41.868 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:58:41.868 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:58:41.868 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:58:41.870 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:58:41.870 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:58:41.870 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:58:41.871 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.0619ms
2025-11-20 21:58:41.871 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:58:41.871 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:58:41.872 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 4.7115ms
2025-11-20 21:58:41.873 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 21:58:41.874 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 21:58:41.875 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:58:41.876 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 21:58:41.876 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:58:41.877 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:58:41.878 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:58:41.878 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 9.6603ms
2025-11-20 21:58:41.879 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:58:41.879 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 12.4054ms
2025-11-20 21:59:10.402 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:59:10.402 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:59:10.403 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:10.403 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:10.403 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 1.1007ms
2025-11-20 21:59:10.404 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 1.1467ms
2025-11-20 21:59:10.407 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:59:10.407 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:59:10.407 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:10.407 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:10.408 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 21:59:10.408 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 21:59:10.408 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 21:59:10.408 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 21:59:10.408 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 1.8334ms
2025-11-20 21:59:10.409 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 1.9823ms
2025-11-20 21:59:33.525 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/register - null null
2025-11-20 21:59:33.525 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:33.526 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/register - 204 null null 0.7537ms
2025-11-20 21:59:33.528 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/register - application/json 73
2025-11-20 21:59:33.528 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:33.528 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-11-20 21:59:33.532 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-11-20 21:59:33.536 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-20 21:59:33.592 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-11-20 21:59:33.594 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-20 21:59:33.603 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (Size = 18), @p5='?' (DbType = Boolean), @p6='?' (Size = 4), @p7='?', @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 18), @p11='?' (Size = 18), @p12='?' (Size = 84), @p13='?', @p14='?' (DbType = Boolean), @p15='?' (Size = 4), @p16='?' (Size = 32), @p17='?' (DbType = Guid), @p18='?' (DbType = Boolean), @p19='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "AccessFailedCount", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "Role", "SecurityStamp", "TeamId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19)
RETURNING "EmailCredits", "IsActive", "UpdatedAt";
2025-11-20 21:59:33.616 +08:00 [INF] User registered successfully: luolan@outlook.com
2025-11-20 21:59:33.616 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-11-20 21:59:33.616 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 84.3958ms
2025-11-20 21:59:33.617 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-11-20 21:59:33.617 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/register - 200 null application/json; charset=utf-8 89.4188ms
2025-11-20 21:59:58.666 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI4ZDJlZTRlNC0wODgyLTQyYjEtOTU2OS1mZDE2OTQ1NTRjOWYiLCJlbWFpbCI6Imx1b2xhbkBvdXRsb29rLmNvbSIsInVuaXF1ZV9uYW1lIjoieXl5eSIsInJvbGUiOlsiVXNlciIsIlVzZXIiXSwiZnVsbE5hbWUiOiJ5eXl5Iiwicm9sZURpc3BsYXlOYW1lIjoi55So5oi3Iiwicm9sZU5hbWUiOiJVc2VyIiwibmJmIjoxNzYzNjQ3MTczLCJleHAiOjE3NjM2NjE1NzMsImlhdCI6MTc2MzY0NzE3MywiaXNzIjoiQVNHLkFwaSIsImF1ZCI6IkFTRy5BcGkuVXNlcnMifQ.ojbd-nQU6OZF1AWnFsqwEqsf2MXLT85GdDaIBkc7Iuk - null null
2025-11-20 21:59:58.667 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.668 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 21:59:58.679 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 21:59:58.679 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:59:58.679 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.680 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.680 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 21:59:58.680 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 1.1275ms
2025-11-20 21:59:58.680 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 1.1247ms
2025-11-20 21:59:58.680 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.681 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 1.1643ms
2025-11-20 21:59:58.683 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:59:58.684 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.685 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:59:58.685 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:59:58.685 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:59:58.686 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.687 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:59:58.687 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:59:58.688 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:59:58.688 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:59:58.689 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.7741ms
2025-11-20 21:59:58.689 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:59:58.690 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 6.2186ms
2025-11-20 21:59:58.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:59:58.692 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:59:58.693 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:59:58.694 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:59:58.695 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:59:58.695 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 6.4409ms
2025-11-20 21:59:58.696 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:59:58.696 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 10.8491ms
2025-11-20 21:59:58.697 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:59:58.698 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.699 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:59:58.700 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:59:58.702 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:59:58.704 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:59:58.705 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:59:58.706 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:59:58.707 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:59:58.707 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 6.2907ms
2025-11-20 21:59:58.707 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:59:58.708 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 10.3328ms
2025-11-20 21:59:58.723 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:59:58.724 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.724 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - null null
2025-11-20 21:59:58.725 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:59:58.725 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.725 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:59:58.725 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications/read-all - 204 null null 0.9017ms
2025-11-20 21:59:58.726 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:59:58.727 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:59:58.727 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.6754ms
2025-11-20 21:59:58.728 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:59:58.728 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - application/json 0
2025-11-20 21:59:58.728 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 4.4949ms
2025-11-20 21:59:58.728 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.729 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 21:59:58.729 +08:00 [INF] Route matched with {action = "ReadAll", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReadAll() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:59:58.730 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:59:58.730 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:59:58.731 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api) in 1.2557ms
2025-11-20 21:59:58.731 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.ReadAll (ASG.Api)'
2025-11-20 21:59:58.731 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Notifications/read-all - 200 null application/json; charset=utf-8 3.4186ms
2025-11-20 21:59:58.735 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:59:58.735 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.736 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:59:58.736 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:59:58.737 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:59:58.737 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:59:58.738 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:59:58.739 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:59:58.739 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:59:58.739 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.1101ms
2025-11-20 21:59:58.739 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:59:58.740 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 4.8569ms
2025-11-20 21:59:58.744 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 21:59:58.745 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.745 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:59:58.745 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 21:59:58.746 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 21:59:58.747 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 21:59:58.747 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.2038ms
2025-11-20 21:59:58.747 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 21:59:58.747 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.9648ms
2025-11-20 21:59:58.753 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 21:59:58.753 +08:00 [INF] CORS policy execution successful.
2025-11-20 21:59:58.754 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:59:58.754 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 21:59:58.755 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 21:59:58.756 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 21:59:58.756 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 21:59:58.757 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 21:59:58.757 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 21:59:58.757 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.0823ms
2025-11-20 21:59:58.758 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 21:59:58.758 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.0516ms
2025-11-20 22:00:00.182 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - null null
2025-11-20 22:00:00.182 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:00:00.183 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 22:00:00.183 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - 204 null null 1.028ms
2025-11-20 22:00:00.183 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI4ZDJlZTRlNC0wODgyLTQyYjEtOTU2OS1mZDE2OTQ1NTRjOWYiLCJlbWFpbCI6Imx1b2xhbkBvdXRsb29rLmNvbSIsInVuaXF1ZV9uYW1lIjoieXl5eSIsInJvbGUiOlsiVXNlciIsIlVzZXIiXSwiZnVsbE5hbWUiOiJ5eXl5Iiwicm9sZURpc3BsYXlOYW1lIjoi55So5oi3Iiwicm9sZU5hbWUiOiJVc2VyIiwibmJmIjoxNzYzNjQ3MTczLCJleHAiOjE3NjM2NjE1NzMsImlhdCI6MTc2MzY0NzE3MywiaXNzIjoiQVNHLkFwaSIsImF1ZCI6IkFTRy5BcGkuVXNlcnMifQ.ojbd-nQU6OZF1AWnFsqwEqsf2MXLT85GdDaIBkc7Iuk - 101 null null 1516.5271ms
2025-11-20 22:00:00.188 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/profile - application/json null
2025-11-20 22:00:00.188 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:00:00.188 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 22:00:00.189 +08:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 22:00:00.190 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 22:00:00.192 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 22:00:00.192 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetProfile (ASG.Api) in 2.9645ms
2025-11-20 22:00:00.192 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 22:00:00.193 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/profile - 200 null application/json; charset=utf-8 5.0966ms
2025-11-20 22:00:03.186 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI4ZDJlZTRlNC0wODgyLTQyYjEtOTU2OS1mZDE2OTQ1NTRjOWYiLCJlbWFpbCI6Imx1b2xhbkBvdXRsb29rLmNvbSIsInVuaXF1ZV9uYW1lIjoieXl5eSIsInJvbGUiOlsiVXNlciIsIlVzZXIiXSwiZnVsbE5hbWUiOiJ5eXl5Iiwicm9sZURpc3BsYXlOYW1lIjoi55So5oi3Iiwicm9sZU5hbWUiOiJVc2VyIiwibmJmIjoxNzYzNjQ3MTczLCJleHAiOjE3NjM2NjE1NzMsImlhdCI6MTc2MzY0NzE3MywiaXNzIjoiQVNHLkFwaSIsImF1ZCI6IkFTRy5BcGkuVXNlcnMifQ.ojbd-nQU6OZF1AWnFsqwEqsf2MXLT85GdDaIBkc7Iuk - null null
2025-11-20 22:00:03.186 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:00:03.186 +08:00 [INF] Executing endpoint '/hubs/app'
2025-11-20 22:00:03.190 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 22:00:03.191 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 22:00:03.191 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:00:03.191 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:00:03.191 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:00:03.191 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:00:03.191 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 22:00:03.191 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 22:00:03.192 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:00:03.192 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 22:00:03.192 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:00:03.192 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 0.8621ms
2025-11-20 22:00:03.192 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 22:00:03.192 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:00:03.193 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 2.1967ms
2025-11-20 22:00:03.193 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 22:00:03.193 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 22:00:03.194 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 22:00:03.194 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 2.4359ms
2025-11-20 22:00:03.194 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:00:03.194 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 3.6285ms
2025-11-20 22:01:50.923 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/register - null null
2025-11-20 22:01:50.923 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:01:50.923 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/register - 204 null null 0.6916ms
2025-11-20 22:01:50.925 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/register - application/json 74
2025-11-20 22:01:50.925 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:01:50.925 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-11-20 22:01:50.925 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ASG.Api.DTOs.UserRegistrationDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-11-20 22:01:50.927 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-20 22:01:50.969 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-11-20 22:01:50.970 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-20 22:01:50.971 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (Size = 15), @p5='?' (DbType = Boolean), @p6='?' (Size = 8), @p7='?', @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 15), @p11='?' (Size = 15), @p12='?' (Size = 84), @p13='?', @p14='?' (DbType = Boolean), @p15='?' (Size = 4), @p16='?' (Size = 32), @p17='?' (DbType = Guid), @p18='?' (DbType = Boolean), @p19='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "AccessFailedCount", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "Role", "SecurityStamp", "TeamId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19)
RETURNING "EmailCredits", "IsActive", "UpdatedAt";
2025-11-20 22:01:50.972 +08:00 [INF] User registered successfully: 111@outlook.com
2025-11-20 22:01:50.972 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-11-20 22:01:50.972 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Register (ASG.Api) in 46.3423ms
2025-11-20 22:01:50.972 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Register (ASG.Api)'
2025-11-20 22:01:50.973 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/register - 200 null application/json; charset=utf-8 47.8204ms
2025-11-20 22:02:47.457 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 22:02:47.457 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:02:47.457 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6383ms
2025-11-20 22:02:47.457 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 22:02:47.458 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:02:47.458 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.5044ms
2025-11-20 22:02:47.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 22:02:47.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 22:02:47.460 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:02:47.461 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:02:47.461 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:02:47.461 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:02:47.461 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 22:02:47.461 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 22:02:47.462 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:02:47.462 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 22:02:47.463 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:02:47.463 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.5584ms
2025-11-20 22:02:47.463 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:02:47.463 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 22:02:47.464 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 3.361ms
2025-11-20 22:02:47.464 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 22:02:47.465 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 22:02:47.465 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 22:02:47.465 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 3.3107ms
2025-11-20 22:02:47.465 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:02:47.466 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 5.3976ms
2025-11-20 22:02:47.631 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 22:02:47.631 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 22:02:47.631 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:02:47.632 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:02:47.632 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6677ms
2025-11-20 22:02:47.632 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.6392ms
2025-11-20 22:02:47.635 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 22:02:47.635 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 22:02:47.635 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:02:47.636 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:02:47.636 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:02:47.636 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:02:47.636 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 22:02:47.636 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 22:02:47.637 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 22:02:47.637 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:02:47.638 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:02:47.638 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 22:02:47.638 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 1.7526ms
2025-11-20 22:02:47.639 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:02:47.639 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 3.9673ms
2025-11-20 22:02:47.639 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 22:02:47.640 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 22:02:47.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:02:47.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 22:02:47.642 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 22:02:47.642 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 22:02:47.643 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 22:02:47.643 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 6.2101ms
2025-11-20 22:02:47.643 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:02:47.644 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 8.5555ms
2025-11-20 22:09:17.276 +08:00 [INF] Executed endpoint '/hubs/app'
2025-11-20 22:09:17.277 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/hubs/app?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI4ZDJlZTRlNC0wODgyLTQyYjEtOTU2OS1mZDE2OTQ1NTRjOWYiLCJlbWFpbCI6Imx1b2xhbkBvdXRsb29rLmNvbSIsInVuaXF1ZV9uYW1lIjoieXl5eSIsInJvbGUiOlsiVXNlciIsIlVzZXIiXSwiZnVsbE5hbWUiOiJ5eXl5Iiwicm9sZURpc3BsYXlOYW1lIjoi55So5oi3Iiwicm9sZU5hbWUiOiJVc2VyIiwibmJmIjoxNzYzNjQ3MTczLCJleHAiOjE3NjM2NjE1NzMsImlhdCI6MTc2MzY0NzE3MywiaXNzIjoiQVNHLkFwaSIsImF1ZCI6IkFTRy5BcGkuVXNlcnMifQ.ojbd-nQU6OZF1AWnFsqwEqsf2MXLT85GdDaIBkc7Iuk - 101 null null 554090.662ms
2025-11-20 22:09:17.873 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 22:09:17.873 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:09:17.873 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 22:09:17.873 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.9641ms
2025-11-20 22:09:17.874 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:09:17.874 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.8756ms
2025-11-20 22:09:17.876 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 22:09:17.876 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 22:09:17.876 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:09:17.877 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:09:17.877 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:09:17.877 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:09:17.877 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 22:09:17.877 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 22:09:17.881 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 22:09:17.881 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:09:17.882 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:09:17.882 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 22:09:17.882 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 4.8003ms
2025-11-20 22:09:17.883 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:09:17.883 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 22:09:17.883 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 6.6394ms
2025-11-20 22:09:17.883 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 22:09:17.883 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 22:09:17.884 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 6.3164ms
2025-11-20 22:09:17.884 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:09:17.884 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 7.6834ms
2025-11-20 22:09:44.986 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 22:09:44.986 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:09:44.986 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 22:09:44.986 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 0.6802ms
2025-11-20 22:09:44.987 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:09:44.987 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.7741ms
2025-11-20 22:09:44.990 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 22:09:44.990 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 22:09:44.990 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:09:44.991 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:09:44.991 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 22:09:44.991 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-20 22:09:44.991 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 22:09:44.992 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-20 22:09:44.992 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 401 0 null 1.799ms
2025-11-20 22:09:44.992 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 401 0 null 1.8566ms
2025-11-20 22:09:58.398 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - null null
2025-11-20 22:09:58.398 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:09:58.398 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Auth/login - 204 null null 0.5868ms
2025-11-20 22:09:58.400 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5250/api/Auth/login - application/json 61
2025-11-20 22:09:58.400 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:09:58.400 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-20 22:09:58.401 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ASG.Api.DTOs.UserLoginDto) on controller ASG.Api.Controllers.AuthController (ASG.Api).
2025-11-20 22:09:58.402 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-11-20 22:09:58.447 +08:00 [INF] User logged in successfully: luolan12323@outlook.com
2025-11-20 22:09:58.447 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.AuthResponseDto'.
2025-11-20 22:09:58.447 +08:00 [INF] Executed action ASG.Api.Controllers.AuthController.Login (ASG.Api) in 46.5856ms
2025-11-20 22:09:58.448 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.AuthController.Login (ASG.Api)'
2025-11-20 22:09:58.448 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5250/api/Auth/login - 200 null application/json; charset=utf-8 47.6819ms
2025-11-20 22:10:56.510 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 22:10:56.511 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:10:56.512 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 22:10:56.513 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 2.9367ms
2025-11-20 22:10:56.515 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:10:56.517 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 5.4126ms
2025-11-20 22:10:56.524 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 22:10:56.526 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:10:56.526 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 22:10:56.527 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:10:56.528 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:10:56.529 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 22:10:56.530 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:10:56.531 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 22:10:56.532 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:10:56.533 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 22:10:56.534 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:10:56.536 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 5.8082ms
2025-11-20 22:10:56.536 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 22:10:56.537 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:10:56.538 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 14.2568ms
2025-11-20 22:10:56.539 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 22:10:56.542 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 22:10:56.546 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:10:56.549 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 22:10:56.551 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 22:10:56.553 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 22:10:56.555 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 22:10:56.557 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 25.1648ms
2025-11-20 22:10:56.558 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:10:56.559 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 32.2251ms
2025-11-20 22:10:57.150 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 22:10:57.151 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:10:57.151 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 22:10:57.151 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 1.5008ms
2025-11-20 22:10:57.152 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:10:57.152 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 0.8212ms
2025-11-20 22:10:57.154 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 22:10:57.155 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:10:57.155 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:10:57.155 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 22:10:57.156 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 22:10:57.156 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:10:57.157 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:10:57.157 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:10:57.157 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 22:10:57.157 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:10:57.158 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 22:10:57.158 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 2.0361ms
2025-11-20 22:10:57.159 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:10:57.159 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 4.9126ms
2025-11-20 22:10:57.159 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 22:10:57.160 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 22:10:57.161 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 22:10:57.162 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:10:57.164 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 22:10:57.164 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 22:10:57.165 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 22:10:57.165 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 22:10:57.166 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 8.5426ms
2025-11-20 22:10:57.166 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:10:57.167 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 11.075ms
2025-11-20 22:11:10.174 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 22:11:10.175 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 22:11:10.176 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:11:10.177 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:11:10.177 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 3.3239ms
2025-11-20 22:11:10.178 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 3.0688ms
2025-11-20 22:11:10.201 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 22:11:10.202 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 22:11:10.203 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:11:10.205 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:11:10.207 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:11:10.208 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:11:10.210 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 22:11:10.210 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 22:11:10.213 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:11:10.214 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 22:11:10.216 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:11:10.218 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 22:11:10.218 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 6.4668ms
2025-11-20 22:11:10.220 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:11:10.220 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 22:11:10.220 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 19.6192ms
2025-11-20 22:11:10.223 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 22:11:10.226 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:11:10.229 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 22:11:10.232 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 22:11:10.235 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 22:11:10.237 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 22:11:10.239 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 26.4639ms
2025-11-20 22:11:10.240 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:11:10.241 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 39.1211ms
2025-11-20 22:11:11.628 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - null null
2025-11-20 22:11:11.629 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:11:11.629 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - null null
2025-11-20 22:11:11.629 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Notifications - 204 null null 1.88ms
2025-11-20 22:11:11.630 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:11:11.632 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Messages/conversations - 204 null null 2.3108ms
2025-11-20 22:11:11.640 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 22:11:11.642 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 22:11:11.642 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:11:11.643 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:11:11.644 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:11:11.644 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:11:11.645 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 22:11:11.646 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 22:11:11.648 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:11:11.649 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 22:11:11.650 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:11:11.651 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 22:11:11.652 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 4.6561ms
2025-11-20 22:11:11.653 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:11:11.654 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 22:11:11.654 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 14.4341ms
2025-11-20 22:11:11.657 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 22:11:11.661 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:11:11.663 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 22:11:11.665 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 22:11:11.667 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 22:11:11.669 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 22:11:11.671 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 23.0253ms
2025-11-20 22:11:11.672 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:11:11.673 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 31.0161ms
2025-11-20 22:11:12.007 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Notifications - application/json null
2025-11-20 22:11:12.008 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - application/json null
2025-11-20 22:11:12.008 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:11:12.009 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:11:12.010 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:11:12.011 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:11:12.011 +08:00 [INF] Route matched with {action = "List", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.NotificationDto]]] List() on controller ASG.Api.Controllers.NotificationsController (ASG.Api).
2025-11-20 22:11:12.011 +08:00 [INF] Route matched with {action = "GetConversations", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.ConversationDto]]] GetConversations() on controller ASG.Api.Controllers.MessagesController (ASG.Api).
2025-11-20 22:11:12.013 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."UserId", "n"."Type", "n"."Payload", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:11:12.013 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."ConversationId"
FROM "ConversationMembers" AS "c"
WHERE "c"."UserId" = @__userId_0 AND NOT ("c"."IsDeleted")
2025-11-20 22:11:12.014 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ASG.Api.DTOs.NotificationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:11:12.016 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__convIds_0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."IsDirect"
FROM "Conversations" AS "c"
WHERE "c"."Id" IN (
    SELECT "c0"."value"
    FROM json_each(@__convIds_0) AS "c0"
)
2025-11-20 22:11:12.016 +08:00 [INF] Executed action ASG.Api.Controllers.NotificationsController.List (ASG.Api) in 4.0755ms
2025-11-20 22:11:12.017 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.NotificationsController.List (ASG.Api)'
2025-11-20 22:11:12.018 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."UserId"
FROM "ConversationMembers" AS "c"
WHERE "c"."ConversationId" = @__c_Id_0
2025-11-20 22:11:12.018 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Notifications - 200 null application/json; charset=utf-8 10.7929ms
2025-11-20 22:11:12.020 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__peerId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__peerId_0
LIMIT 1
2025-11-20 22:11:12.022 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."Content", "m"."ConversationId", "m"."CreatedAt", "m"."IsRead", "m"."ReadAt", "m"."SenderUserId"
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0
ORDER BY "m"."CreatedAt" DESC
LIMIT @__p_1
2025-11-20 22:11:12.025 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Messages" AS "m"
WHERE "m"."ConversationId" = @__c_Id_0 AND "m"."SenderUserId" <> @__8__locals1_userId_1 AND NOT ("m"."IsRead")
2025-11-20 22:11:12.027 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."CreatedAt", "n"."IsRead", "n"."Payload", "n"."Type", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
LIMIT 1
2025-11-20 22:11:12.029 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0 AND NOT ("n"."IsRead")
2025-11-20 22:11:12.030 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ASG.Api.DTOs.ConversationDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-20 22:11:12.031 +08:00 [INF] Executed action ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api) in 18.0018ms
2025-11-20 22:11:12.031 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.MessagesController.GetConversations (ASG.Api)'
2025-11-20 22:11:12.032 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Messages/conversations - 200 null application/json; charset=utf-8 23.6043ms
2025-11-20 22:12:10.939 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - null null
2025-11-20 22:12:10.940 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:12:10.940 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - null null
2025-11-20 22:12:10.940 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 204 null null 1.3748ms
2025-11-20 22:12:10.941 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:12:10.941 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 204 null null 1.1444ms
2025-11-20 22:12:10.942 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - null null
2025-11-20 22:12:10.943 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:12:10.943 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Events - null null
2025-11-20 22:12:10.943 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events/upcoming - 204 null null 0.958ms
2025-11-20 22:12:10.943 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:12:10.944 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Events - 204 null null 1.4254ms
2025-11-20 22:12:10.947 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - application/json null
2025-11-20 22:12:10.947 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - application/json null
2025-11-20 22:12:10.947 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:12:10.948 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:12:10.948 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - application/json null
2025-11-20 22:12:10.948 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Events - application/json null
2025-11-20 22:12:10.948 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 22:12:10.948 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 22:12:10.949 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:12:10.949 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:12:10.949 +08:00 [INF] Route matched with {action = "GetActiveRegistrationEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetActiveRegistrationEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 22:12:10.950 +08:00 [INF] Route matched with {action = "GetUpcomingEventsPaged", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PagedResult`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEventsPaged(Int32, Int32) on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 22:12:10.950 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 22:12:10.950 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 22:12:10.952 +08:00 [INF] Route matched with {action = "GetUpcomingEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetUpcomingEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 22:12:10.952 +08:00 [INF] Route matched with {action = "GetAllEvents", controller = "Events"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetAllEvents() on controller ASG.Api.Controllers.EventsController (ASG.Api).
2025-11-20 22:12:10.954 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
    ORDER BY "e"."RegistrationEndTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."RegistrationEndTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 22:12:10.955 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."ChampionTeamId", "t"."CompetitionEndTime", "t"."CompetitionStartTime", "t"."CreatedAt", "t"."CreatedByUserId", "t"."Description", "t"."MaxTeams", "t"."Name", "t"."RegistrationEndTime", "t"."RegistrationStartTime", "t"."Status", "t"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM (
    SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt"
    FROM "Events" AS "e"
    WHERE "e"."CompetitionStartTime" > @__now_0
    ORDER BY "e"."CompetitionStartTime"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "t"."Id" = "e0"."EventId"
ORDER BY "t"."CompetitionStartTime", "t"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 22:12:10.958 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."Status" = 'RegistrationOpen' AND "e"."RegistrationStartTime" <= @__now_0 AND "e"."RegistrationEndTime" >= @__now_0
2025-11-20 22:12:10.958 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN (
    SELECT "t"."TeamId", "t"."EventId", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Notes", "t"."RegisteredByUserId", "t"."RegistrationTime", "t"."Status", "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt" AS "InviteExpiresAt0", "t0"."InviteToken" AS "InviteToken0", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId"
    FROM "TeamEvents" AS "t"
    INNER JOIN "Teams" AS "t0" ON "t"."TeamId" = "t0"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."CompetitionStartTime" > @__now_0
ORDER BY "e"."CompetitionStartTime", "e"."Id", "t1"."TeamId", "t1"."EventId", "t1"."Id", "e0"."EventId"
2025-11-20 22:12:10.960 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:12:10.960 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t1"."TeamId", "t1"."EventId", "t1"."InviteExpiresAt", "t1"."InviteToken", "t1"."Notes", "t1"."RegisteredByUserId", "t1"."RegistrationTime", "t1"."Status", "t1"."Id", "t1"."CreatedAt", "t1"."Description", "t1"."InviteExpiresAt0", "t1"."InviteToken0", "t1"."Likes", "t1"."Name", "t1"."OwnerId", "t1"."Password", "t1"."QqNumber", "t1"."UpdatedAt", "t1"."UserId"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN (
    SELECT "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "t2"."Id", "t2"."CreatedAt", "t2"."Description", "t2"."InviteExpiresAt" AS "InviteExpiresAt0", "t2"."InviteToken" AS "InviteToken0", "t2"."Likes", "t2"."Name", "t2"."OwnerId", "t2"."Password", "t2"."QqNumber", "t2"."UpdatedAt", "t2"."UserId"
    FROM "TeamEvents" AS "t0"
    INNER JOIN "Teams" AS "t2" ON "t0"."TeamId" = "t2"."Id"
) AS "t1" ON "e"."Id" = "t1"."EventId"
ORDER BY "e"."CreatedAt" DESC, "e"."Id", "t"."Id", "t1"."TeamId", "t1"."EventId"
2025-11-20 22:12:10.962 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api) in 10.6855ms
2025-11-20 22:12:10.962 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Events" AS "e"
WHERE "e"."CompetitionStartTime" > @__now_0
2025-11-20 22:12:10.964 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetActiveRegistrationEventsPaged (ASG.Api)'
2025-11-20 22:12:10.965 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/active-registration/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 18.1604ms
2025-11-20 22:12:10.966 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:12:10.967 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api) in 14.4525ms
2025-11-20 22:12:10.967 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PagedResult`1[[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:12:10.967 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEvents (ASG.Api)'
2025-11-20 22:12:10.968 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:12:10.968 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api) in 16.8194ms
2025-11-20 22:12:10.968 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming - 200 null application/json; charset=utf-8 20.8175ms
2025-11-20 22:12:10.969 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetUpcomingEventsPaged (ASG.Api)'
2025-11-20 22:12:10.969 +08:00 [INF] Executed action ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api) in 16.1002ms
2025-11-20 22:12:10.970 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events/upcoming/paged?page=1&pageSize=12 - 200 null application/json; charset=utf-8 23.5514ms
2025-11-20 22:12:10.970 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.EventsController.GetAllEvents (ASG.Api)'
2025-11-20 22:12:10.971 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Events - 200 null application/json; charset=utf-8 23.5665ms
2025-11-20 22:13:19.451 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - null null
2025-11-20 22:13:19.453 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:13:19.454 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Users/profile - 204 null null 2.8324ms
2025-11-20 22:13:19.518 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Users/profile - application/json null
2025-11-20 22:13:19.520 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:13:19.521 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 22:13:19.522 +08:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller ASG.Api.Controllers.UsersController (ASG.Api).
2025-11-20 22:13:19.524 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-11-20 22:13:19.527 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.UserResponseDto'.
2025-11-20 22:13:19.528 +08:00 [INF] Executed action ASG.Api.Controllers.UsersController.GetProfile (ASG.Api) in 4.8643ms
2025-11-20 22:13:19.528 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.UsersController.GetProfile (ASG.Api)'
2025-11-20 22:13:19.529 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Users/profile - 200 null application/json; charset=utf-8 10.7439ms
2025-11-20 22:13:19.719 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - null null
2025-11-20 22:13:19.721 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:13:19.721 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 204 null null 2.1884ms
2025-11-20 22:13:19.807 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - application/json null
2025-11-20 22:13:19.808 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:13:19.809 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 22:13:19.810 +08:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.TeamDto]] GetTeam(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 22:13:19.814 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CreatedAt", "t0"."Description", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Likes", "t0"."Name", "t0"."OwnerId", "t0"."Password", "t0"."QqNumber", "t0"."UpdatedAt", "t0"."UserId", "t0"."Id0", "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."CreatedAt0", "t0"."Email", "t0"."EmailConfirmed", "t0"."EmailCredits", "t0"."FirstName", "t0"."IsActive", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."Role", "t0"."SecurityStamp", "t0"."TeamId", "t0"."TwoFactorEnabled", "t0"."UpdatedAt0", "t0"."UserName"
FROM (
    SELECT "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "u"."Id" AS "Id0", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."CreatedAt" AS "CreatedAt0", "u"."Email", "u"."EmailConfirmed", "u"."EmailCredits", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."Role", "u"."SecurityStamp", "u"."TeamId", "u"."TwoFactorEnabled", "u"."UpdatedAt" AS "UpdatedAt0", "u"."UserName"
    FROM "Teams" AS "t"
    LEFT JOIN "Users" AS "u" ON "t"."Id" = "u"."TeamId"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Players" AS "p" ON "t0"."Id" = "p"."TeamId"
ORDER BY "t0"."Id", "t0"."Id0"
2025-11-20 22:13:19.820 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.TeamDto'.
2025-11-20 22:13:19.821 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api) in 9.356ms
2025-11-20 22:13:19.821 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeam (ASG.Api)'
2025-11-20 22:13:19.822 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757 - 200 null application/json; charset=utf-8 15.4501ms
2025-11-20 22:13:19.838 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - null null
2025-11-20 22:13:19.838 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:13:19.839 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - 204 null null 1.448ms
2025-11-20 22:13:19.844 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - application/json null
2025-11-20 22:13:19.845 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:13:19.845 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api)'
2025-11-20 22:13:19.846 +08:00 [INF] Route matched with {action = "GetTeamHonors", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ASG.Api.DTOs.EventDto]]] GetTeamHonors(System.Guid) on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 22:13:19.848 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."ChampionTeamId", "e"."CompetitionEndTime", "e"."CompetitionStartTime", "e"."CreatedAt", "e"."CreatedByUserId", "e"."Description", "e"."MaxTeams", "e"."Name", "e"."RegistrationEndTime", "e"."RegistrationStartTime", "e"."Status", "e"."UpdatedAt", "t"."Id", "t"."CreatedAt", "t"."Description", "t"."InviteExpiresAt", "t"."InviteToken", "t"."Likes", "t"."Name", "t"."OwnerId", "t"."Password", "t"."QqNumber", "t"."UpdatedAt", "t"."UserId", "t0"."TeamId", "t0"."EventId", "t0"."InviteExpiresAt", "t0"."InviteToken", "t0"."Notes", "t0"."RegisteredByUserId", "t0"."RegistrationTime", "t0"."Status", "e0"."EventId", "e0"."UserId", "e0"."AddedAt"
FROM "Events" AS "e"
LEFT JOIN "Teams" AS "t" ON "e"."ChampionTeamId" = "t"."Id"
LEFT JOIN "TeamEvents" AS "t0" ON "e"."Id" = "t0"."EventId"
LEFT JOIN "EventAdmins" AS "e0" ON "e"."Id" = "e0"."EventId"
WHERE "e"."ChampionTeamId" = @__teamId_0
ORDER BY COALESCE("e"."CompetitionEndTime", "e"."CompetitionStartTime") DESC, "e"."Id", "t"."Id", "t0"."TeamId", "t0"."EventId", "e0"."EventId"
2025-11-20 22:13:19.850 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ASG.Api.Models.Event, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ASG.Api.DTOs.EventDto, ASG.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-20 22:13:19.851 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api) in 4.5086ms
2025-11-20 22:13:19.852 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetTeamHonors (ASG.Api)'
2025-11-20 22:13:19.852 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/9978dc91-5a58-4102-bbd4-c9f01ee84757/honors - 200 null application/json; charset=utf-8 8.4204ms
2025-11-20 22:13:19.961 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/me/player - null null
2025-11-20 22:13:19.963 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:13:19.964 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5250/api/Teams/me/player - 204 null null 2.4575ms
2025-11-20 22:13:19.976 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5250/api/Teams/me/player - application/json null
2025-11-20 22:13:19.977 +08:00 [INF] CORS policy execution successful.
2025-11-20 22:13:19.978 +08:00 [INF] Executing endpoint 'ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api)'
2025-11-20 22:13:19.979 +08:00 [INF] Route matched with {action = "GetMyPlayer", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ASG.Api.DTOs.PlayerDto]] GetMyPlayer() on controller ASG.Api.Controllers.TeamsController (ASG.Api).
2025-11-20 22:13:19.982 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CreatedAt", "p"."Description", "p"."GameId", "p"."GameRank", "p"."Name", "p"."TeamId", "p"."UpdatedAt", "p"."UserId"
FROM "Players" AS "p"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-11-20 22:13:19.984 +08:00 [INF] Executing OkObjectResult, writing value of type 'ASG.Api.DTOs.PlayerDto'.
2025-11-20 22:13:19.985 +08:00 [INF] Executed action ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api) in 5.0175ms
2025-11-20 22:13:19.986 +08:00 [INF] Executed endpoint 'ASG.Api.Controllers.TeamsController.GetMyPlayer (ASG.Api)'
2025-11-20 22:13:19.987 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5250/api/Teams/me/player - 200 null application/json; charset=utf-8 10.8976ms
