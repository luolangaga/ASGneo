2025-11-25 18:30:48.362 +08:00 [INF] User logged in successfully: luolan12323@outlook.com
2025-11-25 22:31:36.826 +08:00 [INF] Using URLs: http://localhost:5250
2025-11-25 22:31:37.413 +08:00 [WRN] The foreign key property 'NeteaseHeroStat.HeroId1' was created in shadow state because a conflicting property with the simple name 'HeroId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-11-25 22:31:37.591 +08:00 [WRN] The foreign key property 'NeteaseHeroStat.HeroId1' was created in shadow state because a conflicting property with the simple name 'HeroId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-11-25 22:32:59.733 +08:00 [INF] Using URLs: http://localhost:5250
2025-11-25 22:32:59.809 +08:00 [INF] WebApplication built successfully.
2025-11-25 22:32:59.893 +08:00 [INF] SignalR hub mapped: Path=/hubs/app, AuthScheme=JWT Bearer, QueryToken=access_token for '/hubs/*'
2025-11-25 22:32:59.894 +08:00 [INF] CORS policy 'DevCors' applied: AllowAnyOrigin/AnyHeader/AnyMethod (Development)
2025-11-25 22:33:00.371 +08:00 [WRN] The foreign key property 'NeteaseHeroStat.HeroId1' was created in shadow state because a conflicting property with the simple name 'HeroId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-11-25 22:33:00.482 +08:00 [INF] EF provider: Npgsql.EntityFrameworkCore.PostgreSQL, database: idvevent
2025-11-25 22:33:00.643 +08:00 [INF] Applied schema patch for Events.CustomData, Teams.HidePlayers, Teams.HasDispute, and Users.DisplayTeamId.
2025-11-25 22:33:00.644 +08:00 [INF] Local heroes import setting: true
2025-11-25 22:33:00.645 +08:00 [INF] Local heroes overwrite setting: false
2025-11-25 22:33:00.646 +08:00 [INF] Local stats import setting: true
2025-11-25 22:33:00.646 +08:00 [INF] Local stats overwrite setting: false
2025-11-25 22:33:00.648 +08:00 [INF] Found 12 NeteaseJ files in C:\Users\luolan\ASG\ASG.Api\bin\Debug\net8.0\NeteaseJ
2025-11-25 22:33:00.973 +08:00 [INF] Netease heroes seeding completed: 0 added, 0 updated; total=83
2025-11-25 22:33:00.976 +08:00 [INF] Found 12 NeteaseJ files for stats in C:\Users\luolan\ASG\ASG.Api\bin\Debug\net8.0\NeteaseJ
2025-11-25 22:33:06.141 +08:00 [INF] Netease stats seeding completed: 0 added; total=20286
2025-11-25 22:33:06.173 +08:00 [INF] Starting Kestrel...
2025-11-25 22:33:28.588 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 22:33:29.012 +08:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.012 +08:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.019 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.019 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.024 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.024 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.024 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.024 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.031 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "9bc849aa-7cca-45c5-8b24-1e6035f8cd22"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.030 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "1c300bab-dc31-415b-bd1c-e86ae0242235"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.032 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "6f7395fa-5c4f-4bb6-a4d4-1a65b9131fc7"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.034 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "ec7ab68b-ffe7-46a8-a2ee-99f67b2e3cfd"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.040 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.040 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.043 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.043 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.043 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.045 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.047 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "f1b26623-b436-427b-8035-ddbede3087c7"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.050 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "632f556a-0f7b-4d78-b580-92bb543d0aba"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.051 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "99e82227-60d8-40a8-8d14-d04777d21d43"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.058 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.060 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.064 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "57156d7c-0553-4287-b1d7-67d23896cd1e"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.066 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.066 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.070 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.070 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.073 +08:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.075 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.075 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "96556324-ef03-46e4-9518-afc91b3da12f"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.077 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "070fdf8f-d85e-4985-95f3-4fe61222b109"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.078 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.079 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.084 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "67be8b61-501f-42a8-ac57-bb9548ba6279"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.085 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.086 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "57aefb8d-e80e-40dc-bf31-3db59cd4a460"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.089 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.094 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "6c238eb1-3018-404c-8c3a-4039b36efc24"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.108 +08:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.111 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.115 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "671874f1-0fe4-470d-a757-db07e8776809"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.187 +08:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:29.189 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:29.193 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "e8a06337-3ae0-4276-8dec-3664b76196f8"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:38.440 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:38.442 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:38.446 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "2c16d470-5e30-462b-add8-71545849aa63"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:45.461 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:33:45.463 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:33:45.467 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "2c16d470-5e30-462b-add8-71545849aa63"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:46:25.323 +08:00 [INF] Using URLs: http://localhost:5250
2025-11-25 22:46:25.396 +08:00 [INF] WebApplication built successfully.
2025-11-25 22:46:25.485 +08:00 [INF] SignalR hub mapped: Path=/hubs/app, AuthScheme=JWT Bearer, QueryToken=access_token for '/hubs/*'
2025-11-25 22:46:25.486 +08:00 [INF] CORS policy 'DevCors' applied: AllowAnyOrigin/AnyHeader/AnyMethod (Development)
2025-11-25 22:46:25.944 +08:00 [WRN] The foreign key property 'NeteaseHeroStat.HeroId1' was created in shadow state because a conflicting property with the simple name 'HeroId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-11-25 22:46:26.062 +08:00 [INF] EF provider: Npgsql.EntityFrameworkCore.PostgreSQL, database: idvevent
2025-11-25 22:46:26.200 +08:00 [INF] Applied schema patch for Events.CustomData, Teams.HidePlayers, Teams.HasDispute, and Users.DisplayTeamId.
2025-11-25 22:46:26.201 +08:00 [INF] Local heroes import setting: true
2025-11-25 22:46:26.202 +08:00 [INF] Local heroes overwrite setting: false
2025-11-25 22:46:26.202 +08:00 [INF] Local stats import setting: true
2025-11-25 22:46:26.202 +08:00 [INF] Local stats overwrite setting: false
2025-11-25 22:46:26.204 +08:00 [INF] Found 12 NeteaseJ files in C:\Users\luolan\ASG\ASG.Api\bin\Debug\net8.0\NeteaseJ
2025-11-25 22:46:26.606 +08:00 [INF] Netease heroes seeding completed: 0 added, 0 updated; total=83
2025-11-25 22:46:26.608 +08:00 [INF] Found 12 NeteaseJ files for stats in C:\Users\luolan\ASG\ASG.Api\bin\Debug\net8.0\NeteaseJ
2025-11-25 22:46:31.457 +08:00 [INF] Netease stats seeding completed: 0 added; total=20286
2025-11-25 22:46:31.480 +08:00 [INF] Starting Kestrel...
2025-11-25 22:46:47.788 +08:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:46:47.800 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:46:47.807 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "2c16d470-5e30-462b-add8-71545849aa63"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:47:20.096 +08:00 [INF] User logged in successfully: luolan233@outlook.com
2025-11-25 22:47:20.247 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CommunityPostId", t0."CreatedAt", t0."Description", t0."DisputeDetail", t0."HasDispute", t0."HidePlayers", t0."InviteExpiresAt", t0."InviteToken", t0."Likes", t0."Name", t0."OwnerId", t0."Password", t0."QqNumber", t0."UpdatedAt", t0."UserId", t0."Id0", p."Id", p."CreatedAt", p."Description", p."GameId", p."GameRank", p."Name", p."PlayerType", p."TeamId", p."UpdatedAt", p."UserId", t0."AccessFailedCount", t0."ConcurrencyStamp", t0."CreatedAt0", t0."DisplayTeamId", t0."Email", t0."EmailConfirmed", t0."EmailCredits", t0."FirstName", t0."IsActive", t0."LastName", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."Role", t0."SecurityStamp", t0."TeamId", t0."TwoFactorEnabled", t0."UpdatedAt0", t0."UserName"
FROM (
    SELECT t."Id", t."CommunityPostId", t."CreatedAt", t."Description", t."DisputeDetail", t."HasDispute", t."HidePlayers", t."InviteExpiresAt", t."InviteToken", t."Likes", t."Name", t."OwnerId", t."Password", t."QqNumber", t."UpdatedAt", t."UserId", u."Id" AS "Id0", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt" AS "CreatedAt0", u."DisplayTeamId", u."Email", u."EmailConfirmed", u."EmailCredits", u."FirstName", u."IsActive", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."Role", u."SecurityStamp", u."TeamId", u."TwoFactorEnabled", u."UpdatedAt" AS "UpdatedAt0", u."UserName"
    FROM "Teams" AS t
    LEFT JOIN "Users" AS u ON t."OwnerId" = u."Id"
    WHERE t."Id" = @__id_0
    LIMIT 1
) AS t0
LEFT JOIN "Players" AS p ON t0."Id" = p."TeamId"
ORDER BY t0."Id", t0."Id0"
2025-11-25 22:47:20.249 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:47:20.253 +08:00 [ERR] 获取战队详情时发生错误，战队ID: "790aafae-daab-4361-a579-82042c222c42"
Npgsql.PostgresException (0x80004005): 42703: 字段 p.PlayerType 不存在

POSITION: 350
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ASG.Api.Repositories.TeamRepository.GetTeamByIdWithPlayersAsync(Guid id) in C:\Users\luolan\ASG\ASG.Api\Repositories\TeamRepository.cs:line 62
   at ASG.Api.Services.TeamService.GetTeamByIdAsync(Guid id, String userId) in C:\Users\luolan\ASG\ASG.Api\Services\TeamService.cs:line 55
   at ASG.Api.Controllers.TeamsController.GetTeam(Guid id) in C:\Users\luolan\ASG\ASG.Api\Controllers\TeamsController.cs:line 123
  Exception data:
    Severity: 错误
    SqlState: 42703
    MessageText: 字段 p.PlayerType 不存在
    Position: 350
    File: parse_relation.c
    Line: 3827
    Routine: errorMissingColumn
2025-11-25 22:49:56.044 +08:00 [INF] Using URLs: http://localhost:5250
2025-11-25 22:49:56.567 +08:00 [WRN] The foreign key property 'NeteaseHeroStat.HeroId1' was created in shadow state because a conflicting property with the simple name 'HeroId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-11-25 22:49:57.100 +08:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" DROP CONSTRAINT "FK_Users_Teams_TeamId";
2025-11-25 22:50:47.384 +08:00 [INF] Using URLs: http://localhost:5250
2025-11-25 22:50:47.892 +08:00 [WRN] The foreign key property 'NeteaseHeroStat.HeroId1' was created in shadow state because a conflicting property with the simple name 'HeroId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-11-25 22:50:48.425 +08:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" DROP CONSTRAINT "FK_Users_Teams_TeamId";
2025-11-25 22:51:20.556 +08:00 [INF] Using URLs: http://localhost:5250
2025-11-25 22:51:20.626 +08:00 [INF] WebApplication built successfully.
2025-11-25 22:51:20.708 +08:00 [INF] SignalR hub mapped: Path=/hubs/app, AuthScheme=JWT Bearer, QueryToken=access_token for '/hubs/*'
2025-11-25 22:51:20.708 +08:00 [INF] CORS policy 'DevCors' applied: AllowAnyOrigin/AnyHeader/AnyMethod (Development)
2025-11-25 22:51:21.147 +08:00 [WRN] The foreign key property 'NeteaseHeroStat.HeroId1' was created in shadow state because a conflicting property with the simple name 'HeroId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-11-25 22:51:21.263 +08:00 [INF] EF provider: Npgsql.EntityFrameworkCore.PostgreSQL, database: idvevent
2025-11-25 22:51:21.515 +08:00 [INF] Applied schema patch for Events.CustomData, Teams.HidePlayers, Teams.HasDispute, and Users.DisplayTeamId.
2025-11-25 22:51:21.683 +08:00 [INF] EF Migrations (normal path): Pending=7, Applied=3
2025-11-25 22:51:21.684 +08:00 [INF] Pending migrations (normal path): 20251123081317_AddPingFeng, 20251123083456_AddNewPingFeng, 20251123134215_AddEventQqGroupAndRulesMarkdown, 20251123155540_AddRulesAndRegistrationFeatures, 20251124025149_AddZiDingYiform, 20251124034234_AddNextRoundScheduling, 20251125143138_AddPlayerTypeToPlayer
2025-11-25 22:51:21.903 +08:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" DROP CONSTRAINT "FK_Users_Teams_TeamId";
2025-11-25 22:51:21.907 +08:00 [WRN] Database migration failed on normal path.
Npgsql.PostgresException (0x80004005): 42704: 关系 "Users" 的 约束"FK_Users_Teams_TeamId" 不存在
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in C:\Users\luolan\ASG\ASG.Api\Program.cs:line 488
  Exception data:
    Severity: 错误
    SqlState: 42704
    MessageText: 关系 "Users" 的 约束"FK_Users_Teams_TeamId" 不存在
    File: tablecmds.c
    Line: 14048
    Routine: ATExecDropConstraint
2025-11-25 22:51:21.914 +08:00 [INF] Local heroes import setting: true
2025-11-25 22:51:21.915 +08:00 [INF] Local heroes overwrite setting: false
2025-11-25 22:51:21.915 +08:00 [INF] Local stats import setting: true
2025-11-25 22:51:21.915 +08:00 [INF] Local stats overwrite setting: false
2025-11-25 22:51:21.918 +08:00 [INF] Found 12 NeteaseJ files in C:\Users\luolan\ASG\ASG.Api\bin\Debug\net8.0\NeteaseJ
2025-11-25 22:51:22.182 +08:00 [INF] Netease heroes seeding completed: 0 added, 0 updated; total=83
2025-11-25 22:51:22.184 +08:00 [INF] Found 12 NeteaseJ files for stats in C:\Users\luolan\ASG\ASG.Api\bin\Debug\net8.0\NeteaseJ
2025-11-25 22:51:26.989 +08:00 [INF] Netease stats seeding completed: 0 added; total=20286
2025-11-25 22:51:27.013 +08:00 [INF] Starting Kestrel...
2025-11-25 22:53:16.223 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 22:56:54.593 +08:00 [INF] Using URLs: http://localhost:5250
2025-11-25 22:56:54.663 +08:00 [INF] WebApplication built successfully.
2025-11-25 22:56:54.746 +08:00 [INF] SignalR hub mapped: Path=/hubs/app, AuthScheme=JWT Bearer, QueryToken=access_token for '/hubs/*'
2025-11-25 22:56:54.746 +08:00 [INF] CORS policy 'DevCors' applied: AllowAnyOrigin/AnyHeader/AnyMethod (Development)
2025-11-25 22:56:55.186 +08:00 [WRN] The foreign key property 'NeteaseHeroStat.HeroId1' was created in shadow state because a conflicting property with the simple name 'HeroId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-11-25 22:56:55.294 +08:00 [INF] EF provider: Npgsql.EntityFrameworkCore.PostgreSQL, database: idvevent
2025-11-25 22:56:55.424 +08:00 [INF] Applied schema patch for Events.CustomData, Teams.HidePlayers, Teams.HasDispute, and Users.DisplayTeamId.
2025-11-25 22:56:55.588 +08:00 [INF] EF Migrations (normal path): Pending=7, Applied=3
2025-11-25 22:56:55.589 +08:00 [INF] Pending migrations (normal path): 20251123081317_AddPingFeng, 20251123083456_AddNewPingFeng, 20251123134215_AddEventQqGroupAndRulesMarkdown, 20251123155540_AddRulesAndRegistrationFeatures, 20251124025149_AddZiDingYiform, 20251124034234_AddNextRoundScheduling, 20251125143138_AddPlayerTypeToPlayer
2025-11-25 22:56:55.810 +08:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" DROP CONSTRAINT "FK_Users_Teams_TeamId";
2025-11-25 22:56:55.813 +08:00 [WRN] Database migration failed on normal path.
Npgsql.PostgresException (0x80004005): 42704: 关系 "Users" 的 约束"FK_Users_Teams_TeamId" 不存在
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in C:\Users\luolan\ASG\ASG.Api\Program.cs:line 488
  Exception data:
    Severity: 错误
    SqlState: 42704
    MessageText: 关系 "Users" 的 约束"FK_Users_Teams_TeamId" 不存在
    File: tablecmds.c
    Line: 14048
    Routine: ATExecDropConstraint
2025-11-25 22:56:55.821 +08:00 [INF] Local heroes import setting: true
2025-11-25 22:56:55.821 +08:00 [INF] Local heroes overwrite setting: false
2025-11-25 22:56:55.821 +08:00 [INF] Local stats import setting: true
2025-11-25 22:56:55.821 +08:00 [INF] Local stats overwrite setting: false
2025-11-25 22:56:55.823 +08:00 [INF] Found 12 NeteaseJ files in C:\Users\luolan\ASG\ASG.Api\bin\Debug\net8.0\NeteaseJ
2025-11-25 22:56:56.102 +08:00 [INF] Netease heroes seeding completed: 0 added, 0 updated; total=83
2025-11-25 22:56:56.106 +08:00 [INF] Found 12 NeteaseJ files for stats in C:\Users\luolan\ASG\ASG.Api\bin\Debug\net8.0\NeteaseJ
2025-11-25 22:57:01.079 +08:00 [INF] Netease stats seeding completed: 0 added; total=20286
2025-11-25 22:57:01.101 +08:00 [INF] Starting Kestrel...
2025-11-25 22:57:43.780 +08:00 [INF] Using URLs: http://localhost:5250
2025-11-25 22:57:43.846 +08:00 [INF] WebApplication built successfully.
2025-11-25 22:57:43.938 +08:00 [INF] SignalR hub mapped: Path=/hubs/app, AuthScheme=JWT Bearer, QueryToken=access_token for '/hubs/*'
2025-11-25 22:57:43.938 +08:00 [INF] CORS policy 'DevCors' applied: AllowAnyOrigin/AnyHeader/AnyMethod (Development)
2025-11-25 22:57:44.411 +08:00 [WRN] The foreign key property 'NeteaseHeroStat.HeroId1' was created in shadow state because a conflicting property with the simple name 'HeroId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-11-25 22:57:44.531 +08:00 [INF] EF provider: Npgsql.EntityFrameworkCore.PostgreSQL, database: idvevent
2025-11-25 22:57:44.663 +08:00 [INF] Applied schema patch for Events.CustomData, Teams.HidePlayers, Teams.HasDispute, and Users.DisplayTeamId.
2025-11-25 22:57:44.824 +08:00 [INF] EF Migrations (normal path): Pending=7, Applied=3
2025-11-25 22:57:44.825 +08:00 [INF] Pending migrations (normal path): 20251123081317_AddPingFeng, 20251123083456_AddNewPingFeng, 20251123134215_AddEventQqGroupAndRulesMarkdown, 20251123155540_AddRulesAndRegistrationFeatures, 20251124025149_AddZiDingYiform, 20251124034234_AddNextRoundScheduling, 20251125143138_AddPlayerTypeToPlayer
2025-11-25 22:57:45.150 +08:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" DROP CONSTRAINT "FK_Users_Teams_TeamId";
2025-11-25 22:57:45.154 +08:00 [WRN] Database migration failed on normal path.
Npgsql.PostgresException (0x80004005): 42704: 关系 "Users" 的 约束"FK_Users_Teams_TeamId" 不存在
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in C:\Users\luolan\ASG\ASG.Api\Program.cs:line 488
  Exception data:
    Severity: 错误
    SqlState: 42704
    MessageText: 关系 "Users" 的 约束"FK_Users_Teams_TeamId" 不存在
    File: tablecmds.c
    Line: 14048
    Routine: ATExecDropConstraint
2025-11-25 22:57:45.162 +08:00 [INF] Local heroes import setting: true
2025-11-25 22:57:45.162 +08:00 [INF] Local heroes overwrite setting: false
2025-11-25 22:57:45.162 +08:00 [INF] Local stats import setting: true
2025-11-25 22:57:45.162 +08:00 [INF] Local stats overwrite setting: false
2025-11-25 22:57:45.165 +08:00 [INF] Found 12 NeteaseJ files in C:\Users\luolan\ASG\ASG.Api\bin\Debug\net8.0\NeteaseJ
2025-11-25 22:57:45.447 +08:00 [INF] Netease heroes seeding completed: 0 added, 0 updated; total=83
2025-11-25 22:57:45.449 +08:00 [INF] Found 12 NeteaseJ files for stats in C:\Users\luolan\ASG\ASG.Api\bin\Debug\net8.0\NeteaseJ
2025-11-25 22:57:50.866 +08:00 [INF] Netease stats seeding completed: 0 added; total=20286
2025-11-25 22:57:50.889 +08:00 [INF] Starting Kestrel...
2025-11-25 22:58:38.601 +08:00 [INF] User logged in successfully: luolan12323@outlook.com
2025-11-25 22:59:08.438 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 22:59:41.136 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 23:04:15.287 +08:00 [INF] UpdateRegistrationFormSchema EventId="7a969545-69da-4071-8882-bfedc99b191f" Size=87
2025-11-25 23:08:23.708 +08:00 [INF] UpdateRegistrationFormSchema EventId="7a969545-69da-4071-8882-bfedc99b191f" Size=99
2025-11-25 23:08:31.531 +08:00 [INF] UpdateRegistrationFormSchema EventId="7a969545-69da-4071-8882-bfedc99b191f" Size=99
2025-11-25 23:09:21.012 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 23:09:21.012 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 23:09:21.012 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-25 23:11:01.407 +08:00 [INF] UpdateRegistrationFormSchema EventId="c6d4a284-616f-4543-b2c2-e99c6471f233" Size=99
2025-11-25 23:14:23.740 +08:00 [INF] SubmitRegistrationAnswers EventId="c6d4a284-616f-4543-b2c2-e99c6471f233" TeamId="2c16d470-5e30-462b-add8-71545849aa63" Size=140
2025-11-25 23:25:10.941 +08:00 [INF] SubmitRegistrationAnswers EventId="7a969545-69da-4071-8882-bfedc99b191f" TeamId="2c16d470-5e30-462b-add8-71545849aa63" Size=24
2025-11-25 23:30:19.403 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ASG.Api.Data.ApplicationDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-25 23:30:19.408 +08:00 [ERR] 发生未处理的异常
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ASG.Api.Repositories.EventRepository.SearchEventsAsync(String query, Int32 page, Int32 pageSize) in C:\Users\luolan\ASG\ASG.Api\Repositories\EventRepository.cs:line 54
   at ASG.Api.Services.EventService.SearchEventsAsync(String query, Int32 page, Int32 pageSize) in C:\Users\luolan\ASG\ASG.Api\Services\EventService.cs:line 600
   at ASG.Api.Controllers.SearchController.Search(String type, String query, Int32 page, Int32 pageSize) in C:\Users\luolan\ASG\ASG.Api\Controllers\SearchController.cs:line 68
   at lambda_method1785(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ASG.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\luolan\ASG\ASG.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
